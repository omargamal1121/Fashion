2025-08-07 16:20:10.009 +03:00 [INF] DB tables already exist. Exit install
2025-08-07 16:20:31.724 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-07 16:20:33.873 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-07 16:20:36.898 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-07 16:20:37.310 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-07 16:20:38.001 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-07 16:20:45.203 +03:00 [INF] Executed DbCommand (1,334ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-07 16:20:46.014 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-07 16:20:47.948 +03:00 [INF] Executed DbCommand (173ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:20:57.352 +03:00 [INF] Now listening on: http://localhost:5069
2025-08-07 16:20:58.338 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-08-07 16:20:58.907 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-08-07 16:20:58.921 +03:00 [INF] Using the following options for SQL Server job storage:
2025-08-07 16:20:58.935 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-08-07 16:20:58.938 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-07 16:20:59.461 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-07 16:20:59.579 +03:00 [INF] Server mrrobot:19116:e5ec6524 successfully announced in 91.7242 ms
2025-08-07 16:20:59.652 +03:00 [INF] Hosting environment: Development
2025-08-07 16:20:59.749 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-08-07 16:20:59.737 +03:00 [INF] Server mrrobot:19116:e5ec6524 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-07 16:20:59.887 +03:00 [INF] 1 servers were removed due to timeout
2025-08-07 16:21:01.286 +03:00 [INF] Server mrrobot:19116:e5ec6524 all the dispatchers started
2025-08-07 16:21:03.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-07 16:21:06.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 3649.4183ms
2025-08-07 16:21:11.434 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`DeletedAt` IS NOT NULL
2025-08-07 16:21:34.067 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-07 16:21:34.072 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-07 16:21:34.397 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-07 16:21:36.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2714.7388ms
2025-08-07 16:21:36.954 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 2878.9321ms
2025-08-07 16:21:37.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 2675.398ms
2025-08-07 16:21:38.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-07 16:21:39.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 648.7484ms
2025-08-07 16:21:46.121 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-07 16:21:47.779 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1708.1358ms
2025-08-07 16:21:48.423 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/favicon.ico - null null
2025-08-07 16:21:48.506 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-07 16:22:00.620 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:22:00.657 +03:00 [INF] No cached response available for this request.
2025-08-07 16:22:00.691 +03:00 [INF] The response could not be cached for this request.
2025-08-07 16:22:00.702 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/favicon.ico - 404 0 null 12278.2751ms
2025-08-07 16:22:00.759 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5069/favicon.ico, Response status code: 404
2025-08-07 16:29:20.732 +03:00 [INF] Request starting HTTP/1.1 GET http://07c99c1c2213.ngrok-free.app/ - null null
2025-08-07 16:29:20.742 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:29:20.746 +03:00 [INF] The response could not be cached for this request.
2025-08-07 16:29:20.748 +03:00 [INF] Request finished HTTP/1.1 GET http://07c99c1c2213.ngrok-free.app/ - 404 0 null 15.4694ms
2025-08-07 16:29:20.754 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://07c99c1c2213.ngrok-free.app/, Response status code: 404
2025-08-07 16:29:55.983 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json-patch+json 57
2025-08-07 16:29:55.994 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:29:56.015 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:29:56.020 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:29:56.062 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:29:56.484 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:29:56.501 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:29:56.510 +03:00 [WRN] Login failed: Email not found.
2025-08-07 16:29:56.563 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:29:56.593 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 519.0673ms
2025-08-07 16:29:56.604 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:29:56.613 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 401 653 application/json; charset=utf-8 630.6425ms
2025-08-07 16:30:25.579 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/register - null null
2025-08-07 16:30:25.584 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:30:25.586 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/register - 204 null null 7.7069ms
2025-08-07 16:30:25.752 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/register - application/json 160
2025-08-07 16:30:25.755 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:30:25.762 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:30:25.763 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-08-07 16:30:25.770 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commerce.DtoModels.AccountDtos.RegisterDto) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:30:25.796 +03:00 [INF] In RegisterAsync Method 
2025-08-07 16:30:25.802 +03:00 [INF] Executing RegisterAsync for email: ziad@gmail.com
2025-08-07 16:30:25.825 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:30:26.180 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 16:30:26.194 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:30:26.454 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-08-07 16:30:26.482 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-08-07 16:30:26.519 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-08-07 16:30:26.528 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-08-07 16:30:26.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 16:30:26.551 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:30:26.592 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-08-07 16:30:26.613 +03:00 [INF] User registered successfully.
2025-08-07 16:30:26.700 +03:00 [INF] Executing CreatedResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:30:26.709 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.RegisterAsync (E-Commerce) in 932.9199ms
2025-08-07 16:30:26.712 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-08-07 16:30:26.714 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/register - 201 786 application/json; charset=utf-8 962.2351ms
2025-08-07 16:30:35.527 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:30:35.532 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:30:35.533 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 6.1109ms
2025-08-07 16:30:35.686 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:30:35.731 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:30:35.732 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:30:35.733 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:30:35.734 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:30:35.902 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:30:35.909 +03:00 [INF] Welcome email sent successfully to ziad@gmail.com
2025-08-07 16:30:35.910 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:30:36.137 +03:00 [INF] Validation email sent successfully to ziad@gmail.com
2025-08-07 16:30:36.337 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:30:36.589 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:30:36.848 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:30:36.867 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:30:36.881 +03:00 [INF] RefreshToken Generated
2025-08-07 16:30:36.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:30:36.885 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 1140.3293ms
2025-08-07 16:30:36.892 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:30:36.895 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 1208.8465ms
2025-08-07 16:30:37.038 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:30:37.047 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:30:37.049 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 10.782ms
2025-08-07 16:30:37.190 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:30:37.217 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:30:37.290 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:30:37.339 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:30:37.348 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 157.1126ms
2025-08-07 16:30:37.355 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:30:56.643 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - null 0
2025-08-07 16:30:56.650 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:30:56.652 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:30:56.655 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:30:56.670 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-07 16:30:56.685 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 28.0069ms
2025-08-07 16:30:56.689 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:30:56.692 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 415 176 application/problem+json; charset=utf-8 49.0702ms
2025-08-07 16:31:44.214 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - null 0
2025-08-07 16:31:44.229 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:31:44.231 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:31:44.237 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:31:44.247 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-08-07 16:31:44.253 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 8.65ms
2025-08-07 16:31:44.259 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:31:44.262 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 415 176 application/problem+json; charset=utf-8 48.2482ms
2025-08-07 16:31:56.634 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:31:56.638 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:31:56.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 5.8461ms
2025-08-07 16:31:56.773 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:31:56.793 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:31:56.805 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:31:56.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:31:56.818 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 44.5207ms
2025-08-07 16:31:56.832 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:36:24.686 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:36:24.695 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:36:24.698 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 12.7719ms
2025-08-07 16:36:24.866 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:36:24.872 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:36:24.873 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:36:24.877 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:36:24.880 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:36:24.885 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:36:24.889 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:36:24.973 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:36:24.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:36:24.991 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:36:24.993 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:36:24.996 +03:00 [INF] RefreshToken Generated
2025-08-07 16:36:24.997 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:36:25.000 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 116.9145ms
2025-08-07 16:36:25.003 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:36:25.004 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 137.9334ms
2025-08-07 16:36:25.199 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:36:25.204 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:36:25.206 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 6.474ms
2025-08-07 16:36:25.338 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:36:25.343 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:36:25.345 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:36:25.349 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:36:25.355 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 17.1957ms
2025-08-07 16:36:25.364 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:36:52.831 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:36:52.839 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:36:52.841 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 9.9751ms
2025-08-07 16:36:53.018 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 47
2025-08-07 16:36:53.024 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:36:53.025 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:36:53.027 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:36:53.028 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:36:53.036 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:36:53.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:36:53.134 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 16:36:53.143 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:36:53.152 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p22='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `ImageId` = @p7, `LastVisit` = @p8, `LockoutEnabled` = @p9, `LockoutEnd` = @p10, `Name` = @p11, `NormalizedEmail` = @p12, `NormalizedUserName` = @p13, `PasswordHash` = @p14, `PhoneNumber` = @p15, `PhoneNumberConfirmed` = @p16, `ProfilePicture` = @p17, `SecurityStamp` = @p18, `TwoFactorEnabled` = @p19, `UserName` = @p20
WHERE `Id` = @p21 AND `ConcurrencyStamp` = @p22;
SELECT ROW_COUNT();
2025-08-07 16:36:53.158 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:36:53.161 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 126.4698ms
2025-08-07 16:36:53.163 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:36:53.165 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 401 718 application/json; charset=utf-8 146.9935ms
2025-08-07 16:37:01.282 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:37:01.289 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:01.292 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 10.2605ms
2025-08-07 16:37:01.440 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:37:01.448 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:01.450 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:37:01.452 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:37:01.455 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:37:01.463 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:37:01.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:37:01.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 16:37:01.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:37:01.578 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p21='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p22='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `ImageId` = @p7, `LastVisit` = @p8, `LockoutEnabled` = @p9, `LockoutEnd` = @p10, `Name` = @p11, `NormalizedEmail` = @p12, `NormalizedUserName` = @p13, `PasswordHash` = @p14, `PhoneNumber` = @p15, `PhoneNumberConfirmed` = @p16, `ProfilePicture` = @p17, `SecurityStamp` = @p18, `TwoFactorEnabled` = @p19, `UserName` = @p20
WHERE `Id` = @p21 AND `ConcurrencyStamp` = @p22;
SELECT ROW_COUNT();
2025-08-07 16:37:01.595 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:37:01.602 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 140.6692ms
2025-08-07 16:37:01.605 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:37:01.606 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 401 718 application/json; charset=utf-8 166.4584ms
2025-08-07 16:37:04.864 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:37:04.868 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:04.870 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:37:04.871 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:37:04.873 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:37:04.881 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:37:04.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:37:04.977 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 16:37:04.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:37:04.991 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p21='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p22='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `ImageId` = @p7, `LastVisit` = @p8, `LockoutEnabled` = @p9, `LockoutEnd` = @p10, `Name` = @p11, `NormalizedEmail` = @p12, `NormalizedUserName` = @p13, `PasswordHash` = @p14, `PhoneNumber` = @p15, `PhoneNumberConfirmed` = @p16, `ProfilePicture` = @p17, `SecurityStamp` = @p18, `TwoFactorEnabled` = @p19, `UserName` = @p20
WHERE `Id` = @p21 AND `ConcurrencyStamp` = @p22;
SELECT ROW_COUNT();
2025-08-07 16:37:04.998 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:37:05.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:37:05.008 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:37:05.010 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:37:05.012 +03:00 [INF] RefreshToken Generated
2025-08-07 16:37:05.013 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:37:05.017 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 137.1303ms
2025-08-07 16:37:05.020 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:37:05.022 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 157.9588ms
2025-08-07 16:37:05.195 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:37:05.199 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:05.200 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 4.2359ms
2025-08-07 16:37:05.334 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:37:05.344 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:05.348 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:37:05.352 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:37:05.357 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 23.1528ms
2025-08-07 16:37:05.365 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:37:43.989 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:37:43.993 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:43.995 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 5.7848ms
2025-08-07 16:37:44.128 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:37:44.133 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:44.138 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-07 16:37:44.145 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-08-07 16:37:44.148 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:37:44.153 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 401 null application/json 25.2697ms
2025-08-07 16:37:52.482 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:37:52.491 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:52.494 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 12.555ms
2025-08-07 16:37:52.621 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:37:52.627 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:52.629 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:37:52.630 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:37:52.632 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:37:52.638 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:37:52.642 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:37:52.729 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:37:52.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:37:52.741 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:37:52.742 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:37:52.744 +03:00 [INF] RefreshToken Generated
2025-08-07 16:37:52.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:37:52.748 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 110.2749ms
2025-08-07 16:37:52.750 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:37:52.754 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 132.9114ms
2025-08-07 16:37:52.925 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:37:52.931 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:52.933 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 7.9617ms
2025-08-07 16:37:53.130 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:37:53.137 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:37:53.139 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:37:53.142 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:37:53.150 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 19.7197ms
2025-08-07 16:37:53.156 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:39:06.766 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:39:06.772 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:39:06.775 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 8.2402ms
2025-08-07 16:39:06.906 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:39:06.922 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:39:06.925 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:39:06.929 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:39:06.933 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:39:06.945 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:39:06.950 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:39:07.047 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:39:07.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:39:07.057 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:39:07.058 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:39:07.060 +03:00 [INF] RefreshToken Generated
2025-08-07 16:39:07.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:39:07.064 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 120.2996ms
2025-08-07 16:39:07.068 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:39:07.070 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 163.9354ms
2025-08-07 16:39:07.243 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:39:07.253 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:39:07.256 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 12.5725ms
2025-08-07 16:39:07.398 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:39:07.405 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:39:07.407 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:39:07.411 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:39:07.415 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 16.9687ms
2025-08-07 16:39:07.422 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:40:49.715 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:40:49.719 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:40:49.720 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 5.0825ms
2025-08-07 16:40:49.871 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:40:49.880 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:40:49.883 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:40:49.889 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:40:49.894 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 23.3886ms
2025-08-07 16:40:49.903 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:41:05.444 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:41:05.449 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:41:05.450 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 5.8459ms
2025-08-07 16:41:05.603 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:41:05.608 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:41:05.611 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:41:05.614 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:41:05.616 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:41:05.621 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:41:05.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:41:05.708 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:41:05.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:41:05.718 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:41:05.721 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:41:05.723 +03:00 [INF] RefreshToken Generated
2025-08-07 16:41:05.725 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:41:05.728 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 108.1765ms
2025-08-07 16:41:05.731 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:41:05.733 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 130.0455ms
2025-08-07 16:41:05.947 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:41:05.954 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:41:05.956 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 9.07ms
2025-08-07 16:41:06.090 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:41:06.098 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:41:06.099 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:41:06.103 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:41:06.108 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 17.9344ms
2025-08-07 16:41:06.114 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:41:28.985 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:41:28.992 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:41:28.995 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 9.8ms
2025-08-07 16:41:29.137 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:41:29.143 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:41:29.147 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:41:29.153 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:41:29.164 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 26.401ms
2025-08-07 16:41:29.170 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:44:33.053 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:44:33.058 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:33.060 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 7.0476ms
2025-08-07 16:44:33.201 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:44:33.217 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:33.220 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:44:33.228 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:44:33.233 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 32.0091ms
2025-08-07 16:44:33.251 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:44:39.505 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:44:39.516 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:39.520 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:44:39.530 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:44:39.557 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 52.102ms
2025-08-07 16:44:39.598 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:44:42.311 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:44:42.319 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:42.323 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 11.3189ms
2025-08-07 16:44:42.450 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:44:42.454 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:42.457 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:44:42.459 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:44:42.462 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:44:42.470 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:44:42.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:44:42.571 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:44:42.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:44:42.581 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:44:42.583 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:44:42.585 +03:00 [INF] RefreshToken Generated
2025-08-07 16:44:42.587 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:44:42.593 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 123.9871ms
2025-08-07 16:44:42.595 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:44:42.597 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 146.6801ms
2025-08-07 16:44:42.741 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:44:42.747 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:42.750 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 9.3215ms
2025-08-07 16:44:42.879 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:44:42.886 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:44:42.891 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:44:42.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:44:42.902 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 22.6249ms
2025-08-07 16:44:42.913 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:46:04.138 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:46:04.150 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:46:04.153 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 14.5584ms
2025-08-07 16:46:04.293 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:46:04.300 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:46:04.303 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:46:04.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:46:04.317 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 24.3356ms
2025-08-07 16:46:04.323 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:46:23.303 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:46:23.309 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:46:23.320 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 17.2081ms
2025-08-07 16:46:23.458 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:46:23.470 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:46:23.475 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:46:23.478 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:46:23.481 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:46:23.487 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:46:23.493 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:46:23.595 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:46:23.598 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:46:23.602 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:46:23.603 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:46:23.606 +03:00 [INF] RefreshToken Generated
2025-08-07 16:46:23.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:46:23.610 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 125.8382ms
2025-08-07 16:46:23.616 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:46:23.617 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 159.5508ms
2025-08-07 16:46:23.782 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:46:23.793 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:46:23.795 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 13.6518ms
2025-08-07 16:46:23.929 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:46:23.933 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:46:23.937 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:46:23.944 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:46:23.951 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 21.9791ms
2025-08-07 16:46:23.978 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:50:08.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:50:08.901 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:50:08.902 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 8.6864ms
2025-08-07 16:50:09.072 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:50:09.080 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:50:09.083 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:50:09.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:50:09.096 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 23.7805ms
2025-08-07 16:50:09.104 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:54:13.822 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:54:13.829 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:54:13.830 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 7.5319ms
2025-08-07 16:54:13.966 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:54:13.972 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:54:13.974 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:54:13.978 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:54:13.985 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 18.8408ms
2025-08-07 16:54:13.992 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:55:44.564 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:55:44.572 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:55:44.573 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 9.4744ms
2025-08-07 16:55:44.702 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:55:44.710 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:55:44.712 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:55:44.713 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:55:44.715 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:55:44.721 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:55:44.732 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:55:44.820 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:55:44.833 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:55:44.838 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:55:44.839 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:55:44.841 +03:00 [INF] RefreshToken Generated
2025-08-07 16:55:44.843 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:55:44.845 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 126.5741ms
2025-08-07 16:55:44.854 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:55:44.857 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 154.5312ms
2025-08-07 16:55:44.998 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:55:45.004 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:55:45.006 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 7.7677ms
2025-08-07 16:55:45.133 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:55:45.140 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:55:45.141 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:55:45.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:55:45.151 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 17.7225ms
2025-08-07 16:55:45.166 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:56:36.550 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 16:56:36.558 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:56:36.560 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 10.0628ms
2025-08-07 16:56:36.696 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 49
2025-08-07 16:56:36.703 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:56:36.707 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:56:36.714 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:56:36.715 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 16:56:36.719 +03:00 [INF] In LoginAsync Method 
2025-08-07 16:56:36.731 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 16:56:36.816 +03:00 [INF] 🔐 Generating Access Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:56:36.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 16:56:36.825 +03:00 [INF] ✅ Access Token generated successfully for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:56:36.826 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b37afdf3-e321-40b8-8f2b-741162cb46f9
2025-08-07 16:56:36.828 +03:00 [INF] RefreshToken Generated
2025-08-07 16:56:36.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 16:56:36.832 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 114.889ms
2025-08-07 16:56:36.834 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 16:56:36.836 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 140.2448ms
2025-08-07 16:56:36.992 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:56:36.998 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:56:37.000 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 7.0993ms
2025-08-07 16:56:37.129 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:56:37.135 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:56:37.137 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:56:37.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:56:37.146 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 16.4624ms
2025-08-07 16:56:37.153 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:58:07.143 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:58:07.149 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:07.151 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 7.1272ms
2025-08-07 16:58:07.285 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:58:07.292 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:07.294 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:58:07.297 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:58:07.302 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 16.7827ms
2025-08-07 16:58:07.311 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:58:08.208 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:58:08.221 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:08.225 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:58:08.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:58:08.237 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 28.8683ms
2025-08-07 16:58:08.247 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:58:15.406 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:58:15.426 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:15.429 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 23.377ms
2025-08-07 16:58:15.593 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:58:15.602 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:15.604 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:58:15.612 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:58:15.617 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 24.2096ms
2025-08-07 16:58:15.626 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:58:19.339 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:58:19.357 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:19.360 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:58:19.363 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:58:19.368 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 28.2339ms
2025-08-07 16:58:19.374 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:58:26.777 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:58:26.786 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:26.788 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 10.2808ms
2025-08-07 16:58:26.919 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:58:26.926 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:26.928 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:58:26.940 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:58:26.946 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 26.6431ms
2025-08-07 16:58:26.953 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 16:58:35.536 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 16:58:35.545 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:35.548 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 12.0838ms
2025-08-07 16:58:35.679 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 16:58:35.688 +03:00 [INF] CORS policy execution successful.
2025-08-07 16:58:35.690 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 16:58:35.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 16:58:35.706 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 26.8943ms
2025-08-07 16:58:35.714 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
2025-08-07 17:07:06.084 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/register - null null
2025-08-07 17:07:06.090 +03:00 [INF] CORS policy execution successful.
2025-08-07 17:07:06.092 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/register - 204 null null 7.7844ms
2025-08-07 17:07:06.218 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/register - application/json 162
2025-08-07 17:07:06.225 +03:00 [INF] CORS policy execution successful.
2025-08-07 17:07:06.235 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 17:07:06.238 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-08-07 17:07:06.249 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commerce.DtoModels.AccountDtos.RegisterDto) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 17:07:06.268 +03:00 [INF] In RegisterAsync Method 
2025-08-07 17:07:06.271 +03:00 [INF] Executing RegisterAsync for email: aom630619@gmail.com
2025-08-07 17:07:06.286 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 17:07:06.390 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 17:07:06.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 17:07:06.405 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-08-07 17:07:06.410 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-08-07 17:07:06.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-08-07 17:07:06.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-08-07 17:07:06.428 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-07 17:07:06.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 17:07:06.447 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-08-07 17:07:06.458 +03:00 [INF] User registered successfully.
2025-08-07 17:07:06.503 +03:00 [INF] Executing CreatedResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 17:07:06.506 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.RegisterAsync (E-Commerce) in 252.064ms
2025-08-07 17:07:06.508 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-08-07 17:07:06.510 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/register - 201 788 application/json; charset=utf-8 291.9906ms
2025-08-07 17:07:09.191 +03:00 [INF] Welcome email sent successfully to aom630619@gmail.com
2025-08-07 17:07:09.462 +03:00 [INF] Validation email sent successfully to aom630619@gmail.com
2025-08-07 17:08:09.378 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - null null
2025-08-07 17:08:09.385 +03:00 [INF] CORS policy execution successful.
2025-08-07 17:08:09.387 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/Account/login - 204 null null 8.7901ms
2025-08-07 17:08:09.515 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - application/json 54
2025-08-07 17:08:09.523 +03:00 [INF] CORS policy execution successful.
2025-08-07 17:08:09.530 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 17:08:09.533 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 17:08:09.541 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-07 17:08:09.549 +03:00 [INF] In LoginAsync Method 
2025-08-07 17:08:09.557 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-07 17:08:09.658 +03:00 [INF] 🔐 Generating Access Token for User ID: 190ee3b1-a5d2-4ea3-8094-ef1b5dfc1c2b
2025-08-07 17:08:09.673 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-07 17:08:09.678 +03:00 [INF] ✅ Access Token generated successfully for User ID: 190ee3b1-a5d2-4ea3-8094-ef1b5dfc1c2b
2025-08-07 17:08:09.681 +03:00 [INF] 🔑 Generating Refresh Token for User ID: 190ee3b1-a5d2-4ea3-8094-ef1b5dfc1c2b
2025-08-07 17:08:09.683 +03:00 [INF] RefreshToken Generated
2025-08-07 17:08:09.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-07 17:08:09.686 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 138.9722ms
2025-08-07 17:08:09.693 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-07 17:08:09.699 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/Account/login - 200 1467 application/json; charset=utf-8 184.6606ms
2025-08-07 17:08:09.855 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - null null
2025-08-07 17:08:09.862 +03:00 [INF] CORS policy execution successful.
2025-08-07 17:08:09.864 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://07c99c1c2213.ngrok-free.app/api/cart/get - 204 null null 9.0314ms
2025-08-07 17:08:09.998 +03:00 [INF] Request starting HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - application/json 2
2025-08-07 17:08:10.016 +03:00 [INF] CORS policy execution successful.
2025-08-07 17:08:10.020 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-07 17:08:10.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-07 17:08:10.038 +03:00 [INF] Request finished HTTP/1.1 POST http://07c99c1c2213.ngrok-free.app/api/cart/get - 404 0 null 39.4429ms
2025-08-07 17:08:10.053 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://07c99c1c2213.ngrok-free.app/api/cart/get, Response status code: 404
