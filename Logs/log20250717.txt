2025-07-17 16:46:40.050 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 16:48:59.209 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 16:49:17.696 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 17:11:15.160 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 17:11:16.595 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:11:16.612 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:11:27.713 +03:00 [ERR] Failed executing DbCommand (10,967ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 17:14:40.272 +03:00 [ERR] An error occurred using the connection to database '' on server 'localhost'.
2025-07-17 17:14:53.318 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:14:53.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:14:53.481 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 17:14:53.515 +03:00 [INF] Applying migration '20250717141410_intial'.
2025-07-17 17:14:53.888 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-17 17:14:53.897 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoles` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoles` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:18.134 +03:00 [INF] Executed DbCommand (3,525ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE `Fashion_Site`;
2025-07-17 17:15:23.144 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `Fashion_Site`;
2025-07-17 17:15:23.411 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.445 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:15:23.456 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 17:15:23.481 +03:00 [INF] Applying migration '20250717141410_intial'.
2025-07-17 17:15:23.739 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-17 17:15:23.760 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoles` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoles` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.773 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Collections` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NULL,
    `DisplayOrder` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Collections` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.787 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `PaymentMethods` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_PaymentMethods` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.805 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Warehouses` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Address` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `Phone` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Email` varchar(100) CHARACTER SET utf8mb4 NULL,
    `Description` varchar(500) CHARACTER SET utf8mb4 NULL,
    `IsActive` tinyint(1) NOT NULL,
    `ManagerName` longtext CHARACTER SET utf8mb4 NULL,
    `ManagerPhone` longtext CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Warehouses` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.837 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoleClaims` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `RoleId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ClaimType` longtext CHARACTER SET utf8mb4 NULL,
    `ClaimValue` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoleClaims` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_AspNetRoleClaims_AspNetRoles_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `AspNetRoles` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.885 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `PaymentProviders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `ApiEndpoint` varchar(100) CHARACTER SET utf8mb4 NOT NULL,
    `PublicKey` varchar(200) CHARACTER SET utf8mb4 NULL,
    `PrivateKey` varchar(200) CHARACTER SET utf8mb4 NULL,
    `PaymentMethodId` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_PaymentProviders` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_PaymentProviders_PaymentMethods_PaymentMethodId` FOREIGN KEY (`PaymentMethodId`) REFERENCES `PaymentMethods` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.897 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `adminOperationsLogs` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `AdminId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `OperationType` int NOT NULL,
    `ItemId` int NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Timestamp` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_adminOperationsLogs` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.928 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserClaims` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ClaimType` longtext CHARACTER SET utf8mb4 NULL,
    `ClaimValue` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetUserClaims` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:23.964 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserLogins` (
    `LoginProvider` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ProviderKey` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ProviderDisplayName` longtext CHARACTER SET utf8mb4 NULL,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_AspNetUserLogins` PRIMARY KEY (`LoginProvider`, `ProviderKey`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.022 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserRoles` (
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `RoleId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_AspNetUserRoles` PRIMARY KEY (`UserId`, `RoleId`),
    CONSTRAINT `FK_AspNetUserRoles_AspNetRoles_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `AspNetRoles` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.087 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUsers` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Discriminator` varchar(13) CHARACTER SET utf8mb4 NOT NULL,
    `Name` longtext CHARACTER SET utf8mb4 NULL,
    `Age` int NULL,
    `ProfilePicture` longtext CHARACTER SET utf8mb4 NULL,
    `CreateAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    `LastVisit` datetime(6) NULL,
    `ImageId` int NULL,
    `UserName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedUserName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `Email` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedEmail` varchar(256) CHARACTER SET utf8mb4 NULL,
    `EmailConfirmed` tinyint(1) NOT NULL,
    `PasswordHash` longtext CHARACTER SET utf8mb4 NULL,
    `SecurityStamp` longtext CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    `PhoneNumber` longtext CHARACTER SET utf8mb4 NULL,
    `PhoneNumberConfirmed` tinyint(1) NOT NULL,
    `TwoFactorEnabled` tinyint(1) NOT NULL,
    `LockoutEnd` datetime(6) NULL,
    `LockoutEnabled` tinyint(1) NOT NULL,
    `AccessFailedCount` int NOT NULL,
    CONSTRAINT `PK_AspNetUsers` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.139 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserTokens` (
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `LoginProvider` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Value` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetUserTokens` PRIMARY KEY (`UserId`, `LoginProvider`, `Name`),
    CONSTRAINT `FK_AspNetUserTokens_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.179 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Cart` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` longtext CHARACTER SET utf8mb4 NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Cart` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Cart_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.215 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CustomerAddresses` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `FirstName` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `LastName` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `PhoneNumber` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Country` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `State` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `City` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `StreetAddress` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `ApartmentSuite` varchar(100) CHARACTER SET utf8mb4 NULL,
    `PostalCode` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `AddressType` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `IsDefault` tinyint(1) NOT NULL,
    `AdditionalNotes` varchar(500) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_CustomerAddresses` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_CustomerAddresses_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.764 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Orders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `OrderNumber` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Status` int NOT NULL,
    `Subtotal` decimal(18,2) NOT NULL,
    `TaxAmount` decimal(18,2) NOT NULL,
    `ShippingCost` decimal(18,2) NOT NULL,
    `DiscountAmount` decimal(18,2) NOT NULL,
    `Total` decimal(18,2) NOT NULL,
    `Notes` varchar(500) CHARACTER SET utf8mb4 NULL,
    `ShippedAt` datetime(6) NULL,
    `DeliveredAt` datetime(6) NULL,
    `CancelledAt` datetime(6) NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Orders` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Orders_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.799 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `userOperationsLogs` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `OperationType` int NOT NULL,
    `ItemId` int NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Timestamp` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_userOperationsLogs` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_userOperationsLogs_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.831 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Payments` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `PaymentMethodId` int NOT NULL,
    `PaymentProviderId` int NOT NULL,
    `Amount` decimal(18,2) NOT NULL,
    `PaymentDate` datetime(6) NOT NULL,
    `OrderId` int NOT NULL,
    `Status` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Payments` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Payments_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Payments_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Payments_PaymentMethods_PaymentMethodId` FOREIGN KEY (`PaymentMethodId`) REFERENCES `PaymentMethods` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Payments_PaymentProviders_PaymentProviderId` FOREIGN KEY (`PaymentProviderId`) REFERENCES `PaymentProviders` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.899 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ReturnRequests` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `RequestDate` datetime(6) NOT NULL,
    `Status` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Reason` longtext CHARACTER SET utf8mb4 NOT NULL,
    `AdminComment` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_ReturnRequests` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ReturnRequests_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ReturnRequests_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:24.935 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CartItems` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CartId` int NOT NULL,
    `ProductId` int NOT NULL,
    `ProductVariantId` int NULL,
    `Quantity` int NOT NULL,
    `AddedAt` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_CartItems` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_CartItems_Cart_CartId` FOREIGN KEY (`CartId`) REFERENCES `Cart` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:25.391 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Categories` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `DisplayOrder` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `ImageId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Categories` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:25.436 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Discount` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `DiscountPercent` decimal(18,2) NOT NULL,
    `StartDate` datetime(6) NOT NULL,
    `EndDate` datetime(6) NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CategoryId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Discount` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Discount_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:25.475 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Images` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Url` longtext CHARACTER SET utf8mb4 NOT NULL,
    `AltText` longtext CHARACTER SET utf8mb4 NULL,
    `Title` longtext CHARACTER SET utf8mb4 NULL,
    `Width` int NULL,
    `Height` int NULL,
    `FileSize` bigint NULL,
    `UploadDate` datetime(6) NOT NULL,
    `Folder` longtext CHARACTER SET utf8mb4 NULL,
    `IsMain` tinyint(1) NOT NULL,
    `FileType` longtext CHARACTER SET utf8mb4 NULL,
    `CategoryId` int NULL,
    `SubCategoryId` int NULL,
    `ProductId` int NULL,
    `CollectionId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Images` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Images_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`) ON DELETE SET NULL,
    CONSTRAINT `FK_Images_Collections_CollectionId` FOREIGN KEY (`CollectionId`) REFERENCES `Collections` (`Id`) ON DELETE SET NULL
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:25.512 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `SubCategories` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `CategoryId` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `ImageId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_SubCategories` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_SubCategories_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_SubCategories_Images_ImageId` FOREIGN KEY (`ImageId`) REFERENCES `Images` (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:25.563 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Products` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `SubCategoryId` int NOT NULL,
    `Quantity` int NOT NULL,
    `DiscountId` int NULL,
    `Price` decimal(18,2) NOT NULL,
    `fitType` int NULL,
    `Gender` int NOT NULL,
    `ImageId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Products` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Products_Discount_DiscountId` FOREIGN KEY (`DiscountId`) REFERENCES `Discount` (`Id`) ON DELETE SET NULL,
    CONSTRAINT `FK_Products_Images_ImageId` FOREIGN KEY (`ImageId`) REFERENCES `Images` (`Id`),
    CONSTRAINT `FK_Products_SubCategories_SubCategoryId` FOREIGN KEY (`SubCategoryId`) REFERENCES `SubCategories` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.017 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Items` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `ProductId` int NOT NULL,
    `Quantity` int NOT NULL,
    `AddedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_Items` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Items_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Items_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.067 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductCollections` (
    `ProductId` int NOT NULL,
    `CollectionId` int NOT NULL,
    CONSTRAINT `PK_ProductCollections` PRIMARY KEY (`ProductId`, `CollectionId`),
    CONSTRAINT `FK_ProductCollections_Collections_CollectionId` FOREIGN KEY (`CollectionId`) REFERENCES `Collections` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ProductCollections_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.118 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductInventory` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `ProductId` int NOT NULL,
    `WarehouseId` int NOT NULL,
    `Quantity` int NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_ProductInventory` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ProductInventory_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ProductInventory_Warehouses_WarehouseId` FOREIGN KEY (`WarehouseId`) REFERENCES `Warehouses` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.156 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductVariants` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Color` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Size` longtext CHARACTER SET utf8mb4 NULL,
    `Waist` int NULL,
    `Length` int NULL,
    `FitType` int NULL,
    `Quantity` int NOT NULL,
    `ProductId` int NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_ProductVariants` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ProductVariants_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.199 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ReturnRequestProducts` (
    `ReturnRequestId` int NOT NULL,
    `ProductId` int NOT NULL,
    `Quantity` int NOT NULL,
    CONSTRAINT `PK_ReturnRequestProducts` PRIMARY KEY (`ReturnRequestId`, `ProductId`),
    CONSTRAINT `FK_ReturnRequestProducts_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ReturnRequestProducts_ReturnRequests_ReturnRequestId` FOREIGN KEY (`ReturnRequestId`) REFERENCES `ReturnRequests` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.254 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Reviews` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `ProductId` int NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Rating` int NOT NULL,
    `Comment` varchar(1000) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_Reviews` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Reviews_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Reviews_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.796 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `WishlistItems` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `ProductId` int NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_WishlistItems` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_WishlistItems_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_WishlistItems_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.854 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OrderItem` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `ProductId` int NOT NULL,
    `ProductVariantId` int NULL,
    `Quantity` int NOT NULL,
    `UnitPrice` decimal(18,2) NOT NULL,
    `TotalPrice` decimal(18,2) NOT NULL,
    `OrderedAt` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_OrderItem` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_OrderItem_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_OrderItem_ProductVariants_ProductVariantId` FOREIGN KEY (`ProductVariantId`) REFERENCES `ProductVariants` (`Id`) ON DELETE SET NULL,
    CONSTRAINT `FK_OrderItem_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-07-17 17:15:26.921 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_adminOperationsLogs_AdminId` ON `adminOperationsLogs` (`AdminId`);
2025-07-17 17:15:26.968 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetRoleClaims_RoleId` ON `AspNetRoleClaims` (`RoleId`);
2025-07-17 17:15:27.001 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `RoleNameIndex` ON `AspNetRoles` (`NormalizedName`);
2025-07-17 17:15:27.041 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserClaims_UserId` ON `AspNetUserClaims` (`UserId`);
2025-07-17 17:15:27.081 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserLogins_UserId` ON `AspNetUserLogins` (`UserId`);
2025-07-17 17:15:27.122 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserRoles_RoleId` ON `AspNetUserRoles` (`RoleId`);
2025-07-17 17:15:27.151 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `EmailIndex` ON `AspNetUsers` (`NormalizedEmail`);
2025-07-17 17:15:27.177 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUsers_ImageId` ON `AspNetUsers` (`ImageId`);
2025-07-17 17:15:27.207 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `UserNameIndex` ON `AspNetUsers` (`NormalizedUserName`);
2025-07-17 17:15:27.245 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Cart_CustomerId` ON `Cart` (`CustomerId`);
2025-07-17 17:15:27.300 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CartItems_CartId` ON `CartItems` (`CartId`);
2025-07-17 17:15:27.340 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CartItems_ProductId` ON `CartItems` (`ProductId`);
2025-07-17 17:15:27.410 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CartItems_ProductVariantId` ON `CartItems` (`ProductVariantId`);
2025-07-17 17:15:27.485 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Categories_ImageId` ON `Categories` (`ImageId`);
2025-07-17 17:15:27.540 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CustomerAddresses_CustomerId` ON `CustomerAddresses` (`CustomerId`);
2025-07-17 17:15:27.574 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Discount_CategoryId` ON `Discount` (`CategoryId`);
2025-07-17 17:15:27.602 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_CategoryId` ON `Images` (`CategoryId`);
2025-07-17 17:15:27.636 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_CollectionId` ON `Images` (`CollectionId`);
2025-07-17 17:15:27.673 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_ProductId` ON `Images` (`ProductId`);
2025-07-17 17:15:27.688 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_SubCategoryId` ON `Images` (`SubCategoryId`);
2025-07-17 17:15:27.709 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Items_OrderId` ON `Items` (`OrderId`);
2025-07-17 17:15:27.739 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Items_ProductId` ON `Items` (`ProductId`);
2025-07-17 17:15:27.767 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderItem_OrderId` ON `OrderItem` (`OrderId`);
2025-07-17 17:15:27.790 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderItem_ProductId` ON `OrderItem` (`ProductId`);
2025-07-17 17:15:27.810 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderItem_ProductVariantId` ON `OrderItem` (`ProductVariantId`);
2025-07-17 17:15:27.844 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Orders_CustomerId` ON `Orders` (`CustomerId`);
2025-07-17 17:15:27.887 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_PaymentProviders_PaymentMethodId` ON `PaymentProviders` (`PaymentMethodId`);
2025-07-17 17:15:27.916 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Payments_CustomerId` ON `Payments` (`CustomerId`);
2025-07-17 17:15:27.941 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_Payments_OrderId` ON `Payments` (`OrderId`);
2025-07-17 17:15:27.964 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Payments_PaymentMethodId` ON `Payments` (`PaymentMethodId`);
2025-07-17 17:15:27.986 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Payments_PaymentProviderId` ON `Payments` (`PaymentProviderId`);
2025-07-17 17:15:28.024 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductCollections_CollectionId` ON `ProductCollections` (`CollectionId`);
2025-07-17 17:15:28.054 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductInventory_ProductId` ON `ProductInventory` (`ProductId`);
2025-07-17 17:15:28.075 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductInventory_WarehouseId` ON `ProductInventory` (`WarehouseId`);
2025-07-17 17:15:28.100 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_DiscountId` ON `Products` (`DiscountId`);
2025-07-17 17:15:28.115 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_ImageId` ON `Products` (`ImageId`);
2025-07-17 17:15:28.151 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_SubCategoryId` ON `Products` (`SubCategoryId`);
2025-07-17 17:15:28.177 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductVariants_ProductId` ON `ProductVariants` (`ProductId`);
2025-07-17 17:15:28.197 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ReturnRequestProducts_ProductId` ON `ReturnRequestProducts` (`ProductId`);
2025-07-17 17:15:28.225 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ReturnRequests_CustomerId` ON `ReturnRequests` (`CustomerId`);
2025-07-17 17:15:28.240 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ReturnRequests_OrderId` ON `ReturnRequests` (`OrderId`);
2025-07-17 17:15:28.273 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Reviews_CustomerId` ON `Reviews` (`CustomerId`);
2025-07-17 17:15:28.298 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Reviews_ProductId` ON `Reviews` (`ProductId`);
2025-07-17 17:15:28.317 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_SubCategories_CategoryId` ON `SubCategories` (`CategoryId`);
2025-07-17 17:15:28.335 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_SubCategories_ImageId` ON `SubCategories` (`ImageId`);
2025-07-17 17:15:28.382 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_userOperationsLogs_UserId` ON `userOperationsLogs` (`UserId`);
2025-07-17 17:15:28.407 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_WishlistItems_CustomerId` ON `WishlistItems` (`CustomerId`);
2025-07-17 17:15:28.434 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_WishlistItems_ProductId` ON `WishlistItems` (`ProductId`);
2025-07-17 17:15:28.645 +03:00 [INF] Executed DbCommand (211ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `adminOperationsLogs` ADD CONSTRAINT `FK_adminOperationsLogs_AspNetUsers_AdminId` FOREIGN KEY (`AdminId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT;
2025-07-17 17:15:28.718 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `AspNetUserClaims` ADD CONSTRAINT `FK_AspNetUserClaims_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE;
2025-07-17 17:15:28.790 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `AspNetUserLogins` ADD CONSTRAINT `FK_AspNetUserLogins_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE;
2025-07-17 17:15:28.884 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `AspNetUserRoles` ADD CONSTRAINT `FK_AspNetUserRoles_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE;
2025-07-17 17:15:28.953 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `AspNetUsers` ADD CONSTRAINT `FK_AspNetUsers_Images_ImageId` FOREIGN KEY (`ImageId`) REFERENCES `Images` (`Id`) ON DELETE SET NULL;
2025-07-17 17:15:29.016 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CartItems` ADD CONSTRAINT `FK_CartItems_ProductVariants_ProductVariantId` FOREIGN KEY (`ProductVariantId`) REFERENCES `ProductVariants` (`Id`) ON DELETE SET NULL;
2025-07-17 17:15:29.093 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `CartItems` ADD CONSTRAINT `FK_CartItems_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT;
2025-07-17 17:15:29.157 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Categories` ADD CONSTRAINT `FK_Categories_Images_ImageId` FOREIGN KEY (`ImageId`) REFERENCES `Images` (`Id`);
2025-07-17 17:15:29.236 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Images` ADD CONSTRAINT `FK_Images_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT;
2025-07-17 17:15:29.312 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Images` ADD CONSTRAINT `FK_Images_SubCategories_SubCategoryId` FOREIGN KEY (`SubCategoryId`) REFERENCES `SubCategories` (`Id`) ON DELETE SET NULL;
2025-07-17 17:15:29.316 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250717141410_intial', '8.0.13');
2025-07-17 17:15:34.025 +03:00 [INF] Start installing Hangfire SQL objects...
2025-07-17 17:15:34.494 +03:00 [INF] Hangfire SQL objects installed.
2025-07-17 17:15:36.292 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:15:36.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 17:15:36.346 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 17:15:36.396 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 17:15:36.445 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 17:15:36.888 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 17:15:36.923 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 17:15:37.119 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetRoles` (`Id`, `ConcurrencyStamp`, `Name`, `NormalizedName`)
VALUES (@p0, @p1, @p2, @p3);
2025-07-17 17:15:37.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 17:15:37.147 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 17:15:37.163 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetRoles` (`Id`, `ConcurrencyStamp`, `Name`, `NormalizedName`)
VALUES (@p0, @p1, @p2, @p3);
2025-07-17 17:15:37.205 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 17:15:37.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-07-17 17:15:37.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 17:15:37.532 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-07-17 17:15:37.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-07-17 17:15:37.610 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-07-17 17:15:37.623 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-07-17 17:15:37.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-07-17 17:15:37.671 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 17:15:37.736 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-07-17 17:15:38.919 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 17:15:38.922 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 17:15:39.039 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 17:15:39.065 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 17:15:39.068 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 17:15:39.072 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 17:15:39.075 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 17:15:39.103 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 17:15:39.106 +03:00 [INF] Hosting environment: Development
2025-07-17 17:15:39.108 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 17:15:39.129 +03:00 [INF] Server mrrobot:2484:9c5ac4f8 successfully announced in 24.1343 ms
2025-07-17 17:15:39.138 +03:00 [INF] Server mrrobot:2484:9c5ac4f8 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 17:15:39.236 +03:00 [INF] Server mrrobot:2484:9c5ac4f8 all the dispatchers started
2025-07-17 17:15:41.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger - null null
2025-07-17 17:15:41.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger - 301 0 null 412.7877ms
2025-07-17 17:15:41.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 17:15:41.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 125.3535ms
2025-07-17 17:15:41.701 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/swagger-ui.css - null null
2025-07-17 17:15:41.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.css - null null
2025-07-17 17:15:41.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/swagger-ui-bundle.js - null null
2025-07-17 17:15:41.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/swagger-ui-standalone-preset.js - null null
2025-07-17 17:15:41.750 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-07-17 17:15:41.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 17:15:41.757 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 17:15:41.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.css - 200 202 text/css 53.2324ms
2025-07-17 17:15:41.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 14.1379ms
2025-07-17 17:15:41.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 17:15:41.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 45.8784ms
2025-07-17 17:15:41.817 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-17 17:15:41.832 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-17 17:15:41.869 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 159.7576ms
2025-07-17 17:15:41.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/swagger-ui.css - 200 154948 text/css 148.4221ms
2025-07-17 17:15:41.968 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-17 17:15:41.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 278.2068ms
2025-07-17 17:15:42.067 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 295.3794ms
2025-07-17 17:15:42.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 17:15:42.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/favicon-32x32.png - null null
2025-07-17 17:15:42.339 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-17 17:15:42.347 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/favicon-32x32.png - 200 628 image/png 17.6654ms
2025-07-17 17:15:42.608 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 341.2359ms
2025-07-17 17:17:40.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 17:17:40.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 50.3783ms
2025-07-17 17:17:40.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 17:17:40.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 17:17:40.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 17:17:40.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 21.6232ms
2025-07-17 17:17:40.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 40.7526ms
2025-07-17 17:17:40.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.1579ms
2025-07-17 17:17:41.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 17:17:41.427 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 315.4065ms
2025-07-17 17:18:39.737 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7288/api/Account/login - application/json-patch+json 63
2025-07-17 17:18:39.745 +03:00 [INF] CORS policy execution successful.
2025-07-17 17:18:41.088 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 17:18:41.150 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-17 17:18:41.186 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-07-17 17:18:41.636 +03:00 [INF] In LoginAsync Method 
2025-07-17 17:18:41.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 17:18:41.649 +03:00 [WRN] Login failed: Email not found.
2025-07-17 17:18:41.690 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 17:18:41.732 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 537.36ms
2025-07-17 17:18:41.735 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-17 17:18:41.742 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7288/api/Account/login - 401 658 application/json; charset=utf-8 2004.24ms
2025-07-17 18:19:17.373 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 18:19:19.438 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:19:19.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:19:19.533 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 18:19:19.557 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 18:19:19.600 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 18:19:20.108 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:19:20.210 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:19:20.241 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 18:19:21.172 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 18:19:21.174 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 18:19:21.320 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 18:19:21.361 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 18:19:21.363 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 18:19:21.366 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 18:19:21.368 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 18:19:21.394 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 18:19:21.396 +03:00 [INF] Hosting environment: Development
2025-07-17 18:19:21.398 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 18:19:21.435 +03:00 [INF] Server mrrobot:11532:b3402a07 successfully announced in 20.231 ms
2025-07-17 18:19:21.443 +03:00 [INF] Server mrrobot:11532:b3402a07 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 18:19:21.453 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 18:19:21.503 +03:00 [INF] Server mrrobot:11532:b3402a07 all the dispatchers started
2025-07-17 18:19:21.918 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:19:22.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 353.6491ms
2025-07-17 18:19:23.028 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:19:23.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:19:23.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 10.7286ms
2025-07-17 18:19:23.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:19:23.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 29.776ms
2025-07-17 18:19:23.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.9846ms
2025-07-17 18:19:25.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:19:26.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 933.5935ms
2025-07-17 18:22:16.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:22:16.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 29.7819ms
2025-07-17 18:22:16.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:22:16.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:22:16.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:22:16.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 33.996ms
2025-07-17 18:22:16.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 28.6872ms
2025-07-17 18:22:16.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.3657ms
2025-07-17 18:22:17.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:22:17.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 257.4637ms
2025-07-17 18:22:37.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:22:37.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 18.4129ms
2025-07-17 18:22:37.474 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:22:37.474 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:22:37.491 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:22:37.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 35.9837ms
2025-07-17 18:22:37.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 37.2691ms
2025-07-17 18:22:37.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8359ms
2025-07-17 18:22:37.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:22:37.753 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.0845ms
2025-07-17 18:23:18.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:23:18.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 12.5253ms
2025-07-17 18:23:18.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:23:18.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:23:18.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:23:18.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 12.7261ms
2025-07-17 18:23:18.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 19.7541ms
2025-07-17 18:23:18.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.9649ms
2025-07-17 18:23:18.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:23:18.733 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type '<>f__AnonymousType3`1' from assembly 'E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeMethodInfo.<get_Signature>g__LazyCreateSignature|25_0()
   at Microsoft.Extensions.Internal.PropertyHelper.IsInterestingProperty(PropertyInfo property)
   at Microsoft.Extensions.Internal.PropertyHelper.<GetProperties>g__AddInterestingProperties|39_0(List`1 propertyHelpers, Type type)
   at Microsoft.Extensions.Internal.PropertyHelper.GetProperties(Type type, ConcurrentDictionary`2 cache)
   at Microsoft.Extensions.Internal.PropertyHelper.GetVisibleProperties(Type type, ConcurrentDictionary`2 allPropertiesCache, ConcurrentDictionary`2 visiblePropertiesCache)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.CreatePropertyDetails(ModelMetadataIdentity key)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.GetMetadataForProperties(Type modelType)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadata.get_Properties()
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.PseudoModelBindingVisitor.Visit(ApiParameterDescriptionContext bindingContext, BindingSource ambientSource, String containerName)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.GetParameters(ApiParameterContext context)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.CreateApiDescription(ControllerActionDescriptor action, String httpMethod, String groupName)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.OnProvidersExecuting(ApiDescriptionProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider.GetCollection(ActionDescriptorCollection actionDescriptors)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider.get_ApiDescriptionGroups()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutPaths(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 18:23:18.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 145.3096ms
2025-07-17 18:24:48.324 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 18:24:50.928 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:24:51.000 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:24:51.068 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 18:24:51.099 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 18:24:51.230 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 18:24:52.159 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:24:52.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:24:52.291 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 18:24:53.051 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 18:24:53.053 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 18:24:53.172 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 18:24:53.230 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 18:24:53.239 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 18:24:53.245 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 18:24:53.282 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:24:53.284 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 18:24:53.378 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 18:24:53.388 +03:00 [INF] Hosting environment: Development
2025-07-17 18:24:53.391 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 18:24:53.412 +03:00 [INF] Server mrrobot:18252:f985b740 successfully announced in 27.7316 ms
2025-07-17 18:24:53.467 +03:00 [INF] Server mrrobot:18252:f985b740 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 18:24:53.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 427.6873ms
2025-07-17 18:24:53.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:24:53.758 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:24:53.799 +03:00 [INF] Server mrrobot:18252:f985b740 all the dispatchers started
2025-07-17 18:24:53.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:24:53.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 116.1952ms
2025-07-17 18:24:53.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 114.9019ms
2025-07-17 18:24:53.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 165.5388ms
2025-07-17 18:24:54.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:24:54.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 295.2069ms
2025-07-17 18:29:53.498 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 18:30:30.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:30:30.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 26.1272ms
2025-07-17 18:30:30.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:30:30.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:30:30.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:30:30.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 42.6123ms
2025-07-17 18:30:30.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 38.5128ms
2025-07-17 18:30:30.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.2803ms
2025-07-17 18:30:31.038 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:30:31.296 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Categories/{id}" for actions - E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce), E_Commerce.Controllers.CategoriesController.GetByIdAsyncForUsers (E-Commerce). Actions require a unique method/path combination for Swagger/OpenAPI 2.0 and 3.0. Use ConflictingActionsResolver as a workaround or provide your own implementation of PathGroupSelector.
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.IteratorSelectIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 18:30:31.309 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 270.3174ms
2025-07-17 18:31:00.170 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 18:31:02.186 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:31:02.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:31:02.240 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 18:31:02.264 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 18:31:02.291 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 18:31:02.736 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:31:02.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:31:02.853 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 18:31:03.591 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 18:31:03.595 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 18:31:03.740 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 18:31:03.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:31:03.783 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 18:31:03.788 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 18:31:03.790 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 18:31:03.791 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 18:31:03.821 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 18:31:03.822 +03:00 [INF] Hosting environment: Development
2025-07-17 18:31:03.823 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 18:31:03.852 +03:00 [INF] Server mrrobot:10664:59f02277 successfully announced in 23.0134 ms
2025-07-17 18:31:03.858 +03:00 [INF] Server mrrobot:10664:59f02277 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 18:31:04.066 +03:00 [INF] Server mrrobot:10664:59f02277 all the dispatchers started
2025-07-17 18:31:04.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 332.3115ms
2025-07-17 18:31:04.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:31:04.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:31:04.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:31:04.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 23.5381ms
2025-07-17 18:31:04.159 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 41.5262ms
2025-07-17 18:31:04.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.1636ms
2025-07-17 18:31:04.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:31:04.377 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Categories/{id}" for actions - E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce), E_Commerce.Controllers.CategoriesController.GetByIdAsyncForUsers (E-Commerce). Actions require a unique method/path combination for Swagger/OpenAPI 2.0 and 3.0. Use ConflictingActionsResolver as a workaround or provide your own implementation of PathGroupSelector.
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.IteratorSelectIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 18:31:04.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 88.1125ms
2025-07-17 18:34:39.606 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 18:34:41.865 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:34:41.890 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:34:41.930 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 18:34:41.957 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 18:34:41.998 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 18:34:42.466 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:34:42.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:34:42.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 18:34:43.368 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 18:34:43.370 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 18:34:43.515 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 18:34:43.539 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 18:34:43.552 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 18:34:43.555 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 18:34:43.558 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 18:34:43.594 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 18:34:43.600 +03:00 [INF] Hosting environment: Development
2025-07-17 18:34:43.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:34:43.606 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 18:34:43.625 +03:00 [INF] Server mrrobot:15876:aadb106c successfully announced in 22.5267 ms
2025-07-17 18:34:43.639 +03:00 [INF] Server mrrobot:15876:aadb106c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 18:34:43.828 +03:00 [INF] Server mrrobot:15876:aadb106c all the dispatchers started
2025-07-17 18:34:43.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 371.3152ms
2025-07-17 18:34:43.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:34:43.992 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:34:44.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:34:44.084 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 98.1703ms
2025-07-17 18:34:44.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 165.3617ms
2025-07-17 18:34:44.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 220.7083ms
2025-07-17 18:34:44.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:34:44.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 302.4615ms
2025-07-17 18:35:10.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:35:10.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 28.8586ms
2025-07-17 18:35:10.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:35:10.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:35:10.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:35:10.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 36.0321ms
2025-07-17 18:35:10.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 41.5571ms
2025-07-17 18:35:10.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.6444ms
2025-07-17 18:35:10.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:35:10.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 492.7893ms
2025-07-17 18:39:51.581 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 18:39:53.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:39:53.653 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 18:39:53.693 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 18:39:53.718 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 18:39:53.748 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 18:39:54.211 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:39:54.305 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 18:39:54.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 18:39:55.100 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 18:39:55.103 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 18:39:55.221 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 18:39:55.240 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 18:39:55.248 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 18:39:55.251 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 18:39:55.253 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 18:39:55.275 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 18:39:55.279 +03:00 [INF] Hosting environment: Development
2025-07-17 18:39:55.282 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 18:39:55.301 +03:00 [INF] Server mrrobot:7928:7e5fd4a7 successfully announced in 19.4865 ms
2025-07-17 18:39:55.309 +03:00 [INF] Server mrrobot:7928:7e5fd4a7 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 18:39:55.318 +03:00 [INF] 2 servers were removed due to timeout
2025-07-17 18:39:55.368 +03:00 [INF] Server mrrobot:7928:7e5fd4a7 all the dispatchers started
2025-07-17 18:39:55.564 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:39:55.844 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 280.6859ms
2025-07-17 18:39:55.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:39:55.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:39:55.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:39:55.889 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 11.6271ms
2025-07-17 18:39:55.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 37.2093ms
2025-07-17 18:39:55.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.4118ms
2025-07-17 18:39:56.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:39:56.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 319.4738ms
2025-07-17 18:41:43.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:41:44.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 573.1738ms
2025-07-17 18:41:44.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/favicon.ico - null null
2025-07-17 18:41:44.934 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:41:44.980 +03:00 [INF] No cached response available for this request.
2025-07-17 18:41:45.064 +03:00 [INF] The response could not be cached for this request.
2025-07-17 18:41:45.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/favicon.ico - 404 0 null 253.1175ms
2025-07-17 18:41:45.078 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7288/favicon.ico, Response status code: 404
2025-07-17 18:44:55.320 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 18:46:13.644 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288//api/Account/login - application/json 72
2025-07-17 18:46:13.708 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:46:13.760 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288//api/Account/login - 404 0 null 120.9208ms
2025-07-17 18:46:13.776 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7288//api/Account/login, Response status code: 404
2025-07-17 18:46:32.486 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/login - application/json 72
2025-07-17 18:46:32.504 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:46:32.552 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-17 18:46:32.718 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-07-17 18:46:33.706 +03:00 [INF] In LoginAsync Method 
2025-07-17 18:46:33.763 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 18:46:33.977 +03:00 [INF] 🔐 Generating Access Token for User ID: aa635041-27b8-4ed3-af06-5a50db2c9d08
2025-07-17 18:46:34.168 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-07-17 18:46:34.613 +03:00 [INF] ✅ Access Token generated successfully for User ID: aa635041-27b8-4ed3-af06-5a50db2c9d08
2025-07-17 18:46:34.621 +03:00 [INF] 🔑 Generating Refresh Token for User ID: aa635041-27b8-4ed3-af06-5a50db2c9d08
2025-07-17 18:46:34.651 +03:00 [INF] RefreshToken Generated
2025-07-17 18:46:34.736 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:46:34.826 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 2079.8894ms
2025-07-17 18:46:34.833 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-17 18:46:34.846 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/login - 200 1408 application/json; charset=utf-8 2359.5088ms
2025-07-17 18:47:19.314 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Categories - multipart/form-data; boundary=--------------------------732102472497214576661159 402
2025-07-17 18:47:19.492 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:47:19.691 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:47:19.713 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.CreateAsync (E-Commerce)'
2025-07-17 18:47:19.732 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commerce.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:47:19.796 +03:00 [INF] Executing CreateAsync
2025-07-17 18:47:19.806 +03:00 [INF] Execute CreateAsync
2025-07-17 18:47:19.863 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE (`c`.`Name` = @__name_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-07-17 18:47:19.949 +03:00 [INF] Executing CreateAsync for entity Category
2025-07-17 18:47:20.157 +03:00 [INF] Category added successfully (pending save)
2025-07-17 18:47:20.404 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `IsActive`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:47:20.496 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:47:20.503 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:47:20.554 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:47:20.561 +03:00 [INF] Removing cache by tag: category
2025-07-17 18:47:20.611 +03:00 [INF] Removed 3 cache entries for tag: category
2025-07-17 18:47:20.617 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:47:20.773 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-17 18:47:20.858 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:47:20.879 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:47:20.912 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:47:20.941 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.CreateAsync (E-Commerce) in 1203.2803ms
2025-07-17 18:47:20.950 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.CreateAsync (E-Commerce)'
2025-07-17 18:47:20.960 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Categories - 201 485 application/json; charset=utf-8 1646.2066ms
2025-07-17 18:47:40.781 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7288/api/Categories/1/activate - null 0
2025-07-17 18:47:40.789 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:47:40.802 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:47:40.810 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.ActivateCategory (E-Commerce)'
2025-07-17 18:47:40.822 +03:00 [INF] Route matched with {action = "ActivateCategory", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.String]]] ActivateCategory(Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:47:40.834 +03:00 [INF] Executing ActivateCategory for id: 1
2025-07-17 18:47:40.846 +03:00 [INF] Activating category 1
2025-07-17 18:47:40.849 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:47:40.882 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:47:40.891 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:47:40.911 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 18:47:40.925 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.ActivateCategory (E-Commerce) in 96.3049ms
2025-07-17 18:47:40.928 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.ActivateCategory (E-Commerce)'
2025-07-17 18:47:40.931 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7288/api/Categories/1/activate - 400 1209 application/json; charset=utf-8 150.2254ms
2025-07-17 18:48:06.565 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Categories/1/AddExtraImages - multipart/form-data; boundary=--------------------------720788232192540522114670 69124
2025-07-17 18:48:06.572 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:48:06.578 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:48:06.594 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 18:48:06.612 +03:00 [INF] Route matched with {action = "AddExtraImagesAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]]] AddExtraImagesAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddImagesDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:48:06.681 +03:00 [INF] Executing AddExtraImagesAsync for id: 1
2025-07-17 18:48:06.690 +03:00 [INF] Executing AddImagesToCategoryAsync for categoryId: 1
2025-07-17 18:48:06.709 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:48:06.744 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:48:06.757 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:48:06.763 +03:00 [INF] 📥 Saving 1 images to CategoryPhotos
2025-07-17 18:48:06.773 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-07-17 18:48:06.799 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-17 18:48:06.931 +03:00 [INF] Image added successfully (pending save)
2025-07-17 18:48:06.985 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:48:07.014 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:48:07.021 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:48:07.026 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:48:07.031 +03:00 [INF] ✅ Image saved: /CategoryPhotos/936ccab5-50c7-4224-b674-1c0e9b2cd090.png
2025-07-17 18:48:07.039 +03:00 [INF] Execute Update for entity Category
2025-07-17 18:48:07.044 +03:00 [INF] Category marked for update (pending save)
2025-07-17 18:48:07.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20), @p10='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (Size = 255), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:48:07.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 18:48:07.209 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.AddExtraImagesAsync (E-Commerce) in 590.402ms
2025-07-17 18:48:07.213 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 18:48:07.287 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Categories/1/AddExtraImages - 200 1121 application/json; charset=utf-8 722.0417ms
2025-07-17 18:48:23.661 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Categories/95454299/AddMainImage - multipart/form-data; boundary=--------------------------396606975577128072231261 69123
2025-07-17 18:48:23.667 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:48:23.673 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:48:23.681 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.AddMainImageAsync (E-Commerce)'
2025-07-17 18:48:23.689 +03:00 [INF] Route matched with {action = "AddMainImageAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]] AddMainImageAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddMainImageDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:48:23.714 +03:00 [INF] Executing AddMainImageAsync for id: 95454299
2025-07-17 18:48:23.719 +03:00 [INF] Executing AddMainImageToCategoryAsync for categoryId: 95454299
2025-07-17 18:48:23.729 +03:00 [INF] Executing GetCategoryById for id: 95454299
2025-07-17 18:48:23.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:48:23.742 +03:00 [WRN] Category with id: 95454299 doesn't exist
2025-07-17 18:48:23.765 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:48:23.772 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.AddMainImageAsync (E-Commerce) in 77.5713ms
2025-07-17 18:48:23.844 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.AddMainImageAsync (E-Commerce)'
2025-07-17 18:48:23.862 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Categories/95454299/AddMainImage - 404 1158 application/json; charset=utf-8 201.1022ms
2025-07-17 18:48:32.043 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Categories/1/AddMainImage - multipart/form-data; boundary=--------------------------969751412699691103578994 69123
2025-07-17 18:48:32.105 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:48:32.115 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:48:32.120 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.AddMainImageAsync (E-Commerce)'
2025-07-17 18:48:32.122 +03:00 [INF] Route matched with {action = "AddMainImageAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]] AddMainImageAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddMainImageDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:48:32.134 +03:00 [INF] Executing AddMainImageAsync for id: 1
2025-07-17 18:48:32.139 +03:00 [INF] Executing AddMainImageToCategoryAsync for categoryId: 1
2025-07-17 18:48:32.160 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:48:32.191 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:48:32.211 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:48:32.219 +03:00 [INF] 📥 Saving main image to CategoryPhotos
2025-07-17 18:48:32.230 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-17 18:48:32.232 +03:00 [INF] Image added successfully (pending save)
2025-07-17 18:48:32.238 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:48:32.245 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:48:32.247 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:48:32.250 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:48:32.252 +03:00 [INF] ✅ Main image saved: /CategoryPhotos/96ba7cb2-a86c-4962-bedf-8c90cdea0119.png
2025-07-17 18:48:32.256 +03:00 [INF] Execute Update for entity Category
2025-07-17 18:48:32.262 +03:00 [INF] Category marked for update (pending save)
2025-07-17 18:48:32.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20), @p10='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (Size = 255), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:48:32.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:48:32.344 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.AddMainImageAsync (E-Commerce) in 216.9514ms
2025-07-17 18:48:32.347 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.AddMainImageAsync (E-Commerce)'
2025-07-17 18:48:32.350 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Categories/1/AddMainImage - 200 1120 application/json; charset=utf-8 312.5692ms
2025-07-17 18:48:55.162 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1?isActive=false&includeDeleted=false - null null
2025-07-17 18:48:55.203 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:48:55.224 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:48:55.230 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:48:55.241 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:48:55.266 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: False, includeDeleted: False
2025-07-17 18:48:55.278 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: False, includeDeleted: False
2025-07-17 18:48:55.287 +03:00 [INF] Getting cache for key: categoryid:1_active:False_deleted:False
2025-07-17 18:48:55.300 +03:00 [WRN] Cache miss for key: categoryid:1_active:False_deleted:False
2025-07-17 18:48:55.305 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 18:48:55.388 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-17 18:48:55.406 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32), @__isActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`IsActive`, `t`.`CreatedAt`, `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `t0`.`Id`, `t0`.`Name`, `t0`.`CreatedAt`, `t0`.`Description`, `t0`.`IsActive`, `t0`.`Id0`, `t0`.`Url`, `t0`.`IsMain`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`CreatedAt`
    FROM `Categories` AS `c`
    WHERE ((`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL) AND (`c`.`IsActive` = @__isActive_1)
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`CreatedAt`, `s`.`Description`, `s`.`IsActive`, `i0`.`Id` AS `Id0`, `i0`.`Url`, `i0`.`IsMain`, `s`.`CategoryId`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:48:55.420 +03:00 [WRN] Category with id: 1 not found
2025-07-17 18:48:55.432 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:48:55.447 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 197.1471ms
2025-07-17 18:48:55.451 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:48:55.455 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1?isActive=false&includeDeleted=false - 404 1104 application/json; charset=utf-8 293.0702ms
2025-07-17 18:49:00.535 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1?isActive=false - null null
2025-07-17 18:49:00.546 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:49:00.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:49:00.569 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:49:00.574 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:49:00.582 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: False, includeDeleted: False
2025-07-17 18:49:00.587 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: False, includeDeleted: False
2025-07-17 18:49:00.590 +03:00 [INF] Getting cache for key: categoryid:1_active:False_deleted:False
2025-07-17 18:49:00.596 +03:00 [WRN] Cache miss for key: categoryid:1_active:False_deleted:False
2025-07-17 18:49:00.603 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 18:49:00.609 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32), @__isActive_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`IsActive`, `t`.`CreatedAt`, `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `t0`.`Id`, `t0`.`Name`, `t0`.`CreatedAt`, `t0`.`Description`, `t0`.`IsActive`, `t0`.`Id0`, `t0`.`Url`, `t0`.`IsMain`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`CreatedAt`
    FROM `Categories` AS `c`
    WHERE ((`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL) AND (`c`.`IsActive` = @__isActive_1)
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`CreatedAt`, `s`.`Description`, `s`.`IsActive`, `i0`.`Id` AS `Id0`, `i0`.`Url`, `i0`.`IsMain`, `s`.`CategoryId`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:49:00.624 +03:00 [WRN] Category with id: 1 not found
2025-07-17 18:49:00.635 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:49:00.641 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 61.2275ms
2025-07-17 18:49:00.645 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:49:00.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1?isActive=false - 404 1104 application/json; charset=utf-8 116.928ms
2025-07-17 18:49:05.936 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1 - null null
2025-07-17 18:49:05.975 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:49:06.009 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:49:06.015 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:49:06.018 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:49:06.024 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: , includeDeleted: False
2025-07-17 18:49:06.026 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: , includeDeleted: False
2025-07-17 18:49:06.028 +03:00 [INF] Getting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:49:06.031 +03:00 [WRN] Cache miss for key: categoryid:1_active:_deleted:False
2025-07-17 18:49:06.033 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 18:49:06.074 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-17 18:49:06.107 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`IsActive`, `t`.`CreatedAt`, `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `t0`.`Id`, `t0`.`Name`, `t0`.`CreatedAt`, `t0`.`Description`, `t0`.`IsActive`, `t0`.`Id0`, `t0`.`Url`, `t0`.`IsMain`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`CreatedAt`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`CreatedAt`, `s`.`Description`, `s`.`IsActive`, `i0`.`Id` AS `Id0`, `i0`.`Url`, `i0`.`IsMain`, `s`.`CategoryId`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:49:06.120 +03:00 [INF] Setting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:49:06.238 +03:00 [INF] Cache set successfully for key: categoryid:1_active:_deleted:False with tags: [category]
2025-07-17 18:49:06.250 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:49:06.262 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 239.9358ms
2025-07-17 18:49:06.284 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:49:06.290 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1 - 200 1447 application/json; charset=utf-8 354.0838ms
2025-07-17 18:50:40.688 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/Categories/95454299 - multipart/form-data; boundary=--------------------------115357753528704485546840 410
2025-07-17 18:50:40.705 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:50:40.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:50:40.721 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-17 18:50:40.731 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commerce.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:50:40.742 +03:00 [INF] Executing UpdateAsync for id: 95454299
2025-07-17 18:50:40.748 +03:00 [INF] Executing UpdateAsync for categoryId: 95454299
2025-07-17 18:50:40.750 +03:00 [INF] Executing GetCategoryById for id: 95454299
2025-07-17 18:50:40.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:50:40.766 +03:00 [WRN] Category with id: 95454299 doesn't exist
2025-07-17 18:50:40.772 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:50:40.776 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 40.6184ms
2025-07-17 18:50:40.782 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-17 18:50:40.785 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/Categories/95454299 - 404 1158 application/json; charset=utf-8 96.5799ms
2025-07-17 18:50:49.072 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/Categories/1 - multipart/form-data; boundary=--------------------------819920211334260511037163 402
2025-07-17 18:50:49.119 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:50:49.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:50:49.134 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-17 18:50:49.136 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commerce.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:50:49.144 +03:00 [INF] Executing UpdateAsync for id: 1
2025-07-17 18:50:49.146 +03:00 [INF] Executing UpdateAsync for categoryId: 1
2025-07-17 18:50:49.149 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:50:49.177 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:50:49.190 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:50:49.195 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:50:49.197 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:50:49.200 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:50:49.205 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 20), @p4='?' (Size = 255), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `Description` = @p0, `DisplayOrder` = @p1, `Name` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:50:49.215 +03:00 [INF] Removing cache by tag: category
2025-07-17 18:50:49.230 +03:00 [INF] Removed 1 cache entries for tag: category
2025-07-17 18:50:49.239 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:50:49.243 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 100.5692ms
2025-07-17 18:50:49.245 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-17 18:50:49.250 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/Categories/1 - 200 1419 application/json; charset=utf-8 177.5342ms
2025-07-17 18:50:57.909 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1 - null null
2025-07-17 18:50:58.012 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:50:58.074 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:50:58.080 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:50:58.081 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:50:58.084 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: , includeDeleted: False
2025-07-17 18:50:58.088 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: , includeDeleted: False
2025-07-17 18:50:58.090 +03:00 [INF] Getting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:50:58.093 +03:00 [WRN] Cache miss for key: categoryid:1_active:_deleted:False
2025-07-17 18:50:58.094 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 18:50:58.121 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`IsActive`, `t`.`CreatedAt`, `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `t0`.`Id`, `t0`.`Name`, `t0`.`CreatedAt`, `t0`.`Description`, `t0`.`IsActive`, `t0`.`Id0`, `t0`.`Url`, `t0`.`IsMain`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`CreatedAt`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`CreatedAt`, `s`.`Description`, `s`.`IsActive`, `i0`.`Id` AS `Id0`, `i0`.`Url`, `i0`.`IsMain`, `s`.`CategoryId`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:50:58.141 +03:00 [INF] Setting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:50:58.145 +03:00 [INF] Cache set successfully for key: categoryid:1_active:_deleted:False with tags: [category]
2025-07-17 18:50:58.153 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:50:58.157 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 73.9742ms
2025-07-17 18:50:58.206 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:50:58.208 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1 - 200 1447 application/json; charset=utf-8 299.4023ms
2025-07-17 18:51:23.592 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/Categories/1/RemoveImage/2 - null null
2025-07-17 18:51:23.608 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:51:23.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:51:23.620 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.RemoveImageAsync (E-Commerce)'
2025-07-17 18:51:23.629 +03:00 [INF] Route matched with {action = "RemoveImageAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategoryDto]]] RemoveImageAsync(Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:51:23.642 +03:00 [INF] Removing image 2 from category: 1
2025-07-17 18:51:23.646 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:51:23.673 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:51:23.682 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:51:23.687 +03:00 [INF] Execute Update for entity Category
2025-07-17 18:51:23.689 +03:00 [INF] Category marked for update (pending save)
2025-07-17 18:51:23.692 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:51:23.693 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:51:23.697 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:51:23.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20), @p10='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (Size = 255), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:51:23.724 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:51:23.728 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.RemoveImageAsync (E-Commerce) in 94.0145ms
2025-07-17 18:51:23.732 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.RemoveImageAsync (E-Commerce)'
2025-07-17 18:51:23.735 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/Categories/1/RemoveImage/2 - 200 1396 application/json; charset=utf-8 142.4489ms
2025-07-17 18:51:31.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1 - null null
2025-07-17 18:51:31.559 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:51:31.570 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:51:31.575 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:51:31.631 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:51:31.636 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: , includeDeleted: False
2025-07-17 18:51:31.639 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: , includeDeleted: False
2025-07-17 18:51:31.641 +03:00 [INF] Getting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:51:31.643 +03:00 [INF] Cache hit for key: categoryid:1_active:_deleted:False
2025-07-17 18:51:31.663 +03:00 [INF] Cache hit for category 1 with filters
2025-07-17 18:51:31.672 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:51:31.679 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 43.0563ms
2025-07-17 18:51:31.683 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:51:31.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1 - 200 1456 application/json; charset=utf-8 241.2414ms
2025-07-17 18:52:02.042 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:52:02.455 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 412.3016ms
2025-07-17 18:52:02.562 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:52:02.560 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:52:02.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:52:03.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 957.1549ms
2025-07-17 18:52:03.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 1010.7689ms
2025-07-17 18:52:03.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1242.7409ms
2025-07-17 18:52:04.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:52:05.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1097.437ms
2025-07-17 18:52:51.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:52:51.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 23.6554ms
2025-07-17 18:52:51.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:52:51.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:52:51.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:52:51.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 99.1796ms
2025-07-17 18:52:51.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 86.5494ms
2025-07-17 18:52:51.604 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.4763ms
2025-07-17 18:52:51.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:52:52.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 370.014ms
2025-07-17 18:53:21.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:53:21.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 103.2685ms
2025-07-17 18:53:21.649 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:53:21.649 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:53:21.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:53:21.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 97.466ms
2025-07-17 18:53:21.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 107.0349ms
2025-07-17 18:53:21.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.3415ms
2025-07-17 18:53:21.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:53:22.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 306.3182ms
2025-07-17 18:53:38.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:53:38.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 73.5765ms
2025-07-17 18:53:38.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:53:38.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:53:38.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:53:38.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 28.298ms
2025-07-17 18:53:38.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 30.3574ms
2025-07-17 18:53:38.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.2332ms
2025-07-17 18:53:38.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:53:39.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 771.9496ms
2025-07-17 18:53:46.266 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1 - null null
2025-07-17 18:53:46.540 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:53:46.570 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:53:46.579 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:53:46.630 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:53:46.640 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: , includeDeleted: False
2025-07-17 18:53:46.654 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: , includeDeleted: False
2025-07-17 18:53:46.657 +03:00 [INF] Getting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:53:46.670 +03:00 [INF] Cache hit for key: categoryid:1_active:_deleted:False
2025-07-17 18:53:46.710 +03:00 [INF] Cache hit for category 1 with filters
2025-07-17 18:53:46.722 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:53:46.734 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 98.1233ms
2025-07-17 18:53:46.742 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:53:46.745 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1 - 200 1456 application/json; charset=utf-8 478.3887ms
2025-07-17 18:54:01.481 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/Categories/1 - multipart/form-data; boundary=--------------------------764669207537313509840101 403
2025-07-17 18:54:01.732 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:54:01.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:54:01.776 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-17 18:54:01.792 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commerce.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:54:01.806 +03:00 [INF] Executing UpdateAsync for id: 1
2025-07-17 18:54:01.808 +03:00 [INF] Executing UpdateAsync for categoryId: 1
2025-07-17 18:54:01.812 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:54:02.983 +03:00 [INF] Executed DbCommand (1,163ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:54:03.157 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:54:03.168 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:54:03.169 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:54:03.173 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:54:03.190 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 20), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `Name` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:54:03.201 +03:00 [INF] Removing cache by tag: category
2025-07-17 18:54:03.210 +03:00 [INF] Removed 1 cache entries for tag: category
2025-07-17 18:54:03.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:54:03.222 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 1425.4415ms
2025-07-17 18:54:03.226 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-17 18:54:03.249 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/Categories/1 - 200 1310 application/json; charset=utf-8 1768.7949ms
2025-07-17 18:54:12.240 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/1 - null null
2025-07-17 18:54:12.368 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:54:12.465 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:54:12.482 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:54:12.484 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto]]] GetByIdAsync(Int32, System.Nullable`1[System.Boolean], Boolean) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:54:12.490 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: , includeDeleted: False
2025-07-17 18:54:12.492 +03:00 [INF] Execute:GetCategoryByIdAsync in services for id: 1, isActive: , includeDeleted: False
2025-07-17 18:54:12.499 +03:00 [INF] Getting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:54:12.503 +03:00 [WRN] Cache miss for key: categoryid:1_active:_deleted:False
2025-07-17 18:54:12.510 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 18:54:12.571 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-17 18:54:12.616 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`IsActive`, `t`.`CreatedAt`, `t0`.`Id`, `t0`.`Url`, `t0`.`IsMain`, `t1`.`Id`, `t1`.`Name`, `t1`.`CreatedAt`, `t1`.`Description`, `t1`.`IsActive`, `t1`.`Id0`, `t1`.`Url`, `t1`.`IsMain`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`CreatedAt`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `i`.`CategoryId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`CreatedAt`, `s`.`Description`, `s`.`IsActive`, `t2`.`Id` AS `Id0`, `t2`.`Url`, `t2`.`IsMain`, `s`.`CategoryId`
    FROM `SubCategories` AS `s`
    LEFT JOIN (
        SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`IsMain`, `i0`.`SubCategoryId`
        FROM `Images` AS `i0`
        WHERE `i0`.`DeletedAt` IS NULL
    ) AS `t2` ON `s`.`Id` = `t2`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL AND `s`.`IsActive`
) AS `t1` ON `t`.`Id` = `t1`.`CategoryId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t1`.`Id`
2025-07-17 18:54:12.623 +03:00 [INF] Setting cache for key: categoryid:1_active:_deleted:False
2025-07-17 18:54:12.635 +03:00 [INF] Cache set successfully for key: categoryid:1_active:_deleted:False with tags: [category]
2025-07-17 18:54:12.642 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategorywithdataDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 18:54:12.646 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 156.7472ms
2025-07-17 18:54:12.651 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-17 18:54:12.653 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/1 - 200 1338 application/json; charset=utf-8 417.4464ms
2025-07-17 18:56:13.191 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Categories/1/AddExtraImages - multipart/form-data; boundary=--------------------------972114526901840293214391 69289
2025-07-17 18:56:13.344 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:56:13.376 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:56:13.457 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 18:56:13.495 +03:00 [INF] Route matched with {action = "AddExtraImagesAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]]] AddExtraImagesAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddImagesDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:56:13.601 +03:00 [INF] Executing AddExtraImagesAsync for id: 1
2025-07-17 18:56:13.735 +03:00 [INF] Executing AddImagesToCategoryAsync for categoryId: 1
2025-07-17 18:56:13.741 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-17 18:56:13.778 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategories` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-17 18:56:13.841 +03:00 [INF] Category with id: 1 exists
2025-07-17 18:56:13.858 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-07-17 18:56:13.862 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-07-17 18:56:13.888 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-17 18:56:13.900 +03:00 [INF] Image added successfully (pending save)
2025-07-17 18:56:13.928 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:56:13.941 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 18:56:13.947 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 18:56:13.949 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 18:56:13.952 +03:00 [INF] ✅ Image saved: /CategoryPhotos/2dc098ff-b78c-4f9f-beac-2791f5bf1b91.png
2025-07-17 18:56:13.955 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-07-17 18:56:13.972 +03:00 [ERR] ❌ Failed to save image #2: File size must be between 1 and 5MB
2025-07-17 18:56:13.977 +03:00 [WRN] Some images failed to save: Image #2: File size must be between 1 and 5MB
2025-07-17 18:56:13.979 +03:00 [INF] Execute Update for entity Category
2025-07-17 18:56:13.982 +03:00 [INF] Category marked for update (pending save)
2025-07-17 18:56:13.988 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20), @p10='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (Size = 255), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 18:56:14.008 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 18:56:14.013 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.AddExtraImagesAsync (E-Commerce) in 488.3977ms
2025-07-17 18:56:14.015 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 18:56:14.023 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Categories/1/AddExtraImages - 200 1277 application/json; charset=utf-8 832.7258ms
2025-07-17 18:57:11.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:57:11.183 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 127.6521ms
2025-07-17 18:57:11.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:57:11.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:57:11.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:57:11.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 185.3736ms
2025-07-17 18:57:11.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 200.3497ms
2025-07-17 18:57:11.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 248.7377ms
2025-07-17 18:57:11.616 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:57:14.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3211.3204ms
2025-07-17 18:57:28.518 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 18:57:28.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 343.5396ms
2025-07-17 18:57:29.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 18:57:29.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 18:57:29.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 18:57:31.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 2883.0196ms
2025-07-17 18:57:33.365 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 4350.7356ms
2025-07-17 18:57:33.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4785.3071ms
2025-07-17 18:57:33.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 18:57:34.393 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 488.0085ms
2025-07-17 18:58:29.793 +03:00 [WRN] As of ""2025-07-17T15:58:26.6151942+00:00"", the heartbeat has been running for ""00:00:01.6790755"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
2025-07-17 18:59:08.458 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - null null
2025-07-17 18:59:08.572 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:59:08.832 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:59:08.892 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 18:59:08.987 +03:00 [INF] Route matched with {action = "Search", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:59:09.105 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: om, isActive: True, isDeleted: , page: 1, pageSize: 10
2025-07-17 18:59:09.733 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__Format_1='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Categories` AS `c`
WHERE ((`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL) AND `c`.`IsActive`
2025-07-17 18:59:09.806 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 18:59:09.810 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-07-17 18:59:09.907 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__Format_1='?' (Size = 20), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`IsActive`, `t`.`CreatedAt`, `i`.`Id`, `i`.`Url`, `i`.`IsMain`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`IsActive`, `c`.`CreatedAt`
    FROM `Categories` AS `c`
    WHERE ((`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL) AND `c`.`IsActive`
    LIMIT @__p_3 OFFSET @__p_2
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`Id`
2025-07-17 18:59:09.922 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.Services.Result`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 18:59:10.082 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.Search (E-Commerce) in 1086.7631ms
2025-07-17 18:59:10.089 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 18:59:10.116 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - 200 523 application/json; charset=utf-8 1658.9878ms
2025-07-17 18:59:45.764 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/search?isActive=true&page=1&pageSize=10 - null null
2025-07-17 18:59:45.825 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 18:59:45.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 18:59:45.849 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 18:59:45.852 +03:00 [INF] Route matched with {action = "Search", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 18:59:45.903 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: , isActive: True, isDeleted: , page: 1, pageSize: 10
2025-07-17 18:59:45.916 +03:00 [INF] Executing GetAllCategoriesAsync in CategoryService with isActive: True, isDeleted: , page: 1, pageSize: 10
2025-07-17 18:59:46.069 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.Search (E-Commerce) in 211.1624ms
2025-07-17 18:59:46.074 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 18:59:46.124 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The source 'IQueryable' doesn't implement 'IAsyncEnumerable<E_Commerce.DtoModels.CategoryDtos.CategoryDto>'. Only sources that implement 'IAsyncEnumerable' can be used for Entity Framework asynchronous operations.
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsAsyncEnumerable[TSource](IQueryable`1 source)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at E_Commerce.Services.Category.CategoryServices.GetAllCategoriesAsync(Nullable`1 isActive, Nullable`1 isDeleted, Int32 page, Int32 pageSize)
   at E_Commerce.Services.Category.CategoryServices.SearchAsync(String keyword, Nullable`1 isActive, Nullable`1 isDeleted, Int32 page, Int32 pageSize)
   at E_Commerce.Controllers.CategoriesController.Search(String keyword, Nullable`1 isActive, Nullable`1 isDeleted, Int32 page, Int32 pageSize)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at SecurityStampMiddleware.Invoke(HttpContext context)
   at E_Commerce.Middleware.UserAuthenticationMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 18:59:46.501 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/search?isActive=true&page=1&pageSize=10 - 500 null text/plain; charset=utf-8 736.8833ms
2025-07-17 19:04:36.658 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 19:04:39.542 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 19:04:39.574 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 19:04:39.630 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 19:04:39.672 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 19:04:39.831 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 19:04:41.754 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 19:04:41.915 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 19:04:42.002 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 19:04:43.617 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 19:04:43.620 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 19:04:43.826 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 19:04:43.895 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 19:04:43.896 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 19:04:43.898 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 19:04:43.900 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 19:04:43.947 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 19:04:44.024 +03:00 [INF] Hosting environment: Development
2025-07-17 19:04:44.030 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 19:04:44.041 +03:00 [INF] Server mrrobot:14436:995336b4 successfully announced in 37.8713 ms
2025-07-17 19:04:44.052 +03:00 [INF] Server mrrobot:14436:995336b4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 19:04:44.163 +03:00 [INF] Server mrrobot:14436:995336b4 all the dispatchers started
2025-07-17 19:04:44.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 19:04:45.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 446.4807ms
2025-07-17 19:04:45.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 19:04:45.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 19:04:45.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 19:04:45.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 62.0495ms
2025-07-17 19:04:45.536 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 65.1586ms
2025-07-17 19:04:45.711 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 239.982ms
2025-07-17 19:04:46.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 19:04:46.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 517.0795ms
2025-07-17 19:05:16.392 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/search?isActive=true&page=1&pageSize=10 - null null
2025-07-17 19:05:16.802 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 19:05:17.000 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 19:05:17.131 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:05:17.193 +03:00 [INF] Route matched with {action = "Search", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 19:05:17.934 +03:00 [INF] Executing FilterAsync with filters
2025-07-17 19:05:17.937 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 19:05:18.037 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Categories` AS `c`
WHERE `c`.`IsActive` = @__isActive_Value_0
2025-07-17 19:05:18.262 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`CreatedAt`, `i`.`Id`, `i`.`IsMain`, `i`.`Url`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`DeletedAt`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`CreatedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`DeletedAt`
    FROM `Categories` AS `c`
    WHERE `c`.`IsActive` = @__isActive_Value_0
    ORDER BY `c`.`DisplayOrder`
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`DisplayOrder`, `t`.`Id`
2025-07-17 19:05:18.309 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.Services.Result`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 19:05:18.380 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.Search (E-Commerce) in 1175.6322ms
2025-07-17 19:05:18.391 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:05:18.431 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/search?isActive=true&page=1&pageSize=10 - 200 545 application/json; charset=utf-8 2031.3359ms
2025-07-17 19:05:59.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - null null
2025-07-17 19:05:59.682 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 19:05:59.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 19:05:59.710 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:05:59.714 +03:00 [INF] Route matched with {action = "Search", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 19:05:59.730 +03:00 [INF] Executing FilterAsync with filters
2025-07-17 19:05:59.735 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 19:05:59.775 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__search_0_contains='?' (Size = 20), @__isActive_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Categories` AS `c`
WHERE (`c`.`Name` LIKE @__search_0_contains) AND (`c`.`IsActive` = @__isActive_Value_1)
2025-07-17 19:05:59.836 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__search_0_contains='?' (Size = 20), @__isActive_Value_1='?' (DbType = Boolean), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`CreatedAt`, `i`.`Id`, `i`.`IsMain`, `i`.`Url`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`DeletedAt`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`CreatedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`DeletedAt`
    FROM `Categories` AS `c`
    WHERE (`c`.`Name` LIKE @__search_0_contains) AND (`c`.`IsActive` = @__isActive_Value_1)
    ORDER BY `c`.`DisplayOrder`
    LIMIT @__p_3 OFFSET @__p_2
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`DisplayOrder`, `t`.`Id`
2025-07-17 19:05:59.844 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.Services.Result`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 19:05:59.850 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.Search (E-Commerce) in 126.9263ms
2025-07-17 19:05:59.854 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:05:59.862 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - 200 545 application/json; charset=utf-8 191.6755ms
2025-07-17 19:06:05.525 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - null null
2025-07-17 19:06:05.536 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 19:06:05.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 19:06:05.553 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:06:05.557 +03:00 [INF] Route matched with {action = "Search", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 19:06:05.583 +03:00 [INF] Executing FilterAsync with filters
2025-07-17 19:06:05.587 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 19:06:05.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__search_0_contains='?' (Size = 20), @__isActive_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Categories` AS `c`
WHERE (`c`.`Name` LIKE @__search_0_contains) AND (`c`.`IsActive` = @__isActive_Value_1)
2025-07-17 19:06:05.629 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__search_0_contains='?' (Size = 20), @__isActive_Value_1='?' (DbType = Boolean), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`CreatedAt`, `i`.`Id`, `i`.`IsMain`, `i`.`Url`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`DeletedAt`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`CreatedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`DeletedAt`
    FROM `Categories` AS `c`
    WHERE (`c`.`Name` LIKE @__search_0_contains) AND (`c`.`IsActive` = @__isActive_Value_1)
    ORDER BY `c`.`DisplayOrder`
    LIMIT @__p_3 OFFSET @__p_2
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`DisplayOrder`, `t`.`Id`
2025-07-17 19:06:05.638 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.Services.Result`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 19:06:05.644 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.Search (E-Commerce) in 81.4137ms
2025-07-17 19:06:05.649 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:06:05.654 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - 200 545 application/json; charset=utf-8 128.7161ms
2025-07-17 19:06:13.942 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - null null
2025-07-17 19:06:13.957 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 19:06:13.962 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 19:06:13.970 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:06:13.976 +03:00 [INF] Route matched with {action = "Search", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Search(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-07-17 19:06:13.982 +03:00 [INF] Executing FilterAsync with filters
2025-07-17 19:06:13.986 +03:00 [INF] Execute GetAll for entity Category
2025-07-17 19:06:13.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__search_0_contains='?' (Size = 20), @__isActive_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Categories` AS `c`
WHERE (`c`.`Name` LIKE @__search_0_contains) AND (`c`.`IsActive` = @__isActive_Value_1)
2025-07-17 19:06:14.036 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__search_0_contains='?' (Size = 20), @__isActive_Value_1='?' (DbType = Boolean), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`CreatedAt`, `i`.`Id`, `i`.`IsMain`, `i`.`Url`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`DeletedAt`
FROM (
    SELECT `c`.`Id`, `c`.`Name`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`CreatedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`DeletedAt`
    FROM `Categories` AS `c`
    WHERE (`c`.`Name` LIKE @__search_0_contains) AND (`c`.`IsActive` = @__isActive_Value_1)
    ORDER BY `c`.`DisplayOrder`
    LIMIT @__p_3 OFFSET @__p_2
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`DisplayOrder`, `t`.`Id`
2025-07-17 19:06:14.047 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.Services.Result`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 19:06:14.054 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.Search (E-Commerce) in 74.6159ms
2025-07-17 19:06:14.110 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.Search (E-Commerce)'
2025-07-17 19:06:14.114 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/search?keyword=om&isActive=true&page=1&pageSize=10 - 200 545 application/json; charset=utf-8 171.7563ms
2025-07-17 19:09:44.355 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 19:12:25.857 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 19:12:28.222 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 19:12:28.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 19:12:28.279 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 19:12:28.313 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 19:12:28.355 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 19:12:28.864 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 19:12:28.985 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 19:12:29.023 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 19:12:30.017 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 19:12:30.019 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 19:12:30.163 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 19:12:30.208 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 19:12:30.211 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 19:12:30.213 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 19:12:30.215 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 19:12:30.259 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 19:12:30.351 +03:00 [INF] Hosting environment: Development
2025-07-17 19:12:30.351 +03:00 [INF] Server mrrobot:10224:a33d0eb1 successfully announced in 40.5781 ms
2025-07-17 19:12:30.353 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 19:12:30.367 +03:00 [INF] Server mrrobot:10224:a33d0eb1 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 19:12:30.371 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 19:12:30.689 +03:00 [INF] Server mrrobot:10224:a33d0eb1 all the dispatchers started
2025-07-17 19:12:30.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 470.2741ms
2025-07-17 19:12:30.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 19:12:30.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 19:12:30.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 19:12:30.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 32.4653ms
2025-07-17 19:12:30.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 39.4247ms
2025-07-17 19:12:31.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 149.0554ms
2025-07-17 19:12:31.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 19:12:31.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 475.9536ms
2025-07-17 19:17:30.374 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 20:12:28.059 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 20:12:30.800 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 20:12:30.824 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 20:12:30.882 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 20:12:30.908 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 20:12:30.956 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 20:12:31.704 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 20:12:31.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 20:12:31.856 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 20:12:32.904 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 20:12:32.907 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 20:12:33.063 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 20:12:33.123 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 20:12:33.130 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 20:12:33.131 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 20:12:33.134 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 20:12:33.163 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 20:12:33.171 +03:00 [INF] Hosting environment: Development
2025-07-17 20:12:33.172 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 20:12:33.221 +03:00 [INF] Server mrrobot:16352:955f3f32 successfully announced in 32.751 ms
2025-07-17 20:12:33.233 +03:00 [INF] Server mrrobot:16352:955f3f32 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 20:12:33.259 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 20:12:33.736 +03:00 [INF] Server mrrobot:16352:955f3f32 all the dispatchers started
2025-07-17 20:12:34.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 20:12:34.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 801.7787ms
2025-07-17 20:12:35.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 20:12:35.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 20:12:35.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 20:12:35.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 12.6927ms
2025-07-17 20:12:35.153 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 43.6474ms
2025-07-17 20:12:35.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 237.9846ms
2025-07-17 20:12:35.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 20:12:36.412 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 486.2535ms
2025-07-17 20:12:56.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 20:12:56.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 67.891ms
2025-07-17 20:12:56.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 20:12:56.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 20:12:56.344 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 20:12:57.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 1384.1618ms
2025-07-17 20:12:57.703 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 1391.6446ms
2025-07-17 20:12:57.845 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1501.0888ms
2025-07-17 20:12:58.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 20:13:03.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5334.839ms
2025-07-17 20:13:30.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 20:13:30.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 87.732ms
2025-07-17 20:13:30.735 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 20:13:30.737 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 20:13:30.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 20:13:30.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 57.5634ms
2025-07-17 20:13:31.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 418.094ms
2025-07-17 20:13:32.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1499.8039ms
2025-07-17 20:13:32.345 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 20:13:33.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1441.9623ms
2025-07-17 20:51:07.115 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 20:51:09.443 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 20:51:09.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 20:51:09.512 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 20:51:09.537 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 20:51:09.580 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 20:51:10.049 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 20:51:10.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 20:51:10.179 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 20:51:11.114 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 20:51:11.135 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 20:51:11.262 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 20:51:11.353 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 20:51:11.357 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 20:51:11.358 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 20:51:11.398 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 20:51:11.496 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 20:51:11.586 +03:00 [INF] Server mrrobot:15524:879506be successfully announced in 74.7276 ms
2025-07-17 20:51:11.586 +03:00 [INF] Hosting environment: Development
2025-07-17 20:51:11.596 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 20:51:11.599 +03:00 [INF] Server mrrobot:15524:879506be is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 20:51:11.683 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 20:51:11.841 +03:00 [INF] Server mrrobot:15524:879506be all the dispatchers started
2025-07-17 20:51:14.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 20:51:15.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 384.7745ms
2025-07-17 20:51:15.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 20:51:15.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 20:51:15.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 20:51:15.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 8.591ms
2025-07-17 20:51:15.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 34.9248ms
2025-07-17 20:51:15.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.8764ms
2025-07-17 20:51:16.830 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 20:51:17.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 288.4448ms
2025-07-17 20:52:30.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 20:52:30.409 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 155.3249ms
2025-07-17 20:52:30.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 20:52:30.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 20:52:30.484 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 20:52:31.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 623.3911ms
2025-07-17 20:52:31.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 678.5181ms
2025-07-17 20:52:31.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 750.0802ms
2025-07-17 20:52:31.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 20:52:32.030 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 716.6486ms
2025-07-17 20:53:39.193 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 20:53:41.434 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 20:53:41.451 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 20:53:41.486 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 20:53:41.510 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 20:53:41.538 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 20:53:41.988 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 20:53:42.081 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 20:53:42.113 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 20:53:42.848 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 20:53:42.851 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 20:53:42.953 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 20:53:43.112 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 20:53:43.121 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 20:53:43.122 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 20:53:43.123 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 20:53:43.151 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 20:53:43.160 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 20:53:43.169 +03:00 [INF] Hosting environment: Development
2025-07-17 20:53:43.180 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 20:53:43.186 +03:00 [INF] Server mrrobot:13820:a1ad3b81 successfully announced in 24.4341 ms
2025-07-17 20:53:43.239 +03:00 [INF] Server mrrobot:13820:a1ad3b81 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 20:53:43.408 +03:00 [INF] Server mrrobot:13820:a1ad3b81 all the dispatchers started
2025-07-17 20:53:43.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 361.9294ms
2025-07-17 20:53:43.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 20:53:43.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 20:53:43.579 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 20:53:43.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 38.5954ms
2025-07-17 20:53:43.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 26.2266ms
2025-07-17 20:53:43.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.4009ms
2025-07-17 20:53:43.735 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 20:53:43.939 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 204.1692ms
2025-07-17 20:58:43.271 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 21:00:13.247 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory - multipart/form-data; boundary=--------------------------312882053166832120219439 396
2025-07-17 21:00:13.483 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/17/2025 4:01:34 PM', Current time (UTC): '7/17/2025 6:00:13 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-17 21:00:13.500 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/17/2025 4:01:34 PM', Current time (UTC): '7/17/2025 6:00:13 PM'.
2025-07-17 21:00:13.516 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:00:13.664 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:00:13.777 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-17 21:00:13.793 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-17 21:00:13.807 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory - 401 0 null 561.0505ms
2025-07-17 21:01:16.319 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/login - application/json 72
2025-07-17 21:01:16.335 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/17/2025 4:01:34 PM', Current time (UTC): '7/17/2025 6:01:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-17 21:01:16.339 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/17/2025 4:01:34 PM', Current time (UTC): '7/17/2025 6:01:16 PM'.
2025-07-17 21:01:16.342 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:01:16.508 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:01:16.518 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-17 21:01:16.565 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-07-17 21:01:17.104 +03:00 [INF] In LoginAsync Method 
2025-07-17 21:01:17.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 21:01:17.262 +03:00 [INF] 🔐 Generating Access Token for User ID: aa635041-27b8-4ed3-af06-5a50db2c9d08
2025-07-17 21:01:17.358 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-07-17 21:01:17.383 +03:00 [INF] ✅ Access Token generated successfully for User ID: aa635041-27b8-4ed3-af06-5a50db2c9d08
2025-07-17 21:01:17.386 +03:00 [INF] 🔑 Generating Refresh Token for User ID: aa635041-27b8-4ed3-af06-5a50db2c9d08
2025-07-17 21:01:17.451 +03:00 [INF] RefreshToken Generated
2025-07-17 21:01:17.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:01:17.568 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 990.2145ms
2025-07-17 21:01:17.571 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-17 21:01:17.585 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/login - 200 1408 application/json; charset=utf-8 1265.8087ms
2025-07-17 21:09:03.446 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory - multipart/form-data; boundary=--------------------------423762691077057667121777 396
2025-07-17 21:09:03.501 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:09:03.508 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:09:03.518 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:09:03.538 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto]]] CreateAsync(E_Commerce.DtoModels.CategoryDtos.CreateSubCategoryDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:09:03.610 +03:00 [INF] Executing CreateAsync
2025-07-17 21:09:03.616 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:09:03.629 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce) in 88.3991ms
2025-07-17 21:09:03.632 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:09:03.633 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory - 400 214 application/json; charset=utf-8 187.892ms
2025-07-17 21:09:36.510 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 21:09:39.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 2962.2578ms
2025-07-17 21:09:39.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 21:09:39.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 21:09:39.922 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 21:09:40.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 512.6206ms
2025-07-17 21:09:40.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 519.1658ms
2025-07-17 21:09:40.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 719.6426ms
2025-07-17 21:09:40.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 21:09:40.833 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory - multipart/form-data; boundary=--------------------------148322392602505978977618 396
2025-07-17 21:09:40.941 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:09:40.954 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type '<>f__AnonymousType3`1' from assembly 'E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeMethodInfo.<get_Signature>g__LazyCreateSignature|25_0()
   at System.Reflection.RuntimeMethodInfo.GetParameters()
   at Microsoft.Extensions.Internal.PropertyHelper.IsInterestingProperty(PropertyInfo property)
   at Microsoft.Extensions.Internal.PropertyHelper.<GetProperties>g__AddInterestingProperties|39_0(List`1 propertyHelpers, Type type)
   at Microsoft.Extensions.Internal.PropertyHelper.GetProperties(Type type, ConcurrentDictionary`2 cache)
   at Microsoft.Extensions.Internal.PropertyHelper.GetVisibleProperties(Type type, ConcurrentDictionary`2 allPropertiesCache, ConcurrentDictionary`2 visiblePropertiesCache)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.CreatePropertyDetails(ModelMetadataIdentity key)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.GetMetadataForProperties(Type modelType)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadata.get_Properties()
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.PseudoModelBindingVisitor.Visit(ApiParameterDescriptionContext bindingContext, BindingSource ambientSource, String containerName)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.GetParameters(ApiParameterContext context)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.CreateApiDescription(ControllerActionDescriptor action, String httpMethod, String groupName)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.DefaultApiDescriptionProvider.OnProvidersExecuting(ApiDescriptionProviderContext context)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider.GetCollection(ActionDescriptorCollection actionDescriptors)
   at Microsoft.AspNetCore.Mvc.ApiExplorer.ApiDescriptionGroupCollectionProvider.get_ApiDescriptionGroups()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutPaths(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 21:09:40.959 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:09:41.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 295.0556ms
2025-07-17 21:09:41.109 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:09:41.189 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:09:41.195 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type '<>f__AnonymousType3`1' from assembly 'E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeMethodInfo.<get_Signature>g__LazyCreateSignature|25_0()
   at System.Reflection.RuntimeMethodInfo.GetParameters()
   at Microsoft.Extensions.Internal.PropertyHelper.IsInterestingProperty(PropertyInfo property)
   at Microsoft.Extensions.Internal.PropertyHelper.<GetProperties>g__AddInterestingProperties|39_0(List`1 propertyHelpers, Type type)
   at Microsoft.Extensions.Internal.PropertyHelper.GetProperties(Type type, ConcurrentDictionary`2 cache)
   at Microsoft.Extensions.Internal.PropertyHelper.GetVisibleProperties(Type type, ConcurrentDictionary`2 allPropertiesCache, ConcurrentDictionary`2 visiblePropertiesCache)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.CreatePropertyDetails(ModelMetadataIdentity key)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.GetMetadataForProperties(Type modelType)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadata.get_Properties()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider.GetBinder(ModelBinderProviderContext context)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory.CreateBinderCoreUncached(DefaultModelBinderProviderContext providerContext, Object token)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory.CreateBinder(ModelBinderFactoryContext context)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.GetParameterBindingInfo(IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.CreateBinderDelegate(ParameterBinder parameterBinder, IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor, MvcOptions mvcOptions)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at SecurityStampMiddleware.Invoke(HttpContext context)
   at E_Commerce.Middleware.UserAuthenticationMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 21:09:41.237 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory - 500 null text/plain; charset=utf-8 403.9561ms
2025-07-17 21:09:44.458 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory - multipart/form-data; boundary=--------------------------770268982712808043677880 396
2025-07-17 21:09:45.459 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:09:45.478 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:09:45.562 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:09:46.241 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:09:46.438 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type '<>f__AnonymousType3`1' from assembly 'E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeMethodInfo.<get_Signature>g__LazyCreateSignature|25_0()
   at System.Reflection.RuntimeMethodInfo.GetParameters()
   at Microsoft.Extensions.Internal.PropertyHelper.IsInterestingProperty(PropertyInfo property)
   at Microsoft.Extensions.Internal.PropertyHelper.<GetProperties>g__AddInterestingProperties|39_0(List`1 propertyHelpers, Type type)
   at Microsoft.Extensions.Internal.PropertyHelper.GetProperties(Type type, ConcurrentDictionary`2 cache)
   at Microsoft.Extensions.Internal.PropertyHelper.GetVisibleProperties(Type type, ConcurrentDictionary`2 allPropertiesCache, ConcurrentDictionary`2 visiblePropertiesCache)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.CreatePropertyDetails(ModelMetadataIdentity key)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadataProvider.GetMetadataForProperties(Type modelType)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Metadata.DefaultModelMetadata.get_Properties()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider.GetBinder(ModelBinderProviderContext context)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory.CreateBinderCoreUncached(DefaultModelBinderProviderContext providerContext, Object token)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory.CreateBinder(ModelBinderFactoryContext context)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.GetParameterBindingInfo(IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.CreateBinderDelegate(ParameterBinder parameterBinder, IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor, MvcOptions mvcOptions)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass12_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at SecurityStampMiddleware.Invoke(HttpContext context)
   at E_Commerce.Middleware.UserAuthenticationMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-17 21:09:48.418 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory - 500 null text/plain; charset=utf-8 3956.281ms
2025-07-17 21:11:38.863 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 21:11:43.467 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 21:11:43.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 21:11:43.563 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 21:11:43.590 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 21:11:43.634 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 21:11:44.251 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 21:11:44.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 21:11:44.506 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 21:11:47.179 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 21:11:47.186 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 21:11:47.569 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 21:11:48.106 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 21:11:48.194 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 21:11:48.217 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 21:11:48.232 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 21:11:48.404 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 21:11:48.499 +03:00 [INF] Server mrrobot:6664:b9b0b540 successfully announced in 55.9454 ms
2025-07-17 21:11:48.820 +03:00 [INF] Hosting environment: Development
2025-07-17 21:11:48.834 +03:00 [INF] Server mrrobot:6664:b9b0b540 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 21:11:48.993 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 21:11:49.550 +03:00 [INF] Server mrrobot:6664:b9b0b540 all the dispatchers started
2025-07-17 21:11:51.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 21:11:51.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 409.2938ms
2025-07-17 21:11:52.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 21:11:52.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 15.3839ms
2025-07-17 21:11:52.676 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 21:11:52.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 21:11:52.723 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 33.6805ms
2025-07-17 21:11:52.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.3632ms
2025-07-17 21:11:53.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 21:11:53.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 275.9635ms
2025-07-17 21:14:06.029 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory - multipart/form-data; boundary=--------------------------267729454888045120458510 396
2025-07-17 21:14:11.181 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:14:11.266 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:14:11.362 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:14:11.480 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto]]] CreateAsync(E_Commerce.DtoModels.CategoryDtos.CreateSubCategoryDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:14:12.016 +03:00 [INF] Executing CreateAsync
2025-07-17 21:14:12.028 +03:00 [INF] Execute CreateAsync
2025-07-17 21:14:12.033 +03:00 [INF] Executing GetByIdAsync for entity Category with ID: 1
2025-07-17 21:14:12.065 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-07-17 21:14:12.280 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`IsActive`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t0`.`Id`, `t0`.`Url`, `t0`.`IsMain`
FROM (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`Description`, `s`.`IsActive`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`ModifiedAt`, `s`.`DeletedAt`
    FROM `SubCategories` AS `s`
    WHERE `s`.`Name` = @__name_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `i`.`SubCategoryId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
ORDER BY `t`.`Id`
2025-07-17 21:14:12.328 +03:00 [INF] Executing CreateAsync for entity SubCategory
2025-07-17 21:14:12.449 +03:00 [INF] SubCategory added successfully (pending save)
2025-07-17 21:14:12.626 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `SubCategories` (`CategoryId`, `CreatedAt`, `DeletedAt`, `Description`, `ImageId`, `IsActive`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `SubCategories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:14:12.679 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 21:14:12.683 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 21:14:12.722 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 21:14:12.728 +03:00 [INF] Removing cache by tag: subcategory
2025-07-17 21:14:12.766 +03:00 [INF] Removed 1 cache entries for tag: subcategory
2025-07-17 21:14:12.810 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:14:12.843 +03:00 [INF] Retrieving subcategory with ID 1 after creation
2025-07-17 21:14:12.851 +03:00 [INF] Executing GetSubCategoryById for id: 1
2025-07-17 21:14:12.941 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-17 21:14:13.002 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`IsActive`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t0`.`Id`, `t0`.`Url`, `t0`.`IsMain`, `t0`.`UploadDate`, `t0`.`FileType`, `t1`.`Id`, `t1`.`Name`, `t1`.`Description`, `t1`.`Quantity`, `t1`.`Gender`, `t1`.`SubCategoryId`, `t1`.`CreatedAt`, `t1`.`ModifiedAt`, `t1`.`DeletedAt`, `t1`.`Id0`, `t1`.`Id1`, `t1`.`Url`, `t1`.`IsMain`, `t1`.`FileType`, `t1`.`c`, `t1`.`Name0`, `t1`.`Description0`, `t1`.`DiscountPercent`, `t1`.`StartDate`, `t1`.`EndDate`, `t1`.`IsActive`, `t1`.`Id2`, `t1`.`Color`, `t1`.`Size`, `t1`.`Quantity0`, `t1`.`CreatedAt0`, `t1`.`ModifiedAt0`, `t1`.`DeletedAt0`
FROM (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`Description`, `s`.`IsActive`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`ModifiedAt`, `s`.`DeletedAt`
    FROM `SubCategories` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `i`.`UploadDate`, `i`.`FileType`, `i`.`SubCategoryId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
LEFT JOIN (
    SELECT `p`.`Id`, `p`.`Name`, `p`.`Description`, `p`.`Quantity`, `p`.`Gender`, `p`.`SubCategoryId`, `p`.`CreatedAt`, `p`.`ModifiedAt`, `p`.`DeletedAt`, `d`.`Id` AS `Id0`, `t2`.`Id` AS `Id1`, `t2`.`Url`, `t2`.`IsMain`, `t2`.`FileType`, `d`.`Id` IS NOT NULL AS `c`, `d`.`Name` AS `Name0`, `d`.`Description` AS `Description0`, `d`.`DiscountPercent`, `d`.`StartDate`, `d`.`EndDate`, `d`.`IsActive`, `t3`.`Id` AS `Id2`, `t3`.`Color`, `t3`.`Size`, `t3`.`Quantity` AS `Quantity0`, `t3`.`CreatedAt` AS `CreatedAt0`, `t3`.`ModifiedAt` AS `ModifiedAt0`, `t3`.`DeletedAt` AS `DeletedAt0`
    FROM `Products` AS `p`
    LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
    LEFT JOIN (
        SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`IsMain`, `i0`.`FileType`, `i0`.`ProductId`
        FROM `Images` AS `i0`
        WHERE `i0`.`DeletedAt` IS NULL
    ) AS `t2` ON `p`.`Id` = `t2`.`ProductId`
    LEFT JOIN (
        SELECT `p0`.`Id`, `p0`.`Color`, `p0`.`Size`, `p0`.`Quantity`, `p0`.`CreatedAt`, `p0`.`ModifiedAt`, `p0`.`DeletedAt`, `p0`.`ProductId`
        FROM `ProductVariants` AS `p0`
        WHERE `p0`.`DeletedAt` IS NULL
    ) AS `t3` ON `p`.`Id` = `t3`.`ProductId`
    WHERE `p`.`DeletedAt` IS NULL
) AS `t1` ON `t`.`Id` = `t1`.`SubCategoryId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t1`.`Id1`
2025-07-17 21:14:13.014 +03:00 [INF] SubCategory with id: 1 exists
2025-07-17 21:14:13.016 +03:00 [INF] Successfully retrieved subcategory: Id=1, Name=fgsdg
2025-07-17 21:14:13.017 +03:00 [INF] SubCategory has 0 images
2025-07-17 21:14:13.019 +03:00 [INF] Mapping subcategory with 0 images
2025-07-17 21:14:13.031 +03:00 [INF] Successfully mapped subcategory to DTO
2025-07-17 21:14:13.092 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:14:13.159 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce) in 1660.5325ms
2025-07-17 21:14:13.162 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.CreateAsync (E-Commerce)'
2025-07-17 21:14:13.170 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory - 201 460 application/json; charset=utf-8 7140.9877ms
2025-07-17 21:16:49.121 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 21:17:01.749 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory/1/AddMainImage - multipart/form-data; boundary=--------------------------631195652843919889787956 220
2025-07-17 21:17:01.760 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:17:01.769 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:17:01.780 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.AddMainImageAsync (E-Commerce)'
2025-07-17 21:17:01.788 +03:00 [INF] Route matched with {action = "AddMainImageAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]] AddMainImageAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddMainImageDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:17:01.808 +03:00 [INF] Executing AddMainImageAsync for id: 1
2025-07-17 21:17:01.814 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:17:01.821 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.AddMainImageAsync (E-Commerce) in 25.3152ms
2025-07-17 21:17:01.829 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.AddMainImageAsync (E-Commerce)'
2025-07-17 21:17:01.834 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory/1/AddMainImage - 400 207 application/json; charset=utf-8 83.6666ms
2025-07-17 21:17:26.127 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory/1/AddMainImage - multipart/form-data; boundary=--------------------------569951829690334775604993 341525
2025-07-17 21:17:26.146 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:17:26.155 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:17:26.183 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.AddMainImageAsync (E-Commerce)'
2025-07-17 21:17:26.202 +03:00 [INF] Route matched with {action = "AddMainImageAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]] AddMainImageAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddMainImageDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:17:26.307 +03:00 [INF] Executing AddMainImageAsync for id: 1
2025-07-17 21:17:26.338 +03:00 [INF] Executing AddMainImageToSubCategoryAsync for subCategoryId: 1
2025-07-17 21:17:26.340 +03:00 [INF] Execute GetAll for entity SubCategory
2025-07-17 21:17:26.549 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__subCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t0`.`Id`, `t0`.`AltText`, `t0`.`CategoryId`, `t0`.`CollectionId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__subCategoryId_0) AND `s`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
ORDER BY `t`.`Id`
2025-07-17 21:17:26.587 +03:00 [INF] 📥 Saving main image to SubCategoryPhotos
2025-07-17 21:17:26.661 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-17 21:17:26.803 +03:00 [INF] Image added successfully (pending save)
2025-07-17 21:17:26.829 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:17:26.840 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 21:17:26.843 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 21:17:26.846 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 21:17:26.848 +03:00 [INF] ✅ Main image saved: /SubCategoryPhotos/aa0caf54-87f5-460f-80fe-55ed545326e7.jpg
2025-07-17 21:17:26.850 +03:00 [INF] Execute Update for entity SubCategory
2025-07-17 21:17:26.853 +03:00 [INF] SubCategory marked for update (pending save)
2025-07-17 21:17:26.855 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 21:17:26.856 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 21:17:26.859 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 21:17:26.901 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p10='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?' (Size = 4000), @p11='?' (Size = 255), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p19='?' (Size = 255), @p20='?' (DbType = DateTime), @p21='?' (DbType = DateTime), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `SubCategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `SubCategories` SET `CategoryId` = @p2, `CreatedAt` = @p3, `DeletedAt` = @p4, `Description` = @p5, `ImageId` = @p6, `IsActive` = @p7, `ModifiedAt` = @p8, `Name` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:17:26.929 +03:00 [INF] Removing cache by tag: subcategory
2025-07-17 21:17:26.933 +03:00 [WRN] No cache entries found for tag: subcategory
2025-07-17 21:17:26.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:17:26.954 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.AddMainImageAsync (E-Commerce) in 748.2594ms
2025-07-17 21:17:26.957 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.AddMainImageAsync (E-Commerce)'
2025-07-17 21:17:26.973 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory/1/AddMainImage - 200 1188 application/json; charset=utf-8 849.4014ms
2025-07-17 21:17:55.181 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory/95454299/AddExtraImages - multipart/form-data; boundary=--------------------------603283674321428666085537 341691
2025-07-17 21:17:55.188 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:17:55.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:17:55.215 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 21:17:55.234 +03:00 [INF] Route matched with {action = "AddExtraImagesAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]]] AddExtraImagesAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddImagesDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:17:55.303 +03:00 [INF] Executing AddExtraImagesAsync for id: 95454299
2025-07-17 21:17:55.367 +03:00 [INF] Executing AddImagesToSubCategoryAsync for subCategoryId: 95454299
2025-07-17 21:17:55.370 +03:00 [INF] Execute GetAll for entity SubCategory
2025-07-17 21:17:55.485 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__subCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t0`.`Id`, `t0`.`AltText`, `t0`.`CategoryId`, `t0`.`CollectionId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__subCategoryId_0) AND `s`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
ORDER BY `t`.`Id`
2025-07-17 21:17:55.498 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 21:17:55.504 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.AddExtraImagesAsync (E-Commerce) in 266.4743ms
2025-07-17 21:17:55.509 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 21:17:55.881 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory/95454299/AddExtraImages - 404 1233 application/json; charset=utf-8 699.4062ms
2025-07-17 21:18:02.227 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/SubCategory/1/AddExtraImages - multipart/form-data; boundary=--------------------------279522653558922004078648 341691
2025-07-17 21:18:02.234 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:18:02.238 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:18:02.244 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 21:18:02.245 +03:00 [INF] Route matched with {action = "AddExtraImagesAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]]] AddExtraImagesAsync(Int32, E_Commerce.DtoModels.CategoryDtos.AddImagesDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:18:02.256 +03:00 [INF] Executing AddExtraImagesAsync for id: 1
2025-07-17 21:18:02.258 +03:00 [INF] Executing AddImagesToSubCategoryAsync for subCategoryId: 1
2025-07-17 21:18:02.259 +03:00 [INF] Execute GetAll for entity SubCategory
2025-07-17 21:18:02.284 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__subCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t0`.`Id`, `t0`.`AltText`, `t0`.`CategoryId`, `t0`.`CollectionId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__subCategoryId_0) AND `s`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
ORDER BY `t`.`Id`
2025-07-17 21:18:02.306 +03:00 [INF] 📥 Saving 2 images to SubCategoryPhotos
2025-07-17 21:18:02.314 +03:00 [INF] 📥 Saving image to SubCategoryPhotos
2025-07-17 21:18:02.316 +03:00 [ERR] ❌ Failed to save image #1: File size must be between 1 and 5MB
2025-07-17 21:18:02.318 +03:00 [INF] 📥 Saving image to SubCategoryPhotos
2025-07-17 21:18:02.323 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-17 21:18:02.324 +03:00 [INF] Image added successfully (pending save)
2025-07-17 21:18:02.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:18:02.338 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 21:18:02.340 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 21:18:02.342 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 21:18:02.343 +03:00 [INF] ✅ Image saved: /SubCategoryPhotos/3552c78d-b58f-4eb4-8a0b-82dc19152009.jpg
2025-07-17 21:18:02.347 +03:00 [WRN] Some images failed to save: Image #1: File size must be between 1 and 5MB
2025-07-17 21:18:02.350 +03:00 [INF] Execute Update for entity SubCategory
2025-07-17 21:18:02.351 +03:00 [INF] SubCategory marked for update (pending save)
2025-07-17 21:18:02.353 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 21:18:02.354 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 21:18:02.356 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 21:18:02.363 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p10='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 50), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?' (Size = 4000), @p11='?' (Size = 255), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p19='?' (Size = 255), @p20='?' (DbType = DateTime), @p21='?' (DbType = DateTime), @p22='?' (Size = 4000), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `SubCategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `SubCategories` SET `CategoryId` = @p2, `CreatedAt` = @p3, `DeletedAt` = @p4, `Description` = @p5, `ImageId` = @p6, `IsActive` = @p7, `ModifiedAt` = @p8, `Name` = @p9
WHERE `Id` = @p10;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:18:02.383 +03:00 [INF] Removing cache by tag: subcategory
2025-07-17 21:18:02.386 +03:00 [WRN] No cache entries found for tag: subcategory
2025-07-17 21:18:02.408 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-17 21:18:02.417 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.AddExtraImagesAsync (E-Commerce) in 169.7366ms
2025-07-17 21:18:02.419 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.AddExtraImagesAsync (E-Commerce)'
2025-07-17 21:18:02.422 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/SubCategory/1/AddExtraImages - 200 1347 application/json; charset=utf-8 195.7826ms
2025-07-17 21:18:18.986 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/SubCategory/95454299 - null null
2025-07-17 21:18:18.998 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:18:19.004 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:18:19.008 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce)'
2025-07-17 21:18:19.026 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto]]] GetByIdAsync(Int32, Boolean, Boolean) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:18:19.038 +03:00 [INF] Executing GetByIdAsync for id: 95454299, isActive: True, includeDeleted: False
2025-07-17 21:18:19.044 +03:00 [INF] Execute:GetSubCategoryByIdAsync in services for id: 95454299, isActive: True, includeDeleted: False
2025-07-17 21:18:19.052 +03:00 [INF] Getting cache for key: subcategoryid:95454299_active:True_deleted:False
2025-07-17 21:18:19.066 +03:00 [WRN] Cache miss for key: subcategoryid:95454299_active:True_deleted:False
2025-07-17 21:18:19.067 +03:00 [INF] Executing GetSubCategoryById for id: 95454299
2025-07-17 21:18:19.289 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-17 21:18:19.337 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`IsActive`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t0`.`Id`, `t0`.`Url`, `t0`.`IsMain`, `t0`.`UploadDate`, `t0`.`FileType`, `t1`.`Id`, `t1`.`Name`, `t1`.`Description`, `t1`.`Quantity`, `t1`.`Gender`, `t1`.`SubCategoryId`, `t1`.`CreatedAt`, `t1`.`ModifiedAt`, `t1`.`DeletedAt`, `t1`.`Id0`, `t1`.`Id1`, `t1`.`Url`, `t1`.`IsMain`, `t1`.`FileType`, `t1`.`c`, `t1`.`Name0`, `t1`.`Description0`, `t1`.`DiscountPercent`, `t1`.`StartDate`, `t1`.`EndDate`, `t1`.`IsActive`, `t1`.`Id2`, `t1`.`Color`, `t1`.`Size`, `t1`.`Quantity0`, `t1`.`CreatedAt0`, `t1`.`ModifiedAt0`, `t1`.`DeletedAt0`
FROM (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`Description`, `s`.`IsActive`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`ModifiedAt`, `s`.`DeletedAt`
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__id_0) AND `s`.`IsActive`
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `i`.`UploadDate`, `i`.`FileType`, `i`.`SubCategoryId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
LEFT JOIN (
    SELECT `p`.`Id`, `p`.`Name`, `p`.`Description`, `p`.`Quantity`, `p`.`Gender`, `p`.`SubCategoryId`, `p`.`CreatedAt`, `p`.`ModifiedAt`, `p`.`DeletedAt`, `d`.`Id` AS `Id0`, `t2`.`Id` AS `Id1`, `t2`.`Url`, `t2`.`IsMain`, `t2`.`FileType`, `d`.`Id` IS NOT NULL AS `c`, `d`.`Name` AS `Name0`, `d`.`Description` AS `Description0`, `d`.`DiscountPercent`, `d`.`StartDate`, `d`.`EndDate`, `d`.`IsActive`, `t3`.`Id` AS `Id2`, `t3`.`Color`, `t3`.`Size`, `t3`.`Quantity` AS `Quantity0`, `t3`.`CreatedAt` AS `CreatedAt0`, `t3`.`ModifiedAt` AS `ModifiedAt0`, `t3`.`DeletedAt` AS `DeletedAt0`
    FROM `Products` AS `p`
    LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
    LEFT JOIN (
        SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`IsMain`, `i0`.`FileType`, `i0`.`ProductId`
        FROM `Images` AS `i0`
        WHERE `i0`.`DeletedAt` IS NULL
    ) AS `t2` ON `p`.`Id` = `t2`.`ProductId`
    LEFT JOIN (
        SELECT `p0`.`Id`, `p0`.`Color`, `p0`.`Size`, `p0`.`Quantity`, `p0`.`CreatedAt`, `p0`.`ModifiedAt`, `p0`.`DeletedAt`, `p0`.`ProductId`
        FROM `ProductVariants` AS `p0`
        WHERE `p0`.`DeletedAt` IS NULL
    ) AS `t3` ON `p`.`Id` = `t3`.`ProductId`
    WHERE `p`.`DeletedAt` IS NULL
) AS `t1` ON `t`.`Id` = `t1`.`SubCategoryId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t1`.`Id1`
2025-07-17 21:18:19.353 +03:00 [WRN] SubCategory with id: 95454299 doesn't exist
2025-07-17 21:18:19.355 +03:00 [WRN] SubCategory with id: 95454299 not found
2025-07-17 21:18:19.369 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:18:19.371 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce) in 337.6198ms
2025-07-17 21:18:19.424 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce)'
2025-07-17 21:18:19.432 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/SubCategory/95454299 - 404 1235 application/json; charset=utf-8 446.6306ms
2025-07-17 21:18:28.206 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/SubCategory/1 - null null
2025-07-17 21:18:28.236 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:18:28.419 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:18:28.424 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce)'
2025-07-17 21:18:28.427 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto]]] GetByIdAsync(Int32, Boolean, Boolean) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:18:28.431 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: True, includeDeleted: False
2025-07-17 21:18:28.433 +03:00 [INF] Execute:GetSubCategoryByIdAsync in services for id: 1, isActive: True, includeDeleted: False
2025-07-17 21:18:28.434 +03:00 [INF] Getting cache for key: subcategoryid:1_active:True_deleted:False
2025-07-17 21:18:28.436 +03:00 [WRN] Cache miss for key: subcategoryid:1_active:True_deleted:False
2025-07-17 21:18:28.438 +03:00 [INF] Executing GetSubCategoryById for id: 1
2025-07-17 21:18:28.728 +03:00 [INF] Executed DbCommand (287ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`IsActive`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t0`.`Id`, `t0`.`Url`, `t0`.`IsMain`, `t0`.`UploadDate`, `t0`.`FileType`, `t1`.`Id`, `t1`.`Name`, `t1`.`Description`, `t1`.`Quantity`, `t1`.`Gender`, `t1`.`SubCategoryId`, `t1`.`CreatedAt`, `t1`.`ModifiedAt`, `t1`.`DeletedAt`, `t1`.`Id0`, `t1`.`Id1`, `t1`.`Url`, `t1`.`IsMain`, `t1`.`FileType`, `t1`.`c`, `t1`.`Name0`, `t1`.`Description0`, `t1`.`DiscountPercent`, `t1`.`StartDate`, `t1`.`EndDate`, `t1`.`IsActive`, `t1`.`Id2`, `t1`.`Color`, `t1`.`Size`, `t1`.`Quantity0`, `t1`.`CreatedAt0`, `t1`.`ModifiedAt0`, `t1`.`DeletedAt0`
FROM (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`Description`, `s`.`IsActive`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`ModifiedAt`, `s`.`DeletedAt`
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__id_0) AND `s`.`IsActive`
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `i`.`UploadDate`, `i`.`FileType`, `i`.`SubCategoryId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
LEFT JOIN (
    SELECT `p`.`Id`, `p`.`Name`, `p`.`Description`, `p`.`Quantity`, `p`.`Gender`, `p`.`SubCategoryId`, `p`.`CreatedAt`, `p`.`ModifiedAt`, `p`.`DeletedAt`, `d`.`Id` AS `Id0`, `t2`.`Id` AS `Id1`, `t2`.`Url`, `t2`.`IsMain`, `t2`.`FileType`, `d`.`Id` IS NOT NULL AS `c`, `d`.`Name` AS `Name0`, `d`.`Description` AS `Description0`, `d`.`DiscountPercent`, `d`.`StartDate`, `d`.`EndDate`, `d`.`IsActive`, `t3`.`Id` AS `Id2`, `t3`.`Color`, `t3`.`Size`, `t3`.`Quantity` AS `Quantity0`, `t3`.`CreatedAt` AS `CreatedAt0`, `t3`.`ModifiedAt` AS `ModifiedAt0`, `t3`.`DeletedAt` AS `DeletedAt0`
    FROM `Products` AS `p`
    LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
    LEFT JOIN (
        SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`IsMain`, `i0`.`FileType`, `i0`.`ProductId`
        FROM `Images` AS `i0`
        WHERE `i0`.`DeletedAt` IS NULL
    ) AS `t2` ON `p`.`Id` = `t2`.`ProductId`
    LEFT JOIN (
        SELECT `p0`.`Id`, `p0`.`Color`, `p0`.`Size`, `p0`.`Quantity`, `p0`.`CreatedAt`, `p0`.`ModifiedAt`, `p0`.`DeletedAt`, `p0`.`ProductId`
        FROM `ProductVariants` AS `p0`
        WHERE `p0`.`DeletedAt` IS NULL
    ) AS `t3` ON `p`.`Id` = `t3`.`ProductId`
    WHERE `p`.`DeletedAt` IS NULL
) AS `t1` ON `t`.`Id` = `t1`.`SubCategoryId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t1`.`Id1`
2025-07-17 21:18:28.736 +03:00 [WRN] SubCategory with id: 1 doesn't exist
2025-07-17 21:18:28.739 +03:00 [WRN] SubCategory with id: 1 not found
2025-07-17 21:18:28.749 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:18:28.754 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce) in 323.6045ms
2025-07-17 21:18:28.757 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce)'
2025-07-17 21:18:28.772 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/SubCategory/1 - 404 1172 application/json; charset=utf-8 566.1371ms
2025-07-17 21:18:43.311 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/SubCategory/1?isActive=false - null null
2025-07-17 21:18:43.318 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:18:43.322 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:18:43.326 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce)'
2025-07-17 21:18:43.328 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto]]] GetByIdAsync(Int32, Boolean, Boolean) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:18:43.341 +03:00 [INF] Executing GetByIdAsync for id: 1, isActive: False, includeDeleted: False
2025-07-17 21:18:43.343 +03:00 [INF] Execute:GetSubCategoryByIdAsync in services for id: 1, isActive: False, includeDeleted: False
2025-07-17 21:18:43.344 +03:00 [INF] Getting cache for key: subcategoryid:1_active:False_deleted:False
2025-07-17 21:18:43.351 +03:00 [WRN] Cache miss for key: subcategoryid:1_active:False_deleted:False
2025-07-17 21:18:43.353 +03:00 [INF] Executing GetSubCategoryById for id: 1
2025-07-17 21:18:43.406 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`IsActive`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t0`.`Id`, `t0`.`Url`, `t0`.`IsMain`, `t0`.`UploadDate`, `t0`.`FileType`, `t1`.`Id`, `t1`.`Name`, `t1`.`Description`, `t1`.`Quantity`, `t1`.`Gender`, `t1`.`SubCategoryId`, `t1`.`CreatedAt`, `t1`.`ModifiedAt`, `t1`.`DeletedAt`, `t1`.`Id0`, `t1`.`Id1`, `t1`.`Url`, `t1`.`IsMain`, `t1`.`FileType`, `t1`.`c`, `t1`.`Name0`, `t1`.`Description0`, `t1`.`DiscountPercent`, `t1`.`StartDate`, `t1`.`EndDate`, `t1`.`IsActive`, `t1`.`Id2`, `t1`.`Color`, `t1`.`Size`, `t1`.`Quantity0`, `t1`.`CreatedAt0`, `t1`.`ModifiedAt0`, `t1`.`DeletedAt0`
FROM (
    SELECT `s`.`Id`, `s`.`Name`, `s`.`Description`, `s`.`IsActive`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`ModifiedAt`, `s`.`DeletedAt`
    FROM `SubCategories` AS `s`
    WHERE `s`.`Id` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`IsMain`, `i`.`UploadDate`, `i`.`FileType`, `i`.`SubCategoryId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
LEFT JOIN (
    SELECT `p`.`Id`, `p`.`Name`, `p`.`Description`, `p`.`Quantity`, `p`.`Gender`, `p`.`SubCategoryId`, `p`.`CreatedAt`, `p`.`ModifiedAt`, `p`.`DeletedAt`, `d`.`Id` AS `Id0`, `t2`.`Id` AS `Id1`, `t2`.`Url`, `t2`.`IsMain`, `t2`.`FileType`, `d`.`Id` IS NOT NULL AS `c`, `d`.`Name` AS `Name0`, `d`.`Description` AS `Description0`, `d`.`DiscountPercent`, `d`.`StartDate`, `d`.`EndDate`, `d`.`IsActive`, `t3`.`Id` AS `Id2`, `t3`.`Color`, `t3`.`Size`, `t3`.`Quantity` AS `Quantity0`, `t3`.`CreatedAt` AS `CreatedAt0`, `t3`.`ModifiedAt` AS `ModifiedAt0`, `t3`.`DeletedAt` AS `DeletedAt0`
    FROM `Products` AS `p`
    LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
    LEFT JOIN (
        SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`IsMain`, `i0`.`FileType`, `i0`.`ProductId`
        FROM `Images` AS `i0`
        WHERE `i0`.`DeletedAt` IS NULL
    ) AS `t2` ON `p`.`Id` = `t2`.`ProductId`
    LEFT JOIN (
        SELECT `p0`.`Id`, `p0`.`Color`, `p0`.`Size`, `p0`.`Quantity`, `p0`.`CreatedAt`, `p0`.`ModifiedAt`, `p0`.`DeletedAt`, `p0`.`ProductId`
        FROM `ProductVariants` AS `p0`
        WHERE `p0`.`DeletedAt` IS NULL
    ) AS `t3` ON `p`.`Id` = `t3`.`ProductId`
    WHERE `p`.`DeletedAt` IS NULL
) AS `t1` ON `t`.`Id` = `t1`.`SubCategoryId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t1`.`Id1`
2025-07-17 21:18:43.414 +03:00 [INF] SubCategory with id: 1 exists
2025-07-17 21:18:43.421 +03:00 [INF] Setting cache for key: subcategoryid:1_active:False_deleted:False
2025-07-17 21:18:43.548 +03:00 [INF] Cache set successfully for key: subcategoryid:1_active:False_deleted:False with tags: [subcategory]
2025-07-17 21:18:43.568 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:18:43.573 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce) in 241.8378ms
2025-07-17 21:18:43.579 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.GetByIdAsync (E-Commerce)'
2025-07-17 21:18:43.586 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/SubCategory/1?isActive=false - 200 1472 application/json; charset=utf-8 275.6529ms
2025-07-17 21:19:28.218 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/SubCategory/1 - multipart/form-data; boundary=--------------------------122122665667629108770215 456
2025-07-17 21:19:28.227 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-17 21:19:28.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-17 21:19:28.250 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.UpdateAsync (E-Commerce)'
2025-07-17 21:19:28.272 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto]]] UpdateAsync(Int32, E_Commerce.DtoModels.CategoryDtos.UpdateSubCategoryDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-07-17 21:19:28.299 +03:00 [INF] Executing UpdateAsync for id: 1
2025-07-17 21:19:28.320 +03:00 [INF] Executing UpdateAsync for subCategoryId: 1
2025-07-17 21:19:28.323 +03:00 [INF] Execute GetAll for entity SubCategory
2025-07-17 21:19:28.386 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__subCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t0`.`Id`, `t0`.`AltText`, `t0`.`CategoryId`, `t0`.`CollectionId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__subCategoryId_0) AND `s`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`SubCategoryId`
ORDER BY `t`.`Id`
2025-07-17 21:19:28.398 +03:00 [INF] Update data received - Name: 'x X6Vn5', Description: ' "Y7 -PQnorrfkf 6Uq6xb-ND)QOOqc fnNFLv  Y   YgpCtK', CategoryId: 1, IsActive: False
2025-07-17 21:19:28.401 +03:00 [INF] Updating name from 'fgsdg' to 'x X6Vn5'
2025-07-17 21:19:28.403 +03:00 [INF] Execute GetAll for entity SubCategory
2025-07-17 21:19:28.436 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__trimmedName_0='?' (Size = 4000), @__8__locals1_subCategoryId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `SubCategories` AS `s`
    WHERE ((`s`.`Name` = @__trimmedName_0) AND (`s`.`Id` <> @__8__locals1_subCategoryId_1)) AND `s`.`DeletedAt` IS NULL)
2025-07-17 21:19:28.442 +03:00 [INF] Name updated successfully to 'x X6Vn5'
2025-07-17 21:19:28.444 +03:00 [INF] Updating description from 'wsaddasdasda' to '"Y7 -PQnorrfkf 6Uq6xb-ND)QOOqc fnNFLv  Y   YgpCtK'
2025-07-17 21:19:28.446 +03:00 [INF] Description updated successfully
2025-07-17 21:19:28.449 +03:00 [INF] SubCategory 1 has changes, updating ModifiedAt timestamp
2025-07-17 21:19:28.452 +03:00 [INF] Final entity state - Name: 'x X6Vn5', Description: '"Y7 -PQnorrfkf 6Uq6xb-ND)QOOqc fnNFLv  Y   YgpCtK', CategoryId: 1, IsActive: False, ModifiedAt: 7/17/2025 6:19:28 PM
2025-07-17 21:19:28.454 +03:00 [INF] Changes will be committed to database for SubCategory 1
2025-07-17 21:19:28.456 +03:00 [INF] Execute Update for entity SubCategory
2025-07-17 21:19:28.458 +03:00 [INF] SubCategory marked for update (pending save)
2025-07-17 21:19:28.459 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-17 21:19:28.463 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-17 21:19:28.466 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-17 21:19:28.478 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 50), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p9='?' (Size = 255), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `SubCategories` SET `CategoryId` = @p0, `CreatedAt` = @p1, `DeletedAt` = @p2, `Description` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-17 21:19:28.488 +03:00 [INF] Removing cache by tag: subcategory
2025-07-17 21:19:28.502 +03:00 [INF] Removed 1 cache entries for tag: subcategory
2025-07-17 21:19:28.504 +03:00 [INF] Successfully updated SubCategory 1
2025-07-17 21:19:28.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-17 21:19:28.516 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.UpdateAsync (E-Commerce) in 237.0941ms
2025-07-17 21:19:28.519 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.UpdateAsync (E-Commerce)'
2025-07-17 21:19:28.522 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/SubCategory/1 - 200 1544 application/json; charset=utf-8 303.8638ms
2025-07-17 21:30:47.620 +03:00 [INF] DB tables already exist. Exit install
2025-07-17 21:30:53.242 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 21:30:53.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-17 21:30:53.543 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-17 21:30:53.608 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-17 21:30:53.662 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-17 21:30:54.409 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 21:30:54.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-17 21:30:54.583 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-17 21:30:56.305 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-17 21:30:56.307 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-17 21:30:56.473 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-17 21:30:56.533 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-17 21:30:56.537 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-17 21:30:56.540 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-17 21:30:56.542 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-17 21:30:56.580 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-17 21:30:56.584 +03:00 [INF] Hosting environment: Development
2025-07-17 21:30:56.587 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-07-17 21:30:56.681 +03:00 [INF] Server mrrobot:9724:5ff1705c successfully announced in 53.447 ms
2025-07-17 21:30:56.694 +03:00 [INF] Server mrrobot:9724:5ff1705c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-17 21:30:56.709 +03:00 [INF] 1 servers were removed due to timeout
2025-07-17 21:30:56.897 +03:00 [INF] Server mrrobot:9724:5ff1705c all the dispatchers started
2025-07-17 21:30:56.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-17 21:30:57.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 339.9426ms
2025-07-17 21:30:57.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-17 21:30:57.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-17 21:30:57.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-17 21:30:57.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 37.8736ms
2025-07-17 21:30:57.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 48.8079ms
2025-07-17 21:30:57.871 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 177.8903ms
2025-07-17 21:30:58.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-17 21:30:59.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 476.1569ms
