2025-07-04 00:01:49.056 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 00:10:04.709 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:10:06.922 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:10:06.940 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:10:06.972 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:10:06.995 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:10:07.032 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:10:07.469 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:10:07.554 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:10:07.584 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:10:08.358 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:10:08.365 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:10:08.472 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:10:08.558 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:10:08.578 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:10:08.595 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:10:08.613 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:10:08.699 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:10:08.778 +03:00 [INF] Server mrrobot:12224:08aa63da successfully announced in 63.9334 ms
2025-07-04 00:10:08.914 +03:00 [INF] Hosting environment: Development
2025-07-04 00:10:08.929 +03:00 [INF] Server mrrobot:12224:08aa63da is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:10:08.930 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:10:09.186 +03:00 [INF] Server mrrobot:12224:08aa63da all the dispatchers started
2025-07-04 00:10:09.460 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:10:09.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 220.4347ms
2025-07-04 00:10:09.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:10:09.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:10:09.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:10:09.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 37.8689ms
2025-07-04 00:10:09.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 78.7156ms
2025-07-04 00:10:09.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.5754ms
2025-07-04 00:10:09.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:10:10.050 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.8494ms
2025-07-04 00:11:04.387 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:11:06.322 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:11:06.338 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:11:06.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:11:06.382 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:11:06.415 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:11:06.792 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:11:06.863 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:11:06.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:11:07.699 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:11:07.705 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:11:07.848 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:11:07.898 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:11:07.900 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:11:07.924 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:11:07.932 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:11:07.933 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:11:07.968 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:11:07.994 +03:00 [INF] Hosting environment: Development
2025-07-04 00:11:08.000 +03:00 [INF] Server mrrobot:10408:b3fa7614 successfully announced in 18.5095 ms
2025-07-04 00:11:08.001 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:11:08.029 +03:00 [INF] Server mrrobot:10408:b3fa7614 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:11:08.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 311.8054ms
2025-07-04 00:11:08.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:11:08.280 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:11:08.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:11:08.324 +03:00 [INF] Server mrrobot:10408:b3fa7614 all the dispatchers started
2025-07-04 00:11:08.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 64.6539ms
2025-07-04 00:11:08.357 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 76.3085ms
2025-07-04 00:11:08.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 159.436ms
2025-07-04 00:11:08.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:11:08.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.2745ms
2025-07-04 00:11:21.734 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:11:21.898 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:11:21 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:11:21.910 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:11:21 PM'.
2025-07-04 00:11:21.917 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:11:21.999 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:11:22.078 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:11:22.108 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:11:22.376 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:11:22.381 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:11:22.384 +03:00 [INF] Getting cache for key: category
2025-07-04 00:11:22.393 +03:00 [WRN] Cache miss for key: category
2025-07-04 00:11:22.395 +03:00 [INF] Execute GetAll for entity Category
2025-07-04 00:11:23.826 +03:00 [INF] Executed DbCommand (1,294ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`, `t`.`Id`, `t`.`AltText`, `t`.`CategoryId`, `t`.`CollectionId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`FileSize`, `t`.`FileType`, `t`.`Folder`, `t`.`Height`, `t`.`IsMain`, `t`.`ModifiedAt`, `t`.`ProductId`, `t`.`SubCategoryId`, `t`.`Title`, `t`.`UploadDate`, `t`.`Url`, `t`.`Width`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t` ON `c`.`Id` = `t`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`
2025-07-04 00:11:23.867 +03:00 [INF] Setting cache for key: category
2025-07-04 00:11:23.911 +03:00 [INF] Cache set successfully for key: category with tags: category
2025-07-04 00:11:23.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:11:23.997 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 1880.0972ms
2025-07-04 00:11:24.034 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:11:24.093 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18685 application/json; charset=utf-8 2359.3505ms
2025-07-04 00:12:51.553 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:12:53.403 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:12:53.417 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:12:53.437 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:12:53.456 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:12:53.482 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:12:53.875 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:12:53.986 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:12:54.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:12:54.644 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:12:54.648 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:12:54.769 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:12:54.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:12:54.862 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:12:54.888 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:12:54.899 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:12:54.900 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:12:54.935 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:12:54.944 +03:00 [INF] Hosting environment: Development
2025-07-04 00:12:54.966 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:12:54.973 +03:00 [INF] Server mrrobot:15548:50fccb71 successfully announced in 27.77 ms
2025-07-04 00:12:55.029 +03:00 [INF] Server mrrobot:15548:50fccb71 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:12:55.042 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 00:12:55.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 277.8424ms
2025-07-04 00:12:55.202 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:12:55.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 288.838ms
2025-07-04 00:12:55.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:12:55.388 +03:00 [INF] Server mrrobot:15548:50fccb71 all the dispatchers started
2025-07-04 00:12:55.202 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:12:55.599 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 396.2175ms
2025-07-04 00:12:55.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 428.5527ms
2025-07-04 00:12:55.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:12:56.034 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 281.2247ms
2025-07-04 00:13:01.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:13:01.842 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:13:01 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:13:01.862 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:13:01 PM'.
2025-07-04 00:13:01.868 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:13:01.941 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:13:01.998 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:13:02.028 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:13:02.333 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:13:02.348 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:13:02.354 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:13:02.368 +03:00 [WRN] Cache miss for key: categoryid:1
2025-07-04 00:13:02.400 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:13:02.559 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 00:13:02.615 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:13:02.742 +03:00 [INF] Category with id: 1 exists
2025-07-04 00:13:02.760 +03:00 [INF] Setting cache for key: categoryid:1
2025-07-04 00:13:02.794 +03:00 [INF] Cache set successfully for key: categoryid:1 with tags: category
2025-07-04 00:13:02.830 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:13:02.873 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 833.0768ms
2025-07-04 00:13:02.883 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:13:02.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 706 application/json; charset=utf-8 1172.2515ms
2025-07-04 00:13:16.755 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - null null
2025-07-04 00:13:16.781 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:13:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:13:16.787 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:13:16 PM'.
2025-07-04 00:13:16.790 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:13:16.799 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:13:16.809 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:13:16.828 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:13:16.836 +03:00 [INF] Executing DeleteAsync for id: 1
2025-07-04 00:13:16.839 +03:00 [INF] Executing DeleteAsync for categoryId: 1
2025-07-04 00:13:16.845 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:13:16.878 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:13:16.884 +03:00 [INF] Category with id: 1 exists
2025-07-04 00:13:16.888 +03:00 [INF] Execute SoftDeleteAsync for entity Category with ID: 1
2025-07-04 00:13:16.899 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-07-04 00:13:16.910 +03:00 [INF] Category with ID: 1 soft deleted.
2025-07-04 00:13:16.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:13:16.919 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 87.802ms
2025-07-04 00:13:16.923 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:13:16.929 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - 200 142 application/json; charset=utf-8 174.5321ms
2025-07-04 00:17:43.325 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:17:44.945 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:17:44.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:17:44.996 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:17:45.016 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:17:45.062 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:17:45.424 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:17:45.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:17:45.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:17:46.235 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:17:46.237 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:17:46.326 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:17:46.365 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:17:46.367 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:17:46.368 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:17:46.370 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:17:46.388 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:17:46.392 +03:00 [INF] Hosting environment: Development
2025-07-04 00:17:46.396 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:17:46.431 +03:00 [INF] Server mrrobot:6740:bd944237 successfully announced in 36.6873 ms
2025-07-04 00:17:46.442 +03:00 [INF] Server mrrobot:6740:bd944237 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:17:46.471 +03:00 [INF] 2 servers were removed due to timeout
2025-07-04 00:17:46.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:17:46.727 +03:00 [INF] Server mrrobot:6740:bd944237 all the dispatchers started
2025-07-04 00:17:46.859 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 271.588ms
2025-07-04 00:17:46.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:17:46.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:17:46.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:17:46.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 49.4326ms
2025-07-04 00:17:46.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 56.27ms
2025-07-04 00:17:46.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.1939ms
2025-07-04 00:17:47.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:17:47.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 143.3427ms
2025-07-04 00:18:01.931 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - null null
2025-07-04 00:18:02.053 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:18:02 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:18:02.062 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:18:02 PM'.
2025-07-04 00:18:02.068 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:18:02.127 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:18:02.178 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:18:02.204 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:18:02.450 +03:00 [INF] Executing DeleteAsync for id: 1
2025-07-04 00:18:02.454 +03:00 [INF] Executing DeleteAsync for categoryId: 1
2025-07-04 00:18:02.457 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:18:02.584 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 00:18:02.626 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:18:02.739 +03:00 [INF] Category with id: 1 exists
2025-07-04 00:18:02.743 +03:00 [INF] Execute SoftDeleteAsync for entity Category with ID: 1
2025-07-04 00:18:02.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-07-04 00:18:02.768 +03:00 [INF] Category with ID: 1 soft deleted.
2025-07-04 00:18:02.905 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2025-07-04 00:18:02.952 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:18:02.982 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 770.6693ms
2025-07-04 00:18:03.015 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:18:03.028 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - 200 142 application/json; charset=utf-8 1096.5209ms
2025-07-04 00:18:08.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:18:08.972 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:18:08 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:18:08.977 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:18:08 PM'.
2025-07-04 00:18:08.979 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:18:08.988 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:18:08.997 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:18:09.007 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:18:09.019 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:18:09.023 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:18:09.030 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:18:09.038 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:18:09.056 +03:00 [INF] Cache hit for category 1
2025-07-04 00:18:09.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:18:09.114 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 103.4696ms
2025-07-04 00:18:09.118 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:18:09.130 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 165.1873ms
2025-07-04 00:20:12.171 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:20:12.177 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:20:12 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:20:12.181 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:20:12 PM'.
2025-07-04 00:20:12.183 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:20:12.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:20:12.195 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:20:12.197 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:20:12.212 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:20:12.213 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:20:12.215 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:20:12.217 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:20:12.222 +03:00 [INF] Cache hit for category 1
2025-07-04 00:20:12.225 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:20:12.228 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 28.1229ms
2025-07-04 00:20:12.230 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:20:12.233 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 61.7206ms
2025-07-04 00:20:16.653 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:20:16.660 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:20:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:20:16.662 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:20:16 PM'.
2025-07-04 00:20:16.664 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:20:16.668 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:20:16.672 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:20:16.677 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:20:16.682 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:20:16.686 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:20:16.688 +03:00 [INF] Getting cache for key: category
2025-07-04 00:20:16.691 +03:00 [INF] Cache hit for key: category
2025-07-04 00:20:16.695 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:20:16.703 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 21.8779ms
2025-07-04 00:20:16.723 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:20:16.742 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18673 application/json; charset=utf-8 89.1432ms
2025-07-04 00:22:46.585 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 00:23:15.893 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:23:15.901 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:23:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:23:15.905 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:23:15 PM'.
2025-07-04 00:23:15.907 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:23:15.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:23:15.919 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:23:15.921 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:23:15.926 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:23:15.930 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:23:15.933 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:23:15.936 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:23:15.937 +03:00 [INF] Cache hit for category 1
2025-07-04 00:23:15.939 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:23:15.944 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 19.1677ms
2025-07-04 00:23:15.949 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:23:15.951 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 58.3264ms
2025-07-04 00:23:29.942 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - null null
2025-07-04 00:23:29.950 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:23:29 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:23:29.952 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:23:29 PM'.
2025-07-04 00:23:29.954 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:23:29.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:23:29.982 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:23:29.984 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:23:29.988 +03:00 [INF] Executing DeleteAsync for id: 1
2025-07-04 00:23:29.989 +03:00 [INF] Executing DeleteAsync for categoryId: 1
2025-07-04 00:23:29.996 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:23:30.002 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:23:30.009 +03:00 [WRN] Category with id: 1 doesn't exist
2025-07-04 00:23:30.012 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:23:30.016 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 28.9163ms
2025-07-04 00:23:30.018 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:23:30.020 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - 404 218 application/json; charset=utf-8 77.8257ms
2025-07-04 00:24:40.256 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:24:41.792 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:24:41.804 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:24:41.828 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:24:41.845 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:24:41.872 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:24:42.227 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:24:42.298 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:24:42.367 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:24:43.023 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:24:43.033 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:24:43.116 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:24:43.135 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:24:43.136 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:24:43.137 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:24:43.138 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:24:43.153 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:24:43.155 +03:00 [INF] Hosting environment: Development
2025-07-04 00:24:43.159 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:24:43.174 +03:00 [INF] Server mrrobot:6784:008e8782 successfully announced in 16.3095 ms
2025-07-04 00:24:43.181 +03:00 [INF] Server mrrobot:6784:008e8782 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:24:43.528 +03:00 [INF] Server mrrobot:6784:008e8782 all the dispatchers started
2025-07-04 00:24:43.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:24:43.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 160.5941ms
2025-07-04 00:24:43.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:24:43.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:24:43.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:24:43.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 49.5793ms
2025-07-04 00:24:43.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 53.0555ms
2025-07-04 00:24:43.988 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.0826ms
2025-07-04 00:24:44.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:24:44.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.503ms
2025-07-04 00:25:21.669 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:25:23.605 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:25:23.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:25:23.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:25:23.683 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:25:23.718 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:25:24.116 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:25:24.208 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:25:24.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:25:24.938 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:25:24.941 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:25:25.036 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:25:25.103 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:25:25.104 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:25:25.106 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:25:25.119 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:25:25.174 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:25:25.187 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:25:25.202 +03:00 [INF] Hosting environment: Development
2025-07-04 00:25:25.215 +03:00 [INF] Server mrrobot:12444:d7ea2e20 successfully announced in 40.8159 ms
2025-07-04 00:25:25.223 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:25:25.237 +03:00 [INF] Server mrrobot:12444:d7ea2e20 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:25:25.599 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 413.1469ms
2025-07-04 00:25:25.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:25:25.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:25:25.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:25:26.471 +03:00 [INF] Server mrrobot:12444:d7ea2e20 all the dispatchers started
2025-07-04 00:25:26.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 801.377ms
2025-07-04 00:25:26.499 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 808.6242ms
2025-07-04 00:25:26.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 855.2948ms
2025-07-04 00:25:26.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:25:26.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.0501ms
2025-07-04 00:25:30.564 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:25:30.957 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:25:30 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:25:30.984 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:25:30 PM'.
2025-07-04 00:25:31.022 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:25:31.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:25:31.385 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:25:31.448 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:25:31.839 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:25:31.845 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:25:31.849 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:25:31.856 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:25:31.885 +03:00 [INF] Cache hit for category 1
2025-07-04 00:25:31.933 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:25:32.001 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 526.7911ms
2025-07-04 00:25:32.488 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:25:32.773 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 2206.7569ms
2025-07-04 00:25:35.388 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:25:35.412 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:25:35 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:25:35.417 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:25:35 PM'.
2025-07-04 00:25:35.423 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:25:35.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:25:35.473 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:25:35.475 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:25:35.489 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:25:35.492 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:25:35.505 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:25:35.507 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:25:35.509 +03:00 [INF] Cache hit for category 1
2025-07-04 00:25:35.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:25:35.525 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 45.6656ms
2025-07-04 00:25:35.539 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:25:35.541 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 153.7615ms
2025-07-04 00:25:45.914 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - null null
2025-07-04 00:25:45.922 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:25:45 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:25:45.925 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:25:45 PM'.
2025-07-04 00:25:45.929 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:25:45.933 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:25:45.938 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:25:45.947 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:25:45.962 +03:00 [INF] Executing DeleteAsync for id: 1
2025-07-04 00:25:45.966 +03:00 [INF] Executing DeleteAsync for categoryId: 1
2025-07-04 00:25:45.970 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:25:46.101 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 00:25:46.117 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:25:46.123 +03:00 [WRN] Category with id: 1 doesn't exist
2025-07-04 00:25:46.126 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:25:46.134 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 182.0697ms
2025-07-04 00:25:46.136 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 00:25:46.138 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/1 - 404 218 application/json; charset=utf-8 223.6881ms
2025-07-04 00:26:06.263 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:26:06.358 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:26:06 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:26:06.363 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:26:06 PM'.
2025-07-04 00:26:06.368 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:26:06.373 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:26:06.377 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:26:06.381 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:26:06.385 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:26:06.388 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:26:06.389 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:26:06.391 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:26:06.393 +03:00 [INF] Cache hit for category 1
2025-07-04 00:26:06.398 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:26:06.402 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 17.5833ms
2025-07-04 00:26:06.404 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:26:06.406 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 142.9514ms
2025-07-04 00:26:32.001 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:26:32.005 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:26:32 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:26:32.009 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:26:32 PM'.
2025-07-04 00:26:32.012 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:26:32.024 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:26:32.030 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:26:32.032 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:26:32.036 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:26:32.037 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:26:32.038 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:26:32.041 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:26:32.045 +03:00 [INF] Cache hit for category 1
2025-07-04 00:26:32.047 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:26:32.049 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 14.4814ms
2025-07-04 00:26:32.052 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:26:32.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 53.3024ms
2025-07-04 00:27:05.299 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:27:07.667 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:27:07.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:27:07.726 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:27:07.773 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:27:07.808 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:27:08.315 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:27:08.524 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:27:08.577 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:27:09.334 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:27:09.339 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:27:09.438 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:27:09.464 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:27:09.468 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:27:09.469 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:27:09.471 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:27:09.490 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:27:09.505 +03:00 [INF] Hosting environment: Development
2025-07-04 00:27:09.507 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:27:09.518 +03:00 [INF] Server mrrobot:12512:7d531859 successfully announced in 19.8168 ms
2025-07-04 00:27:09.523 +03:00 [INF] Server mrrobot:12512:7d531859 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:27:09.692 +03:00 [INF] Server mrrobot:12512:7d531859 all the dispatchers started
2025-07-04 00:27:09.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:27:10.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 196.9574ms
2025-07-04 00:27:10.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:27:10.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:27:10.156 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:27:10.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 14.4835ms
2025-07-04 00:27:10.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 19.4052ms
2025-07-04 00:27:10.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.4663ms
2025-07-04 00:27:10.516 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:27:10.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.5305ms
2025-07-04 00:27:14.370 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:27:14.738 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:27:14 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:27:14.789 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:27:14 PM'.
2025-07-04 00:27:14.794 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:27:14.974 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:27:15.145 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:27:15.425 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:27:16.070 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:27:16.089 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:27:16.104 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:27:16.125 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:27:16.504 +03:00 [INF] Cache hit for category 1
2025-07-04 00:27:17.508 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:27:17.856 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 2357.5195ms
2025-07-04 00:27:18.889 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:27:19.006 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 4636.228ms
2025-07-04 00:31:32.037 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:31:33.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:31:33.565 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:31:33.593 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:31:33.613 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:31:33.649 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:31:33.990 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:31:34.058 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:31:34.084 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:31:34.694 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:31:34.697 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:31:34.786 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:31:34.849 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:31:34.865 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:31:34.891 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:31:34.899 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:31:34.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:31:34.935 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:31:34.957 +03:00 [INF] Hosting environment: Development
2025-07-04 00:31:34.963 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:31:34.968 +03:00 [INF] Server mrrobot:16296:f7073ada successfully announced in 25.6623 ms
2025-07-04 00:31:35.027 +03:00 [INF] Server mrrobot:16296:f7073ada is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:31:35.107 +03:00 [INF] 2 servers were removed due to timeout
2025-07-04 00:31:35.193 +03:00 [INF] Server mrrobot:16296:f7073ada all the dispatchers started
2025-07-04 00:31:35.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 295.5611ms
2025-07-04 00:31:35.322 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:31:35.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:31:35.334 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 11.8426ms
2025-07-04 00:31:35.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:31:35.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 11.3517ms
2025-07-04 00:31:35.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1167ms
2025-07-04 00:31:35.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:31:35.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.0592ms
2025-07-04 00:33:19.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:33:19.756 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 11.8718ms
2025-07-04 00:33:19.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:33:19.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:33:19.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 11.3402ms
2025-07-04 00:33:19.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:33:19.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 9.046ms
2025-07-04 00:33:19.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.071ms
2025-07-04 00:33:20.267 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:33:20.403 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 135.5397ms
2025-07-04 00:33:49.714 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:33:51.219 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:33:51.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:33:51.337 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:33:51.371 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:33:51.419 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:33:52.018 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:33:52.109 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:33:52.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:33:52.839 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:33:52.842 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:33:53.122 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:33:53.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:33:53.819 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:33:53.869 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:33:53.878 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:33:53.879 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:33:53.963 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:33:53.984 +03:00 [INF] Hosting environment: Development
2025-07-04 00:33:54.003 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:33:54.011 +03:00 [INF] Server mrrobot:12752:f210b270 successfully announced in 45.264 ms
2025-07-04 00:33:54.036 +03:00 [INF] Server mrrobot:12752:f210b270 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:33:54.101 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 00:33:54.807 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 1526.5731ms
2025-07-04 00:33:54.843 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:33:54.954 +03:00 [INF] Server mrrobot:12752:f210b270 all the dispatchers started
2025-07-04 00:33:55.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:33:55.101 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 5.2002ms
2025-07-04 00:33:55.119 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:33:55 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:33:55.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:33:55.132 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:33:55 PM'.
2025-07-04 00:33:55.138 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:33:55.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:33:55.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 40.0407ms
2025-07-04 00:33:55.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.0539ms
2025-07-04 00:33:55.226 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:33:55.322 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:33:55.360 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:33:55.755 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:33:55.763 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:33:55.767 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:33:55.790 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:33:55.838 +03:00 [INF] Cache hit for category 1
2025-07-04 00:33:55.986 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:33:56.067 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 691.114ms
2025-07-04 00:33:56.074 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:33:56.087 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 1243.9262ms
2025-07-04 00:33:57.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:33:58.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.6624ms
2025-07-04 00:34:05.575 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2025-07-04 00:34:05.579 +03:00 [INF] Server mrrobot:12752:f210b270 caught stopping signal...
2025-07-04 00:34:05.582 +03:00 [INF] Server mrrobot:12752:f210b270 caught stopped signal...
2025-07-04 00:34:05.586 +03:00 [INF] Server mrrobot:12752:f210b270 All dispatchers stopped
2025-07-04 00:34:05.586 +03:00 [WRN] Server mrrobot:12752:f210b270 caught shutdown signal...
2025-07-04 00:34:05.598 +03:00 [INF] Server mrrobot:12752:f210b270 successfully reported itself as stopped in 7.0054 ms
2025-07-04 00:34:05.603 +03:00 [INF] Server mrrobot:12752:f210b270 has been stopped in total 21.4511 ms
2025-07-04 00:34:48.394 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:34:49.748 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:34:49.763 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:34:49.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:34:49.809 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:34:49.901 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:34:50.400 +03:00 [INF] Executed DbCommand (184ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:34:50.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:34:50.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:34:51.126 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:34:51.129 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:34:51.210 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:34:51.224 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:34:51.227 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:34:51.230 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:34:51.232 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:34:51.247 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:34:51.250 +03:00 [INF] Hosting environment: Development
2025-07-04 00:34:51.256 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:34:51.269 +03:00 [INF] Server mrrobot:1996:af828b62 successfully announced in 15.3791 ms
2025-07-04 00:34:51.274 +03:00 [INF] Server mrrobot:1996:af828b62 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:34:51.339 +03:00 [INF] Server mrrobot:1996:af828b62 all the dispatchers started
2025-07-04 00:34:51.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:34:52.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 576.0724ms
2025-07-04 00:34:52.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:34:52.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:34:52.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:34:52.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 13.7678ms
2025-07-04 00:34:52.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 34.1993ms
2025-07-04 00:34:52.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.3765ms
2025-07-04 00:34:52.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:34:52.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.9813ms
2025-07-04 00:34:58.132 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:34:58.444 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:34:58 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:34:58.462 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:34:58 PM'.
2025-07-04 00:34:58.471 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:34:58.608 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:34:58.761 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:34:58.843 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:34:59.753 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:34:59.759 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:34:59.772 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:34:59.792 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:34:59.836 +03:00 [INF] Cache hit for category 1
2025-07-04 00:34:59.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:35:00.000 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 1124.533ms
2025-07-04 00:35:00.096 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:35:00.111 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 1979.6907ms
2025-07-04 00:35:05.293 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:35:05.301 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:35:05 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:35:05.304 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:35:05 PM'.
2025-07-04 00:35:05.306 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:35:05.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:35:05.330 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:35:05.344 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:35:05.353 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:35:05.359 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:35:05.362 +03:00 [INF] Getting cache for key: category
2025-07-04 00:35:05.367 +03:00 [INF] Cache hit for key: category
2025-07-04 00:35:05.370 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:35:05.382 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 32.7072ms
2025-07-04 00:35:05.385 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:35:05.388 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18673 application/json; charset=utf-8 94.9087ms
2025-07-04 00:37:01.207 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 00:37:03.145 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:37:03.163 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 00:37:03.192 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 00:37:03.214 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 00:37:03.247 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 00:37:03.758 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:37:03.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 00:37:03.863 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:37:04.702 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 00:37:04.705 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 00:37:04.805 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 00:37:04.878 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 00:37:04.885 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 00:37:04.894 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 00:37:04.909 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 00:37:04.953 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:37:04.956 +03:00 [INF] Hosting environment: Development
2025-07-04 00:37:04.958 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 00:37:04.972 +03:00 [INF] Server mrrobot:19624:61bd09fd successfully announced in 16.0835 ms
2025-07-04 00:37:04.977 +03:00 [INF] Server mrrobot:19624:61bd09fd is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 00:37:04.993 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 00:37:05.153 +03:00 [INF] Server mrrobot:19624:61bd09fd all the dispatchers started
2025-07-04 00:37:06.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:37:06.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 290.5161ms
2025-07-04 00:37:06.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:37:06.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:37:06.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:37:06.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 48.8581ms
2025-07-04 00:37:06.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 58.8052ms
2025-07-04 00:37:06.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 190.2735ms
2025-07-04 00:37:07.062 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:37:07.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 263.582ms
2025-07-04 00:37:16.096 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:37:16.216 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:37:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:37:16.226 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:37:16 PM'.
2025-07-04 00:37:16.237 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:37:16.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:37:16.412 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:37:16.439 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:37:16.688 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:37:16.693 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:37:16.697 +03:00 [INF] Getting cache for key: category
2025-07-04 00:37:16.710 +03:00 [INF] Cache hit for key: category
2025-07-04 00:37:16.759 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:37:16.839 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 378.0312ms
2025-07-04 00:37:16.865 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:37:16.872 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18673 application/json; charset=utf-8 776.4424ms
2025-07-04 00:37:42.146 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:37:42.157 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 8:51:51 PM', Current time (UTC): '7/3/2025 9:37:42 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:37:42.160 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 8:51:51 PM', Current time (UTC): '7/3/2025 9:37:42 PM'.
2025-07-04 00:37:42.162 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:37:42.172 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:37:42.185 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 401 null application/json 38.1628ms
2025-07-04 00:38:26.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:38:26.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 58.5684ms
2025-07-04 00:38:26.309 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:38:26.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:38:26.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:38:26.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 38.7395ms
2025-07-04 00:38:26.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 44.5026ms
2025-07-04 00:38:26.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.9012ms
2025-07-04 00:38:26.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:38:26.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.5434ms
2025-07-04 00:38:39.839 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/Login - application/json 75
2025-07-04 00:38:39.962 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:38:39.966 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-04 00:38:39.989 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-07-04 00:38:40.084 +03:00 [INF] In LoginAsync Method 
2025-07-04 00:38:40.094 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 00:38:40.212 +03:00 [INF]  Generating Access Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 00:38:40.302 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-07-04 00:38:40.327 +03:00 [INF]  Access Token generated successfully for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 00:38:40.330 +03:00 [INF]  Generating Refresh Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 00:38:40.341 +03:00 [INF] RefreshToken Generated
2025-07-04 00:38:40.346 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:38:40.361 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 368.3954ms
2025-07-04 00:38:40.457 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-04 00:38:40.460 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/Login - 200 943 application/json; charset=utf-8 620.9057ms
2025-07-04 00:39:06.442 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:39:06.459 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:39:06.466 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:39:06.478 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:39:06.488 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:39:06.500 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:39:06.505 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:39:06.508 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:39:06.520 +03:00 [INF] Cache hit for key: categoryid:1
2025-07-04 00:39:06.528 +03:00 [INF] Cache hit for category 1
2025-07-04 00:39:06.534 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:39:06.539 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 46.1425ms
2025-07-04 00:39:06.545 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:39:06.546 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 200 715 application/json; charset=utf-8 104.1291ms
2025-07-04 00:42:05.026 +03:00 [INF] 2 servers were removed due to timeout
2025-07-04 00:43:30.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:43:30.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 27.5799ms
2025-07-04 00:43:30.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:43:30.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:43:30.134 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:43:30.149 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 33.1582ms
2025-07-04 00:43:30.217 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 86.1727ms
2025-07-04 00:43:30.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 184.7501ms
2025-07-04 00:43:30.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:43:30.569 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.6138ms
2025-07-04 00:44:29.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:44:29.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 27.454ms
2025-07-04 00:44:29.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:44:29.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:44:29.714 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 6.3969ms
2025-07-04 00:44:29.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:44:29.730 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.4832ms
2025-07-04 00:44:29.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 18.8164ms
2025-07-04 00:44:29.900 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:44:29.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.8324ms
2025-07-04 00:46:32.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:46:32.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 124.3813ms
2025-07-04 00:46:32.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:46:32.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:46:32.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 10.9367ms
2025-07-04 00:46:33.008 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.7284ms
2025-07-04 00:46:33.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:46:33.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 8.3957ms
2025-07-04 00:46:34.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:46:34.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.2755ms
2025-07-04 00:46:39.281 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:46:39.313 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:46:39 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:46:39.328 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/3/2025 9:46:39 PM'.
2025-07-04 00:46:39.330 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:46:39.403 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:46:39.428 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-04 00:46:39.446 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-04 00:46:39.453 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 401 0 null 173.5641ms
2025-07-04 00:47:04.529 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:47:05.328 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:47:05.342 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:47:05.357 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:47:05.392 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:47:05.423 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:47:05.425 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:47:05.426 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:47:05.437 +03:00 [WRN] Cache miss for key: categoryid:1
2025-07-04 00:47:05.456 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:47:05.726 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 00:47:05.767 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:47:05.772 +03:00 [WRN] Category with id: 1 doesn't exist
2025-07-04 00:47:05.775 +03:00 [WRN] Category with id: 1 not found
2025-07-04 00:47:05.785 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:47:05.793 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 396.1862ms
2025-07-04 00:47:05.795 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:47:05.829 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 404 220 application/json; charset=utf-8 1299.7621ms
2025-07-04 00:47:20.155 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:47:20.160 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:47:20 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 00:47:20.163 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 8:55:12 PM', Current time (UTC): '7/3/2025 9:47:20 PM'.
2025-07-04 00:47:20.166 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:47:20.170 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:47:20.174 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-04 00:47:20.177 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-04 00:47:20.179 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 401 0 null 24.7322ms
2025-07-04 00:47:27.222 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:47:27.227 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:47:27.237 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:47:27.244 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:47:27.252 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:47:27.255 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:47:27.257 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:47:27.259 +03:00 [INF] Getting cache for key: category
2025-07-04 00:47:27.262 +03:00 [WRN] Cache miss for key: category
2025-07-04 00:47:27.265 +03:00 [INF] Execute GetAll for entity Category
2025-07-04 00:47:27.303 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`, `t`.`Id`, `t`.`AltText`, `t`.`CategoryId`, `t`.`CollectionId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`FileSize`, `t`.`FileType`, `t`.`Folder`, `t`.`Height`, `t`.`IsMain`, `t`.`ModifiedAt`, `t`.`ProductId`, `t`.`SubCategoryId`, `t`.`Title`, `t`.`UploadDate`, `t`.`Url`, `t`.`Width`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t` ON `c`.`Id` = `t`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`
2025-07-04 00:47:27.374 +03:00 [INF] Setting cache for key: category
2025-07-04 00:47:27.434 +03:00 [INF] Cache set successfully for key: category with tags: [category]
2025-07-04 00:47:27.438 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:47:27.444 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 189.1084ms
2025-07-04 00:47:27.447 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:47:27.457 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18091 application/json; charset=utf-8 235.4442ms
2025-07-04 00:55:46.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:55:46.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 101.6961ms
2025-07-04 00:55:47.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:55:47.071 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:55:47.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 136.4469ms
2025-07-04 00:55:47.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 403.0344ms
2025-07-04 00:55:47.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:55:47.536 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 9.9039ms
2025-07-04 00:55:47.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:55:48.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 230.7702ms
2025-07-04 00:56:49.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 00:56:49.255 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 80.4625ms
2025-07-04 00:56:49.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 00:56:49.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 15.1692ms
2025-07-04 00:56:49.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 00:56:49.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.1981ms
2025-07-04 00:56:49.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 00:56:49.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 27.0172ms
2025-07-04 00:56:50.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 00:56:50.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.1236ms
2025-07-04 00:57:37.859 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 00:57:37.953 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:57:38.120 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:57:38.227 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:57:38.262 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:57:38.281 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:57:38.311 +03:00 [INF] Executing GetAllAsync
2025-07-04 00:57:38.313 +03:00 [INF] Getting cache for key: category
2025-07-04 00:57:38.325 +03:00 [INF] Cache hit for key: category
2025-07-04 00:57:38.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:57:38.377 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 101.5119ms
2025-07-04 00:57:38.380 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 00:57:38.395 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18079 application/json; charset=utf-8 536.9941ms
2025-07-04 00:57:51.732 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/1 - null null
2025-07-04 00:57:51.736 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:57:51.981 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:57:51.989 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:57:52.467 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:57:53.675 +03:00 [INF] Executing GetByIdAsync for id: 1
2025-07-04 00:57:53.678 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 00:57:53.680 +03:00 [INF] Getting cache for key: categoryid:1
2025-07-04 00:57:53.684 +03:00 [WRN] Cache miss for key: categoryid:1
2025-07-04 00:57:53.691 +03:00 [INF] Executing GetCategoryById for id: 1
2025-07-04 00:57:53.776 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 00:57:53.782 +03:00 [WRN] Category with id: 1 doesn't exist
2025-07-04 00:57:53.784 +03:00 [WRN] Category with id: 1 not found
2025-07-04 00:57:53.792 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 00:57:53.797 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 1324.3802ms
2025-07-04 00:57:53.801 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 00:57:53.804 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/1 - 404 220 application/json; charset=utf-8 2071.9929ms
2025-07-04 00:58:38.022 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=pantes - null null
2025-07-04 00:58:38.027 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 00:58:38.031 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 00:58:38.039 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 00:58:38.045 +03:00 [INF] Route matched with {action = "SearchCategoriesByNameForAdmin", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] SearchCategoriesByNameForAdmin(System.String) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 00:58:38.111 +03:00 [INF] Executing SearchCategoriesByNameForAdmin with name: pantes
2025-07-04 00:58:38.123 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: pantes, isActiveFilter: False
2025-07-04 00:58:38.298 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 00:58:38.368 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__Format_1='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t`.`Id`, `t`.`CategoryId`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t`.`Id0`, `t`.`AltText`, `t`.`CategoryId0`, `t`.`CollectionId`, `t`.`CreatedAt0`, `t`.`DeletedAt0`, `t`.`FileSize`, `t`.`FileType`, `t`.`Folder`, `t`.`Height`, `t`.`IsMain`, `t`.`ModifiedAt0`, `t`.`ProductId`, `t`.`SubCategoryId`, `t`.`Title`, `t`.`UploadDate`, `t`.`Url`, `t`.`Width`
FROM `Categories` AS `c`
LEFT JOIN `Images` AS `i` ON `c`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t` ON `c`.`Id` = `t`.`CategoryId`
WHERE (`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `i`.`Id`, `t`.`Id`
2025-07-04 00:58:38.537 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 00:58:38.542 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce) in 489.4772ms
2025-07-04 00:58:38.545 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 00:58:38.548 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=pantes - 200 3478 application/json; charset=utf-8 525.6512ms
2025-07-04 01:00:28.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 01:00:28.169 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 38.8138ms
2025-07-04 01:00:28.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 01:00:28.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 4.7064ms
2025-07-04 01:00:28.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 01:00:28.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 01:00:28.463 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.6517ms
2025-07-04 01:00:28.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 15.469ms
2025-07-04 01:00:28.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 01:00:28.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.4295ms
2025-07-04 01:01:10.631 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=pante - null null
2025-07-04 01:01:10.655 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 9:53:40 PM', Current time (UTC): '7/3/2025 10:01:10 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 01:01:10.664 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/3/2025 9:53:40 PM', Current time (UTC): '7/3/2025 10:01:10 PM'.
2025-07-04 01:01:10.666 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 01:01:10.679 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 01:01:10.685 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-04 01:01:10.688 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-04 01:01:10.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=pante - 401 0 null 59.8298ms
2025-07-04 01:01:29.584 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - application/json 167
2025-07-04 01:01:29.592 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 01:01:29.600 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-07-04 01:01:29.615 +03:00 [INF] Route matched with {action = "RefreshTokenAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] RefreshTokenAsync(E_Commers.DtoModels.RefreshTokenDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-07-04 01:01:29.721 +03:00 [INF] In RefreshTokenAsync Method
2025-07-04 01:01:29.796 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-07-04 01:01:29.808 +03:00 [INF] In ValidateRefreshTokenAsync Method
2025-07-04 01:01:29.810 +03:00 [INF] Valid Refreshtoken
2025-07-04 01:01:29.827 +03:00 [INF]  RefreshToken() started for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 01:01:29.841 +03:00 [INF] Successfully removed RefreshToken for User 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 01:01:29.843 +03:00 [INF]  Generating Access Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 01:01:29.860 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-07-04 01:01:29.878 +03:00 [INF]  Access Token generated successfully for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 01:01:29.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 01:01:29.886 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce) in 268.0426ms
2025-07-04 01:01:29.890 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-07-04 01:01:29.893 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - 200 775 application/json; charset=utf-8 308.8542ms
2025-07-04 01:02:19.843 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/4 - null null
2025-07-04 01:02:19.847 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 01:02:19.851 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 01:02:19.858 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 01:02:19.864 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 01:02:19.872 +03:00 [INF] Executing DeleteAsync for id: 4
2025-07-04 01:02:19.878 +03:00 [INF] Executing DeleteAsync for categoryId: 4
2025-07-04 01:02:19.880 +03:00 [INF] Executing GetCategoryById for id: 4
2025-07-04 01:02:19.909 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 01:02:19.916 +03:00 [INF] Category with id: 4 exists
2025-07-04 01:02:19.924 +03:00 [INF] Execute SoftDeleteAsync for entity Category with ID: 4
2025-07-04 01:02:19.933 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-07-04 01:02:19.953 +03:00 [INF] Category with ID: 4 soft deleted.
2025-07-04 01:02:20.131 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2025-07-04 01:02:20.151 +03:00 [INF] Removing cache by tag: category
2025-07-04 01:02:20.156 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 01:02:20.159 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 291.9149ms
2025-07-04 01:02:20.167 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 01:02:20.170 +03:00 [INF] Removed 2 cache entries for tag: category
2025-07-04 01:02:20.170 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/4 - 200 142 application/json; charset=utf-8 327.8896ms
2025-07-04 01:02:50.474 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/4 - null null
2025-07-04 01:02:50.483 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 01:02:50.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 01:02:50.500 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 01:02:50.508 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 01:02:50.516 +03:00 [INF] Executing GetByIdAsync for id: 4
2025-07-04 01:02:50.519 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 01:02:50.521 +03:00 [INF] Getting cache for key: categoryid:4
2025-07-04 01:02:50.524 +03:00 [WRN] Cache miss for key: categoryid:4
2025-07-04 01:02:50.526 +03:00 [INF] Executing GetCategoryById for id: 4
2025-07-04 01:02:50.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 01:02:50.535 +03:00 [WRN] Category with id: 4 doesn't exist
2025-07-04 01:02:50.537 +03:00 [WRN] Category with id: 4 not found
2025-07-04 01:02:50.540 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 01:02:50.543 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 29.2177ms
2025-07-04 01:02:50.546 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 01:02:50.547 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/4 - 404 220 application/json; charset=utf-8 73.3134ms
2025-07-04 01:03:28.898 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/16 - multipart/form-data; boundary=--------------------------159313497135633475849490 58018
2025-07-04 01:03:28.957 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 01:03:28.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 01:03:28.974 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 01:03:28.995 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 01:03:29.073 +03:00 [INF] Executing UpdateAsync for id: 16
2025-07-04 01:03:29.081 +03:00 [INF] Executing UpdateAsync for categoryId: 16
2025-07-04 01:03:29.083 +03:00 [INF] Executing GetCategoryById for id: 16
2025-07-04 01:03:29.087 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 01:03:29.098 +03:00 [WRN] Category with id: 16 doesn't exist
2025-07-04 01:03:29.099 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 01:03:29.103 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 104.5967ms
2025-07-04 01:03:29.120 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 01:03:29.122 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/16 - 404 220 application/json; charset=utf-8 223.3171ms
2025-07-04 01:03:49.309 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------101345328226054499475769 58018
2025-07-04 01:03:49.318 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 01:03:49.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 01:03:49.338 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 01:03:49.341 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 01:03:49.348 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 01:03:49.351 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 01:03:49.353 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 01:03:49.387 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 01:03:49.394 +03:00 [INF] Category with id: 11 exists
2025-07-04 01:03:49.429 +03:00 [INF] Execute Update for entity Category
2025-07-04 01:03:49.435 +03:00 [INF] Category marked for update (pending save)
2025-07-04 01:03:49.438 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 01:03:49.448 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 01:03:49.502 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 01:03:49.538 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (DbType = Int32), @p2='?' (Size = 20), @p4='?' (Size = 255), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `Description` = @p0, `DisplayOrder` = @p1, `Name` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 01:03:49.572 +03:00 [INF] Removing cache by tag: category
2025-07-04 01:03:49.574 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 01:03:49.583 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 01:03:49.586 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 240.1983ms
2025-07-04 01:03:49.588 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 01:03:49.590 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 706 application/json; charset=utf-8 281.736ms
2025-07-04 03:02:34.881 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 03:02:36.737 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 03:02:36.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 03:02:36.792 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 03:02:36.813 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 03:02:36.847 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 03:02:37.470 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 03:02:37.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 03:02:37.603 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 03:02:38.587 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 03:02:38.592 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 03:02:38.691 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 03:02:38.707 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 03:02:38.709 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 03:02:38.712 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 03:02:38.719 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 03:02:38.743 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 03:02:38.748 +03:00 [INF] Hosting environment: Development
2025-07-04 03:02:38.752 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 03:02:38.768 +03:00 [INF] Server mrrobot:16852:0c1d6b35 successfully announced in 21.7559 ms
2025-07-04 03:02:38.773 +03:00 [INF] Server mrrobot:16852:0c1d6b35 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 03:02:38.786 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 03:02:38.892 +03:00 [INF] Server mrrobot:16852:0c1d6b35 all the dispatchers started
2025-07-04 03:02:39.755 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:02:40.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 715.7707ms
2025-07-04 03:02:40.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:02:40.525 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:02:40.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:02:40.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 81.6767ms
2025-07-04 03:02:40.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 87.2955ms
2025-07-04 03:02:40.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 221.5167ms
2025-07-04 03:02:40.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:02:41.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 243.3213ms
2025-07-04 03:02:48.984 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`DeletedAt` IS NOT NULL
2025-07-04 03:02:49.178 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `Categories`
WHERE `Id` = @p0;
SELECT ROW_COUNT();

DELETE FROM `Categories`
WHERE `Id` = @p1;
SELECT ROW_COUNT();
2025-07-04 03:04:00.169 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/Login - application/json 75
2025-07-04 03:04:00.227 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:04:00.299 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-04 03:04:00.337 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-07-04 03:04:00.700 +03:00 [INF] In LoginAsync Method 
2025-07-04 03:04:00.716 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 03:04:00.863 +03:00 [INF]  Generating Access Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 03:04:00.966 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-07-04 03:04:01.029 +03:00 [INF]  Access Token generated successfully for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 03:04:01.032 +03:00 [INF]  Generating Refresh Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 03:04:01.046 +03:00 [INF] RefreshToken Generated
2025-07-04 03:04:01.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:04:01.099 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 748.8619ms
2025-07-04 03:04:01.103 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-04 03:04:01.109 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/Login - 200 943 application/json; charset=utf-8 939.5923ms
2025-07-04 03:04:31.188 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/16 - multipart/form-data; boundary=--------------------------008329642604981302303981 21281
2025-07-04 03:04:31.250 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:04:31.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:04:31.307 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:04:31.327 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:04:31.421 +03:00 [INF] Executing UpdateAsync for id: 16
2025-07-04 03:04:31.428 +03:00 [INF] Executing UpdateAsync for categoryId: 16
2025-07-04 03:04:31.434 +03:00 [INF] Executing GetCategoryById for id: 16
2025-07-04 03:04:31.557 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 03:04:31.578 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:04:31.589 +03:00 [WRN] Category with id: 16 doesn't exist
2025-07-04 03:04:31.629 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:04:31.643 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 307.1221ms
2025-07-04 03:04:31.651 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:04:31.657 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/16 - 404 220 application/json; charset=utf-8 469.1826ms
2025-07-04 03:04:56.764 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/4 - multipart/form-data; boundary=--------------------------220089048102480089534204 21281
2025-07-04 03:04:56.779 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:04:56.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:04:56.800 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:04:56.803 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:04:56.815 +03:00 [INF] Executing UpdateAsync for id: 4
2025-07-04 03:04:56.818 +03:00 [INF] Executing UpdateAsync for categoryId: 4
2025-07-04 03:04:56.819 +03:00 [INF] Executing GetCategoryById for id: 4
2025-07-04 03:04:56.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:04:56.834 +03:00 [WRN] Category with id: 4 doesn't exist
2025-07-04 03:04:56.837 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:04:56.840 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 30.0582ms
2025-07-04 03:04:56.854 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:04:56.855 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/4 - 404 218 application/json; charset=utf-8 91.3475ms
2025-07-04 03:05:03.984 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------052597469669543762095990 21281
2025-07-04 03:05:03.994 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:05:03.999 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:05:04.017 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:05:04.019 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:05:04.039 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:05:04.044 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:05:04.046 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:05:04.097 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:05:04.182 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:05:04.203 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:05:04.209 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:05:04.224 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-04 03:05:04.279 +03:00 [INF] Image added successfully (pending save)
2025-07-04 03:05:04.370 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:05:04.423 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:05:04.427 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:05:04.460 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:05:04.463 +03:00 [INF]  Image saved: /CategoryPhotos/da08c671-2ece-4a43-b77d-361cba85badf.webp
2025-07-04 03:05:04.468 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:05:04.469 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:05:04.473 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:05:04.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p4='?' (Size = 255), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (Size = 255), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `Description` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:05:04.563 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:05:04.573 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:05:04.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:05:04.614 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 588.4311ms
2025-07-04 03:05:04.617 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:05:04.622 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 804 application/json; charset=utf-8 637.593ms
2025-07-04 03:05:30.608 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------096524668264599665786243 58018
2025-07-04 03:05:30.636 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:05:30.642 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:05:30.657 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:05:30.661 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:05:30.668 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:05:30.670 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:05:30.671 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:05:30.706 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:05:30.719 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:05:30.732 +03:00 [INF]  Saving 2 images to CategoryPhotos
2025-07-04 03:05:30.736 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:05:30.740 +03:00 [INF] Executing CreateAsync for entity Image
2025-07-04 03:05:30.743 +03:00 [INF] Image added successfully (pending save)
2025-07-04 03:05:30.750 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:05:30.755 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:05:30.757 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:05:30.760 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:05:30.761 +03:00 [INF]  Image saved: /CategoryPhotos/0c4a436a-4786-463a-8dbd-fe1f2c6e3bfb.webp
2025-07-04 03:05:30.763 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:05:30.771 +03:00 [ERR]  Failed to save image #2: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:05:30.773 +03:00 [WRN] Some images failed to save: Image #2: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:05:30.775 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:05:30.777 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:05:30.780 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:05:30.786 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:05:30.797 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:05:30.800 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:05:30.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:05:30.808 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 141.1542ms
2025-07-04 03:05:30.822 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:05:30.825 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 903 application/json; charset=utf-8 216.6583ms
2025-07-04 03:06:42.503 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 03:06:45.398 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 03:06:45.453 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 03:06:45.504 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 03:06:45.531 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 03:06:45.592 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 03:06:46.314 +03:00 [INF] Executed DbCommand (201ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 03:06:46.448 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 03:06:46.501 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 03:06:47.838 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 03:06:47.849 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 03:06:48.003 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 03:06:48.077 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 03:06:48.092 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 03:06:48.173 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 03:06:48.196 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 03:06:48.285 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 03:06:48.298 +03:00 [INF] Hosting environment: Development
2025-07-04 03:06:48.380 +03:00 [INF] Server mrrobot:3112:b558e99c successfully announced in 92.3599 ms
2025-07-04 03:06:48.408 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 03:06:48.459 +03:00 [INF] Server mrrobot:3112:b558e99c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 03:06:50.106 +03:00 [INF] Server mrrobot:3112:b558e99c all the dispatchers started
2025-07-04 03:06:50.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:06:50.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 413.9052ms
2025-07-04 03:06:50.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:06:50.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:06:50.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:06:50.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 29.2459ms
2025-07-04 03:06:50.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 102.8098ms
2025-07-04 03:06:50.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 191.1632ms
2025-07-04 03:06:50.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:06:51.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 272.5841ms
2025-07-04 03:06:56.582 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------479898552941543019037910 37478
2025-07-04 03:06:56.922 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:06:56.996 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:06:57.139 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:06:57.219 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:06:57.769 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:06:57.781 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:06:57.790 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:06:58.000 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 03:06:58.060 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:06:58.230 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:06:58.270 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:06:58.279 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:06:58.287 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:06:58.289 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:06:58.298 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:06:58.302 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:06:58.413 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:06:58.732 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:06:58.825 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:06:58.841 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:07:11.322 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:07:11.398 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 14167.2495ms
2025-07-04 03:07:11.401 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:07:11.415 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 903 application/json; charset=utf-8 14833.3313ms
2025-07-04 03:07:45.168 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------084289930863911835931080 37478
2025-07-04 03:07:45.199 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:07:45.236 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:07:45.248 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:07:45.252 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:07:45.263 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:07:50.694 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:07:50.720 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:07:50.765 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:07:50.777 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:07:50.795 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:07:50.799 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:07:50.806 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:07:50.810 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:07:50.815 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:07:50.819 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:07:50.825 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:07:50.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:07:50.859 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:07:50.866 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:07:50.873 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:07:50.882 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 5624.6691ms
2025-07-04 03:07:50.888 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:07:50.895 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 903 application/json; charset=utf-8 5738.4377ms
2025-07-04 03:08:10.815 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------164711913328104029348960 37478
2025-07-04 03:08:10.894 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:08:10.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:08:10.927 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:08:10.929 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:08:10.946 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:08:18.161 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:08:18.162 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:08:18.190 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:08:18.204 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:08:33.969 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:08:40.690 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:09:17.711 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:09:25.357 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:10:56.103 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:10:56.185 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:10:56.201 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:10:56.210 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:10:56.220 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:10:56.222 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:10:56.225 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:10:56.228 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 165294.1913ms
2025-07-04 03:10:56.288 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:10:56.289 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 903 application/json; charset=utf-8 165475.489ms
2025-07-04 03:10:57.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:10:57.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 226.0553ms
2025-07-04 03:10:57.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:10:57.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:10:57.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:10:58.112 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 389.7836ms
2025-07-04 03:10:58.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 641.0769ms
2025-07-04 03:10:58.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 738.4601ms
2025-07-04 03:10:58.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:10:58.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 450.5697ms
2025-07-04 03:11:13.083 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------606471303178595368348873 37478
2025-07-04 03:11:13.097 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:11:13.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:11:13.115 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:11:13.132 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:11:13.144 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:11:13.149 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:11:13.154 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:11:13.194 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:11:13.207 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:11:16.464 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:11:16.468 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:11:16.472 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:11:16.475 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:11:16.481 +03:00 [WRN] Failed to save new images: Error
2025-07-04 03:11:16.484 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:11:16.487 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:11:16.492 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:11:16.506 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:11:16.516 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:11:16.519 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:11:16.522 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:11:16.525 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 3384.1483ms
2025-07-04 03:11:16.538 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:11:16.550 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 910 application/json; charset=utf-8 3467.6844ms
2025-07-04 03:11:48.587 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 03:14:00.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:14:00.363 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 24.4981ms
2025-07-04 03:14:00.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:14:00.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:14:00.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:14:00.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 34.9297ms
2025-07-04 03:14:00.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 39.7169ms
2025-07-04 03:14:00.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.3215ms
2025-07-04 03:14:00.566 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:14:00.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.4464ms
2025-07-04 03:14:35.362 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------392636622319299402907782 37478
2025-07-04 03:14:35.370 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:14:35.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:14:35.409 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:14:35.435 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:14:35.445 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:14:35.448 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:14:35.450 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:14:35.500 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:14:35.511 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:14:44.975 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:14:45.001 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:14:45.014 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:14:45.019 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:14:45.090 +03:00 [WRN] Failed to save new images: Error
2025-07-04 03:14:45.225 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:14:45.228 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:14:45.235 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:14:45.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:14:45.278 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:14:45.282 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:14:45.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:14:45.291 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 9852.1498ms
2025-07-04 03:14:45.294 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:14:45.297 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 910 application/json; charset=utf-8 9935.1385ms
2025-07-04 03:14:45.920 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:14:45.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 11.5239ms
2025-07-04 03:14:45.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:14:45.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:14:45.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:14:45.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 18.8779ms
2025-07-04 03:14:45.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 25.2612ms
2025-07-04 03:14:46.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.7739ms
2025-07-04 03:14:46.085 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:14:46.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.2578ms
2025-07-04 03:15:47.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:15:47.737 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 23.3583ms
2025-07-04 03:15:47.830 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:15:47.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:15:47.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:15:47.845 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 15.481ms
2025-07-04 03:15:47.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 29.3143ms
2025-07-04 03:15:47.934 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.7719ms
2025-07-04 03:15:47.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:15:48.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.6635ms
2025-07-04 03:15:51.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:15:51.567 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 18.329ms
2025-07-04 03:15:51.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:15:51.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:15:51.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:15:51.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 54.6724ms
2025-07-04 03:15:51.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 66.5959ms
2025-07-04 03:15:51.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.6695ms
2025-07-04 03:15:51.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:15:52.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.2664ms
2025-07-04 03:15:58.945 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------992411027978827295259876 37478
2025-07-04 03:15:58.973 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:15:58.984 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:15:58.991 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:15:59.001 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:15:59.015 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:15:59.023 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:15:59.026 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:15:59.067 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:15:59.073 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:16:14.342 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:16:14.371 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:16:14.376 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:16:14.381 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:16:14.384 +03:00 [WRN] Failed to save new images: Error
2025-07-04 03:16:14.387 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:16:14.389 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:16:14.391 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:16:14.395 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:16:14.408 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:16:14.415 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:16:14.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:16:14.430 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 15420.2114ms
2025-07-04 03:16:14.437 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:16:14.442 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 973 application/json; charset=utf-8 15496.7789ms
2025-07-04 03:18:05.587 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 03:18:05.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 34.5767ms
2025-07-04 03:18:05.659 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 03:18:05.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 7.1187ms
2025-07-04 03:18:05.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 03:18:05.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 03:18:05.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 19.3505ms
2025-07-04 03:18:05.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0123ms
2025-07-04 03:18:05.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 03:18:05.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.398ms
2025-07-04 03:18:11.012 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7288/api/categories/11 - multipart/form-data; boundary=--------------------------105162453211593280661957 37478
2025-07-04 03:18:11.018 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:18:11.027 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:18:11.036 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:18:11.048 +03:00 [INF] Route matched with {action = "UpdateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] UpdateAsync(Int32, E_Commers.DtoModels.CategoryDtos.UpdateCategoryDto) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:18:11.073 +03:00 [INF] Executing UpdateAsync for id: 11
2025-07-04 03:18:11.076 +03:00 [INF] Executing UpdateAsync for categoryId: 11
2025-07-04 03:18:11.078 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:18:11.129 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:18:11.153 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:18:11.158 +03:00 [INF]  Saving 1 images to CategoryPhotos
2025-07-04 03:18:11.160 +03:00 [INF]  Saving image to CategoryPhotos
2025-07-04 03:18:11.162 +03:00 [ERR]  Failed to save image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:18:11.164 +03:00 [WRN] Some images failed to save: Image #1: Invalid extension. Allowed: .jpg, .jpeg, .png, .gif, .webp
2025-07-04 03:18:11.166 +03:00 [WRN] Failed to save new images: Error
2025-07-04 03:18:11.168 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 03:18:11.169 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 03:18:11.173 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 03:18:11.179 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 03:18:11.189 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:18:11.191 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:18:11.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:18:11.203 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce) in 133.205ms
2025-07-04 03:18:11.206 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.UpdateAsync (E-Commerce)'
2025-07-04 03:18:11.208 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7288/api/categories/11 - 200 1965 application/json; charset=utf-8 195.85ms
2025-07-04 03:18:29.394 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 03:18:29.896 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:18:29.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:18:29.916 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 03:18:29.926 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:18:29.938 +03:00 [INF] Executing GetAllAsync
2025-07-04 03:18:29.947 +03:00 [INF] Executing GetAllAsync
2025-07-04 03:18:29.953 +03:00 [INF] Getting cache for key: category
2025-07-04 03:18:29.965 +03:00 [WRN] Cache miss for key: category
2025-07-04 03:18:29.969 +03:00 [INF] Execute GetAll for entity Category
2025-07-04 03:18:30.138 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 03:18:30.158 +03:00 [INF] Setting cache for key: category
2025-07-04 03:18:30.225 +03:00 [INF] Cache set successfully for key: category with tags: [category]
2025-07-04 03:18:30.229 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 03:18:30.239 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 304.2552ms
2025-07-04 03:18:30.242 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 03:18:30.254 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 18202 application/json; charset=utf-8 859.8128ms
2025-07-04 03:19:20.181 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/11 - null null
2025-07-04 03:19:20.188 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:19:20.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:19:20.211 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 03:19:20.227 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:19:20.243 +03:00 [INF] Executing GetByIdAsync for id: 11
2025-07-04 03:19:20.248 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 03:19:20.250 +03:00 [INF] Getting cache for key: categoryid:11
2025-07-04 03:19:20.261 +03:00 [WRN] Cache miss for key: categoryid:11
2025-07-04 03:19:20.263 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:19:20.290 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:19:20.301 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:19:20.303 +03:00 [INF] Setting cache for key: categoryid:11
2025-07-04 03:19:20.308 +03:00 [INF] Cache set successfully for key: categoryid:11 with tags: [category]
2025-07-04 03:19:20.313 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:19:20.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:19:20.326 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 87.0546ms
2025-07-04 03:19:20.398 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 03:19:20.389 +03:00 [INF] Removed 2 cache entries for tag: category
2025-07-04 03:19:20.402 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/11 - 200 1904 application/json; charset=utf-8 221.7293ms
2025-07-04 03:19:48.951 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/11 - null null
2025-07-04 03:19:48.959 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:19:48.966 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:19:48.974 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 03:19:48.982 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:19:48.991 +03:00 [INF] Executing DeleteAsync for id: 11
2025-07-04 03:19:48.996 +03:00 [INF] Executing DeleteAsync for categoryId: 11
2025-07-04 03:19:48.998 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:19:49.039 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:19:49.050 +03:00 [INF] Category with id: 11 exists
2025-07-04 03:19:49.058 +03:00 [INF] Execute SoftDeleteAsync for entity Category with ID: 11
2025-07-04 03:19:49.073 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-07-04 03:19:49.082 +03:00 [INF] Category with ID: 11 soft deleted.
2025-07-04 03:19:49.116 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2025-07-04 03:19:49.132 +03:00 [INF] Removing cache by tag: category
2025-07-04 03:19:49.137 +03:00 [WRN] No cache entries found for tag: category
2025-07-04 03:19:49.137 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 03:19:49.150 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 161.1265ms
2025-07-04 03:19:49.176 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 03:19:49.178 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/11 - 200 578 application/json; charset=utf-8 228.1268ms
2025-07-04 03:19:59.374 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/11 - null null
2025-07-04 03:19:59.411 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:19:59.420 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:20:00.057 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 03:20:00.063 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:20:00.069 +03:00 [INF] Executing GetByIdAsync for id: 11
2025-07-04 03:20:00.090 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-07-04 03:20:00.093 +03:00 [INF] Getting cache for key: categoryid:11
2025-07-04 03:20:00.095 +03:00 [WRN] Cache miss for key: categoryid:11
2025-07-04 03:20:00.097 +03:00 [INF] Executing GetCategoryById for id: 11
2025-07-04 03:20:00.107 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:20:00.118 +03:00 [WRN] Category with id: 11 doesn't exist
2025-07-04 03:20:00.121 +03:00 [WRN] Category with id: 11 not found
2025-07-04 03:20:00.125 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 03:20:00.131 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce) in 62.3371ms
2025-07-04 03:20:00.133 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetByIdAsync (E-Commerce)'
2025-07-04 03:20:00.138 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/11 - 404 1214 application/json; charset=utf-8 764.2697ms
2025-07-04 03:20:51.393 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJNU205S2pvVjFMeWJiVmdUR04xQW45bzRRdG12YzNXaEI0cWlFZVNVMEtBPSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTRmM2M0ZGQtYWQwNC00ZjIzLTk1MjMtYjRlZDM2NmY2YTc1IiwiU2VjdXJpdHlTdGFtcCI6IklGNkUyNkw2TkhSRkhERkpPWFlNQkZMNE1BNzJRVVczIiwiaWF0IjoxNzUxNTg3NDQwLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsIm5iZiI6MTc1MTU4NzQxMCwiZXhwIjoxNzUxNTg4MzQwLCJpc3MiOiJ0aGlzX2J5IHRoZSBncmVhdGVzIG9tYXJnYW1hbCIsImF1ZCI6IllvdXJFQ29tbWVyY2VVc2VycyJ9.CP7WAT5n2W4DbU-CDZx_pEjdjyIznk4jKLfwPOhZMNGbqKiwMCZ7X3tkMG7ULvvVY4hPj2ahXlF4MuZLNrK9zg - null null
2025-07-04 03:20:51.401 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:20:51.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:20:51.412 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:20:51.423 +03:00 [INF] Route matched with {action = "SearchCategoriesByNameForAdmin", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] SearchCategoriesByNameForAdmin(System.String) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:20:51.447 +03:00 [INF] Executing SearchCategoriesByNameForAdmin with name: eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJNU205S2pvVjFMeWJiVmdUR04xQW45bzRRdG12YzNXaEI0cWlFZVNVMEtBPSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTRmM2M0ZGQtYWQwNC00ZjIzLTk1MjMtYjRlZDM2NmY2YTc1IiwiU2VjdXJpdHlTdGFtcCI6IklGNkUyNkw2TkhSRkhERkpPWFlNQkZMNE1BNzJRVVczIiwiaWF0IjoxNzUxNTg3NDQwLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsIm5iZiI6MTc1MTU4NzQxMCwiZXhwIjoxNzUxNTg4MzQwLCJpc3MiOiJ0aGlzX2J5IHRoZSBncmVhdGVzIG9tYXJnYW1hbCIsImF1ZCI6IllvdXJFQ29tbWVyY2VVc2VycyJ9.CP7WAT5n2W4DbU-CDZx_pEjdjyIznk4jKLfwPOhZMNGbqKiwMCZ7X3tkMG7ULvvVY4hPj2ahXlF4MuZLNrK9zg
2025-07-04 03:20:51.454 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJNU205S2pvVjFMeWJiVmdUR04xQW45bzRRdG12YzNXaEI0cWlFZVNVMEtBPSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTRmM2M0ZGQtYWQwNC00ZjIzLTk1MjMtYjRlZDM2NmY2YTc1IiwiU2VjdXJpdHlTdGFtcCI6IklGNkUyNkw2TkhSRkhERkpPWFlNQkZMNE1BNzJRVVczIiwiaWF0IjoxNzUxNTg3NDQwLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsIm5iZiI6MTc1MTU4NzQxMCwiZXhwIjoxNzUxNTg4MzQwLCJpc3MiOiJ0aGlzX2J5IHRoZSBncmVhdGVzIG9tYXJnYW1hbCIsImF1ZCI6IllvdXJFQ29tbWVyY2VVc2VycyJ9.CP7WAT5n2W4DbU-CDZx_pEjdjyIznk4jKLfwPOhZMNGbqKiwMCZ7X3tkMG7ULvvVY4hPj2ahXlF4MuZLNrK9zg, isActiveFilter: False
2025-07-04 03:20:51.511 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__Format_1='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE ((`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL) AND `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 03:20:51.520 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 03:20:51.523 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce) in 93.2813ms
2025-07-04 03:20:51.526 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:20:51.532 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJNU205S2pvVjFMeWJiVmdUR04xQW45bzRRdG12YzNXaEI0cWlFZVNVMEtBPSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiNTRmM2M0ZGQtYWQwNC00ZjIzLTk1MjMtYjRlZDM2NmY2YTc1IiwiU2VjdXJpdHlTdGFtcCI6IklGNkUyNkw2TkhSRkhERkpPWFlNQkZMNE1BNzJRVVczIiwiaWF0IjoxNzUxNTg3NDQwLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsIm5iZiI6MTc1MTU4NzQxMCwiZXhwIjoxNzUxNTg4MzQwLCJpc3MiOiJ0aGlzX2J5IHRoZSBncmVhdGVzIG9tYXJnYW1hbCIsImF1ZCI6IllvdXJFQ29tbWVyY2VVc2VycyJ9.CP7WAT5n2W4DbU-CDZx_pEjdjyIznk4jKLfwPOhZMNGbqKiwMCZ7X3tkMG7ULvvVY4hPj2ahXlF4MuZLNrK9zg - 404 637 application/json; charset=utf-8 138.5512ms
2025-07-04 03:21:12.764 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=SELECT%20`t`.`Id`,%20`t`.`CreatedAt`,%20`t`.`DeletedAt`,%20`t`.`Description`,%20`t`.`DisplayOrder`,%20`t`.`ImageId`,%20`t`.`IsActive`,%20`t`.`ModifiedAt`,%20`t`.`Name`,%20`i`.`Id`,%20`i`.`AltText`,%20`i`.`CategoryId`,%20`i`.`CollectionId`,%20`i`.`CreatedAt`,%20`i`.`DeletedAt`,%20`i`.`FileSize`,%20`i`.`FileType`,%20`i`.`Folder`,%20`i`.`Height`,%20`i`.`IsMain`,%20`i`.`ModifiedAt`,%20`i`.`ProductId`,%20`i`.`SubCategoryId`,%20`i`.`Title`,%20`i`.`UploadDate`,%20`i`.`Url`,%20`i`.`Width`,%20`t0`.`Id`,%20`t0`.`CategoryId`,%20`t0`.`CreatedAt`,%20`t0`.`DeletedAt`,%20`t0`.`Description`,%20`t0`.`ImageId`,%20`t0`.`IsActive`,%20`t0`.`ModifiedAt`,%20`t0`.`Name`,%20`t0`.`Id0`,%20`t0`.`AltText`,%20`t0`.`CategoryId0`,%20`t0`.`CollectionId`,%20`t0`.`CreatedAt0`,%20`t0`.`DeletedAt0`,%20`t0`.`FileSize`,%20`t0`.`FileType`,%20`t0`.`Folder`,%20`t0`.`Height`,%20`t0`.`IsMain`,%20`t0`.`ModifiedAt0`,%20`t0`.`ProductId`,%20`t0`.`SubCategoryId`,%20`t0`.`Title`,%20`t0`.`UploadDate`,%20`t0`.`Url`,%20`t0`.`Width`FROM%20(%20%20%20%20SELECT%20`c`.`Id`,%20`c`.`CreatedAt`,%20`c`.`DeletedAt`,%20`c`.`Description`,%20`c`.`DisplayOrder`,%20`c`.`ImageId`,%20`c`.`IsActive`,%20`c`.`ModifiedAt`,%20`c`.`Name`%20%20%20%20FROM%20`Categories`%20AS%20`c`%20%20%20%20WHERE%20(`c`.`Id`%20=%20@__id_0)%20AND%20`c`.`DeletedAt`%20IS%20NULL%20%20%20%20LIMIT%201)%20AS%20`t`LEFT%20JOIN%20`Images`%20AS%20`i`%20ON%20`t`.`Id`%20=%20`i`.`CategoryId`LEFT%20JOIN%20(%20%20%20%20SELECT%20`s`.`Id`,%20`s`.`CategoryId`,%20`s`.`CreatedAt`,%20`s`.`DeletedAt`,%20`s`.`Description`,%20`s`.`ImageId`,%20`s`.`IsActive`,%20`s`.`ModifiedAt`,%20`s`.`Name`,%20`i0`.`Id`%20AS%20`Id0`,%20`i0`.`AltText`,%20`i0`.`CategoryId`%20AS%20`CategoryId0`,%20`i0`.`CollectionId`,%20`i0`.`CreatedAt`%20AS%20`CreatedAt0`,%20`i0`.`DeletedAt`%20AS%20`DeletedAt0`,%20`i0`.`FileSize`,%20`i0`.`FileType`,%20`i0`.`Folder`,%20`i0`.`Height`,%20`i0`.`IsMain`,%20`i0`.`ModifiedAt`%20AS%20`ModifiedAt0`,%20`i0`.`ProductId`,%20`i0`.`SubCategoryId`,%20`i0`.`Title`,%20`i0`.`UploadDate`,%20`i0`.`Url`,%20`i0`.`Width`%20%20%20%20FROM%20`SubCategory`%20AS%20`s`%20%20%20%20LEFT%20JOIN%20`Images`%20AS%20`i0`%20ON%20`s`.`Id`%20=%20`i0`.`SubCategoryId`%20%20%20%20WHERE%20`s`.`DeletedAt`%20IS%20NULL)%20AS%20`t0`%20ON%20`t`.`Id`%20=%20`t0`.`CategoryId`ORDER%20BY%20`t`.`Id`,%20`i`.`Id`,%20`t0`.`Id` - null null
2025-07-04 03:21:12.836 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:21:12.841 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:21:12.847 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:21:12.849 +03:00 [INF] Route matched with {action = "SearchCategoriesByNameForAdmin", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] SearchCategoriesByNameForAdmin(System.String) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:21:12.855 +03:00 [INF] Executing SearchCategoriesByNameForAdmin with name: SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`FROM (    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`    FROM `Categories` AS `c`    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL    LIMIT 1) AS `t`LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`LEFT JOIN (    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`    FROM `SubCategory` AS `s`    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`    WHERE `s`.`DeletedAt` IS NULL) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 03:21:12.858 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`FROM (    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`    FROM `Categories` AS `c`    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL    LIMIT 1) AS `t`LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`LEFT JOIN (    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`    FROM `SubCategory` AS `s`    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`    WHERE `s`.`DeletedAt` IS NULL) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`, isActiveFilter: False
2025-07-04 03:21:12.892 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__Format_1='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE ((`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL) AND `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 03:21:12.902 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 03:21:12.904 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce) in 52.2153ms
2025-07-04 03:21:12.907 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:21:12.932 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=SELECT%20`t`.`Id`,%20`t`.`CreatedAt`,%20`t`.`DeletedAt`,%20`t`.`Description`,%20`t`.`DisplayOrder`,%20`t`.`ImageId`,%20`t`.`IsActive`,%20`t`.`ModifiedAt`,%20`t`.`Name`,%20`i`.`Id`,%20`i`.`AltText`,%20`i`.`CategoryId`,%20`i`.`CollectionId`,%20`i`.`CreatedAt`,%20`i`.`DeletedAt`,%20`i`.`FileSize`,%20`i`.`FileType`,%20`i`.`Folder`,%20`i`.`Height`,%20`i`.`IsMain`,%20`i`.`ModifiedAt`,%20`i`.`ProductId`,%20`i`.`SubCategoryId`,%20`i`.`Title`,%20`i`.`UploadDate`,%20`i`.`Url`,%20`i`.`Width`,%20`t0`.`Id`,%20`t0`.`CategoryId`,%20`t0`.`CreatedAt`,%20`t0`.`DeletedAt`,%20`t0`.`Description`,%20`t0`.`ImageId`,%20`t0`.`IsActive`,%20`t0`.`ModifiedAt`,%20`t0`.`Name`,%20`t0`.`Id0`,%20`t0`.`AltText`,%20`t0`.`CategoryId0`,%20`t0`.`CollectionId`,%20`t0`.`CreatedAt0`,%20`t0`.`DeletedAt0`,%20`t0`.`FileSize`,%20`t0`.`FileType`,%20`t0`.`Folder`,%20`t0`.`Height`,%20`t0`.`IsMain`,%20`t0`.`ModifiedAt0`,%20`t0`.`ProductId`,%20`t0`.`SubCategoryId`,%20`t0`.`Title`,%20`t0`.`UploadDate`,%20`t0`.`Url`,%20`t0`.`Width`FROM%20(%20%20%20%20SELECT%20`c`.`Id`,%20`c`.`CreatedAt`,%20`c`.`DeletedAt`,%20`c`.`Description`,%20`c`.`DisplayOrder`,%20`c`.`ImageId`,%20`c`.`IsActive`,%20`c`.`ModifiedAt`,%20`c`.`Name`%20%20%20%20FROM%20`Categories`%20AS%20`c`%20%20%20%20WHERE%20(`c`.`Id`%20=%20@__id_0)%20AND%20`c`.`DeletedAt`%20IS%20NULL%20%20%20%20LIMIT%201)%20AS%20`t`LEFT%20JOIN%20`Images`%20AS%20`i`%20ON%20`t`.`Id`%20=%20`i`.`CategoryId`LEFT%20JOIN%20(%20%20%20%20SELECT%20`s`.`Id`,%20`s`.`CategoryId`,%20`s`.`CreatedAt`,%20`s`.`DeletedAt`,%20`s`.`Description`,%20`s`.`ImageId`,%20`s`.`IsActive`,%20`s`.`ModifiedAt`,%20`s`.`Name`,%20`i0`.`Id`%20AS%20`Id0`,%20`i0`.`AltText`,%20`i0`.`CategoryId`%20AS%20`CategoryId0`,%20`i0`.`CollectionId`,%20`i0`.`CreatedAt`%20AS%20`CreatedAt0`,%20`i0`.`DeletedAt`%20AS%20`DeletedAt0`,%20`i0`.`FileSize`,%20`i0`.`FileType`,%20`i0`.`Folder`,%20`i0`.`Height`,%20`i0`.`IsMain`,%20`i0`.`ModifiedAt`%20AS%20`ModifiedAt0`,%20`i0`.`ProductId`,%20`i0`.`SubCategoryId`,%20`i0`.`Title`,%20`i0`.`UploadDate`,%20`i0`.`Url`,%20`i0`.`Width`%20%20%20%20FROM%20`SubCategory`%20AS%20`s`%20%20%20%20LEFT%20JOIN%20`Images`%20AS%20`i0`%20ON%20`s`.`Id`%20=%20`i0`.`SubCategoryId`%20%20%20%20WHERE%20`s`.`DeletedAt`%20IS%20NULL)%20AS%20`t0`%20ON%20`t`.`Id`%20=%20`t0`.`CategoryId`ORDER%20BY%20`t`.`Id`,%20`i`.`Id`,%20`t0`.`Id` - 404 637 application/json; charset=utf-8 172.3024ms
2025-07-04 03:21:42.559 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=1=1 - null null
2025-07-04 03:21:42.574 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:21:42.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:21:42.593 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:21:42.597 +03:00 [INF] Route matched with {action = "SearchCategoriesByNameForAdmin", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] SearchCategoriesByNameForAdmin(System.String) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:21:42.608 +03:00 [INF] Executing SearchCategoriesByNameForAdmin with name: 1=1
2025-07-04 03:21:42.611 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: 1=1, isActiveFilter: False
2025-07-04 03:21:42.660 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__Format_1='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE ((`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL) AND `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 03:21:42.672 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 03:21:42.678 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce) in 70.8608ms
2025-07-04 03:21:42.682 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:21:42.684 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=1=1 - 404 637 application/json; charset=utf-8 124.9252ms
2025-07-04 03:22:47.983 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=pa - null null
2025-07-04 03:22:48.121 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 03:22:48.136 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 03:22:48.185 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:22:48.190 +03:00 [INF] Route matched with {action = "SearchCategoriesByNameForAdmin", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] SearchCategoriesByNameForAdmin(System.String) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 03:22:48.196 +03:00 [INF] Executing SearchCategoriesByNameForAdmin with name: pa
2025-07-04 03:22:48.198 +03:00 [INF] Executing SearchAsync in CategoryService with keyword: pa, isActiveFilter: False
2025-07-04 03:22:48.292 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__Format_1='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE ((`c`.`Name` LIKE @__Format_1) AND `c`.`DeletedAt` IS NULL) AND `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 03:22:48.310 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 03:22:48.312 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce) in 116.9047ms
2025-07-04 03:22:48.319 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.SearchCategoriesByNameForAdmin (E-Commerce)'
2025-07-04 03:22:48.327 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/SearchForAdmin?name=pa - 200 2727 application/json; charset=utf-8 351.8069ms
2025-07-04 10:28:30.657 +03:00 [INF] DB tables already exist. Exit install
2025-07-04 10:28:32.043 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 10:28:32.058 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-04 10:28:32.093 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-04 10:28:32.115 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-07-04 10:28:32.149 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-04 10:28:32.483 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 10:28:32.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-07-04 10:28:32.611 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 10:28:33.281 +03:00 [INF] Now listening on: https://localhost:7288
2025-07-04 10:28:33.284 +03:00 [INF] Now listening on: http://localhost:5069
2025-07-04 10:28:33.379 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-07-04 10:28:33.413 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-07-04 10:28:33.414 +03:00 [INF] Using the following options for SQL Server job storage:
2025-07-04 10:28:33.421 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-07-04 10:28:33.425 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-07-04 10:28:33.448 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 10:28:33.459 +03:00 [INF] Hosting environment: Development
2025-07-04 10:28:33.856 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-07-04 10:28:33.856 +03:00 [INF] Server mrrobot:6800:636d37b7 successfully announced in 398.6307 ms
2025-07-04 10:28:33.895 +03:00 [INF] Server mrrobot:6800:636d37b7 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-07-04 10:28:33.941 +03:00 [INF] 1 servers were removed due to timeout
2025-07-04 10:28:34.014 +03:00 [INF] Server mrrobot:6800:636d37b7 all the dispatchers started
2025-07-04 10:28:40.702 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 10:28:41.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 356.3222ms
2025-07-04 10:28:41.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 10:28:41.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 10:28:41.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 10:28:41.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 53.2628ms
2025-07-04 10:28:41.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 63.3276ms
2025-07-04 10:28:41.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 154.2491ms
2025-07-04 10:28:41.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 10:28:41.940 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - E_Commers.Controllers.CategoriesController.ChangeActiveStatus (E-Commerce). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.IteratorSelectIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-04 10:28:41.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 596.4128ms
2025-07-04 10:32:53.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 10:32:53.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 29.1501ms
2025-07-04 10:32:53.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 10:32:54.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 10:32:54.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 10:32:54.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 22.6718ms
2025-07-04 10:32:54.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 27.232ms
2025-07-04 10:32:54.061 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4762ms
2025-07-04 10:32:54.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 10:32:54.353 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 233.8839ms
2025-07-04 10:33:08.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 10:33:08.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 27.627ms
2025-07-04 10:33:08.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 10:33:08.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 10:33:08.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 10:33:08.353 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 11.1627ms
2025-07-04 10:33:08.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 22.4983ms
2025-07-04 10:33:08.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.8063ms
2025-07-04 10:33:08.504 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 10:33:08.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.8834ms
2025-07-04 10:34:29.828 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/Login - application/json 75
2025-07-04 10:34:30.666 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:34:30.739 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-04 10:34:30.789 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-07-04 10:34:31.141 +03:00 [INF] In LoginAsync Method 
2025-07-04 10:34:31.169 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-07-04 10:34:31.287 +03:00 [INF]  Generating Access Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 10:34:31.443 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-07-04 10:34:31.554 +03:00 [INF]  Access Token generated successfully for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 10:34:31.562 +03:00 [INF]  Generating Refresh Token for User ID: 54f3c4dd-ad04-4f23-9523-b4ed366f6a75
2025-07-04 10:34:31.574 +03:00 [INF] RefreshToken Generated
2025-07-04 10:34:31.596 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-04 10:34:31.633 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 829.5386ms
2025-07-04 10:34:31.636 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-07-04 10:34:31.652 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/Login - 200 943 application/json; charset=utf-8 1823.674ms
2025-07-04 10:34:46.314 +03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7288/api/Categories/1/ChangeActiveStatus - null null
2025-07-04 10:34:46.321 +03:00 [INF] CORS policy execution successful.
2025-07-04 10:34:46.366 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:34:46.377 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-04 10:34:46.386 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-04 10:34:46.388 +03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7288/api/Categories/1/ChangeActiveStatus - 401 0 null 74.3266ms
2025-07-04 10:35:39.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-07-04 10:35:39.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 24.3168ms
2025-07-04 10:35:39.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-07-04 10:35:39.719 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-07-04 10:35:39.719 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-07-04 10:35:39.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 5.5446ms
2025-07-04 10:35:39.731 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 12.1021ms
2025-07-04 10:35:39.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.3393ms
2025-07-04 10:35:39.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-07-04 10:35:40.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.9688ms
2025-07-04 10:36:04.108 +03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7288/api/Categories/1/ChangeActiveStatus - null null
2025-07-04 10:36:04.134 +03:00 [INF] CORS policy execution successful.
2025-07-04 10:36:04.138 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:36:04.141 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-04 10:36:04.151 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-04 10:36:04.153 +03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7288/api/Categories/1/ChangeActiveStatus - 401 0 null 44.6791ms
2025-07-04 10:37:10.425 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 10:37:10.501 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/4/2025 7:37:10 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-07-04 10:37:10.511 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '7/2/2025 9:50:57 AM', Current time (UTC): '7/4/2025 7:37:10 AM'.
2025-07-04 10:37:10.513 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:37:10.626 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:37:10.633 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-04 10:37:10.636 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-04 10:37:10.639 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 401 0 null 213.9919ms
2025-07-04 10:37:19.495 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 10:37:19.515 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:37:19.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:37:19.530 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 10:37:19.535 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 10:37:19.547 +03:00 [INF] Executing GetAllAsync
2025-07-04 10:37:19.552 +03:00 [INF] Executing GetAllAsync
2025-07-04 10:37:19.557 +03:00 [INF] Getting cache for key: category
2025-07-04 10:37:19.562 +03:00 [WRN] Cache miss for key: category
2025-07-04 10:37:19.565 +03:00 [INF] Execute GetAll for entity Category
2025-07-04 10:37:19.827 +03:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 10:37:19.851 +03:00 [INF] Setting cache for key: category
2025-07-04 10:37:19.899 +03:00 [INF] Cache set successfully for key: category with tags: [category]
2025-07-04 10:37:19.930 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 10:37:19.947 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 406.6441ms
2025-07-04 10:37:19.950 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 10:37:19.954 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 17402 application/json; charset=utf-8 459.3773ms
2025-07-04 10:37:37.170 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/Categories/12/ChangeActiveStatus - null null
2025-07-04 10:37:37.175 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:37:37.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:37:37.186 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-04 10:37:37.188 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-04 10:37:37.190 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/Categories/12/ChangeActiveStatus - 405 0 null 19.5518ms
2025-07-04 10:37:47.192 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7288/api/Categories/12/ChangeActiveStatus - null 0
2025-07-04 10:37:47.197 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:37:47.208 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:37:47.215 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.ChangeActiveStatus (E-Commerce)'
2025-07-04 10:37:47.221 +03:00 [INF] Route matched with {action = "ChangeActiveStatus", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Boolean]]] ChangeActiveStatus(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 10:37:47.231 +03:00 [INF] Executing ChangeActiveStatus for categoryId: 12
2025-07-04 10:37:47.236 +03:00 [INF] Executing ChangeActiveStatus for categoryId: 12
2025-07-04 10:37:47.241 +03:00 [INF] Executing GetCategoryById for id: 12
2025-07-04 10:37:47.303 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-04 10:37:47.336 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 10:37:47.438 +03:00 [INF] Category with id: 12 exists
2025-07-04 10:37:47.466 +03:00 [INF] Execute AddAdminOpreationAsync
2025-07-04 10:37:47.474 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-07-04 10:37:47.525 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-07-04 10:37:47.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Categories` SET `IsActive` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-07-04 10:37:47.732 +03:00 [INF] Removing cache by tag: category
2025-07-04 10:37:47.745 +03:00 [INF] Removed 1 cache entries for tag: category
2025-07-04 10:37:47.757 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 10:37:47.765 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.ChangeActiveStatus (E-Commerce) in 540.7759ms
2025-07-04 10:37:47.768 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.ChangeActiveStatus (E-Commerce)'
2025-07-04 10:37:47.770 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7288/api/Categories/12/ChangeActiveStatus - 200 1135 application/json; charset=utf-8 577.9541ms
2025-07-04 10:38:16.116 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 10:38:16.153 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:38:16.157 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:38:16.161 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 10:38:16.164 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 10:38:16.175 +03:00 [INF] Executing GetAllAsync
2025-07-04 10:38:16.177 +03:00 [INF] Executing GetAllAsync
2025-07-04 10:38:16.178 +03:00 [INF] Getting cache for key: category
2025-07-04 10:38:16.180 +03:00 [WRN] Cache miss for key: category
2025-07-04 10:38:16.182 +03:00 [INF] Execute GetAll for entity Category
2025-07-04 10:38:16.243 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 10:38:16.250 +03:00 [INF] Setting cache for key: category
2025-07-04 10:38:16.253 +03:00 [INF] Cache set successfully for key: category with tags: [category]
2025-07-04 10:38:16.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 10:38:16.258 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 91.8736ms
2025-07-04 10:38:16.262 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 10:38:16.266 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 17401 application/json; charset=utf-8 149.5292ms
2025-07-04 10:38:38.485 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7288/api/categories/12 - null null
2025-07-04 10:38:38.530 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:38:38.545 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:38:38.555 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 10:38:38.562 +03:00 [INF] Route matched with {action = "DeleteAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] DeleteAsync(Int32) on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 10:38:38.577 +03:00 [INF] Executing DeleteAsync for id: 12
2025-07-04 10:38:38.580 +03:00 [INF] Executing DeleteAsync for categoryId: 12
2025-07-04 10:38:38.583 +03:00 [INF] Executing GetCategoryById for id: 12
2025-07-04 10:38:38.608 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`, `t0`.`Id`, `t0`.`CategoryId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`Description`, `t0`.`ImageId`, `t0`.`IsActive`, `t0`.`ModifiedAt`, `t0`.`Name`, `t0`.`Id0`, `t0`.`AltText`, `t0`.`CategoryId0`, `t0`.`CollectionId`, `t0`.`CreatedAt0`, `t0`.`DeletedAt0`, `t0`.`FileSize`, `t0`.`FileType`, `t0`.`Folder`, `t0`.`Height`, `t0`.`IsMain`, `t0`.`ModifiedAt0`, `t0`.`ProductId`, `t0`.`SubCategoryId`, `t0`.`Title`, `t0`.`UploadDate`, `t0`.`Url`, `t0`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
LEFT JOIN (
    SELECT `s`.`Id`, `s`.`CategoryId`, `s`.`CreatedAt`, `s`.`DeletedAt`, `s`.`Description`, `s`.`ImageId`, `s`.`IsActive`, `s`.`ModifiedAt`, `s`.`Name`, `i0`.`Id` AS `Id0`, `i0`.`AltText`, `i0`.`CategoryId` AS `CategoryId0`, `i0`.`CollectionId`, `i0`.`CreatedAt` AS `CreatedAt0`, `i0`.`DeletedAt` AS `DeletedAt0`, `i0`.`FileSize`, `i0`.`FileType`, `i0`.`Folder`, `i0`.`Height`, `i0`.`IsMain`, `i0`.`ModifiedAt` AS `ModifiedAt0`, `i0`.`ProductId`, `i0`.`SubCategoryId`, `i0`.`Title`, `i0`.`UploadDate`, `i0`.`Url`, `i0`.`Width`
    FROM `SubCategory` AS `s`
    LEFT JOIN `Images` AS `i0` ON `s`.`Id` = `i0`.`SubCategoryId`
    WHERE `s`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CategoryId`
ORDER BY `t`.`Id`, `i`.`Id`, `t0`.`Id`
2025-07-04 10:38:38.613 +03:00 [INF] Category with id: 12 exists
2025-07-04 10:38:38.620 +03:00 [INF] Execute SoftDeleteAsync for entity Category with ID: 12
2025-07-04 10:38:38.627 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-07-04 10:38:38.634 +03:00 [INF] Category with ID: 12 soft deleted.
2025-07-04 10:38:38.647 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Categories` SET `CreatedAt` = @p0, `DeletedAt` = @p1, `Description` = @p2, `DisplayOrder` = @p3, `ImageId` = @p4, `IsActive` = @p5, `ModifiedAt` = @p6, `Name` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();
2025-07-04 10:38:38.652 +03:00 [INF] Removing cache by tag: category
2025-07-04 10:38:38.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 10:38:38.655 +03:00 [INF] Removed 1 cache entries for tag: category
2025-07-04 10:38:38.658 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce) in 84.4837ms
2025-07-04 10:38:38.661 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.DeleteAsync (E-Commerce)'
2025-07-04 10:38:38.663 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7288/api/categories/12 - 200 578 application/json; charset=utf-8 178.1411ms
2025-07-04 10:38:51.348 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-07-04 10:38:51.853 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-07-04 10:38:51.870 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-07-04 10:38:51.898 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 10:38:51.902 +03:00 [INF] Route matched with {action = "GetAllAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAllAsync() on controller E_Commers.Controllers.CategoriesController (E-Commerce).
2025-07-04 10:38:51.909 +03:00 [INF] Executing GetAllAsync
2025-07-04 10:38:51.913 +03:00 [INF] Executing GetAllAsync
2025-07-04 10:38:51.914 +03:00 [INF] Getting cache for key: category
2025-07-04 10:38:51.917 +03:00 [WRN] Cache miss for key: category
2025-07-04 10:38:51.918 +03:00 [INF] Execute GetAll for entity Category
2025-07-04 10:38:51.978 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`Name`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `t0`.`Id`, `t1`.`Id`, `t1`.`Url`, `t0`.`Url`, `t0`.`c`
FROM `Categories` AS `c`
LEFT JOIN (
    SELECT `t`.`Id`, `t`.`Url`, `t`.`c`, `t`.`CategoryId`
    FROM (
        SELECT `i`.`Id`, `i`.`Url`, 1 AS `c`, `i`.`CategoryId`, ROW_NUMBER() OVER(PARTITION BY `i`.`CategoryId` ORDER BY `i`.`Id`) AS `row`
        FROM `Images` AS `i`
        WHERE `i`.`IsMain` AND (`i`.`DeletedAt` IS NULL)
    ) AS `t`
    WHERE `t`.`row` <= 1
) AS `t0` ON `c`.`Id` = `t0`.`CategoryId`
LEFT JOIN (
    SELECT `i0`.`Id`, `i0`.`Url`, `i0`.`CategoryId`
    FROM `Images` AS `i0`
    WHERE NOT (`i0`.`IsMain`) AND (`i0`.`DeletedAt` IS NULL)
) AS `t1` ON `c`.`Id` = `t1`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`, `t0`.`Id`
2025-07-04 10:38:51.994 +03:00 [INF] Setting cache for key: category
2025-07-04 10:38:51.997 +03:00 [INF] Cache set successfully for key: category with tags: [category]
2025-07-04 10:38:52.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-04 10:38:52.009 +03:00 [INF] Executed action E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce) in 102.9869ms
2025-07-04 10:38:52.017 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.CategoriesController.GetAllAsync (E-Commerce)'
2025-07-04 10:38:52.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 16798 application/json; charset=utf-8 709.1863ms
