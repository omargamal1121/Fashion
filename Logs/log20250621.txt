2025-06-21 15:29:23.377 +03:00 [INF] DB tables already exist. Exit install
2025-06-21 15:29:25.297 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 15:29:25.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 15:29:25.380 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-21 15:29:25.398 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-21 15:29:25.435 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-21 15:29:25.915 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 15:29:25.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 15:29:26.004 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:29:26.976 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-21 15:29:27.051 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 15:29:27.052 +03:00 [INF] Hosting environment: Development
2025-06-21 15:29:27.053 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-21 15:29:28.427 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 15:29:28.824 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 407.9033ms
2025-06-21 15:29:28.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 15:29:28.894 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 15:29:28.898 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 15:29:28.936 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 37.9501ms
2025-06-21 15:29:28.903 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 10.8645ms
2025-06-21 15:29:29.061 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 167.0572ms
2025-06-21 15:29:29.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 15:29:29.365 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.9257ms
2025-06-21 15:32:41.047 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 15:32:41.060 +03:00 [WRN] Failed to determine the https port for redirect.
2025-06-21 15:32:43.302 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:32:43.351 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:32:43.356 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 2308.7576ms
2025-06-21 15:32:43.366 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 15:32:43.682 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api - null null
2025-06-21 15:32:43.697 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:32:43.703 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:32:43.706 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api - 404 0 null 24.5774ms
2025-06-21 15:32:43.715 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api, Response status code: 404
2025-06-21 15:32:51.281 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/ - null null
2025-06-21 15:32:51.300 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:32:51.305 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:32:51.309 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/ - 404 0 null 27.518ms
2025-06-21 15:32:51.326 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api/, Response status code: 404
2025-06-21 15:32:55.169 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/A - null null
2025-06-21 15:32:55.177 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:32:55.178 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:32:55.181 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/A - 404 0 null 11.795ms
2025-06-21 15:32:55.188 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api/A, Response status code: 404
2025-06-21 15:32:57.119 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount - null null
2025-06-21 15:32:57.132 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:32:57.134 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:32:57.136 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount - 404 0 null 16.5627ms
2025-06-21 15:32:57.144 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api/Acount, Response status code: 404
2025-06-21 15:33:26.116 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 15:33:26.121 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:33:26.123 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:33:26.124 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 8.3276ms
2025-06-21 15:33:26.131 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 15:33:46.531 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount/Login - null null
2025-06-21 15:33:46.536 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:33:46.538 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:33:46.540 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount/Login - 404 0 null 8.1773ms
2025-06-21 15:33:46.543 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api/Acount/Login, Response status code: 404
2025-06-21 15:37:04.578 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount - null null
2025-06-21 15:37:04.602 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:37:04.614 +03:00 [INF] No cached response available for this request.
2025-06-21 15:37:04.617 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:37:04.620 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount - 404 0 null 42.5312ms
2025-06-21 15:37:04.632 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api/Acount, Response status code: 404
2025-06-21 15:37:07.639 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 15:37:07.645 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:37:07.648 +03:00 [INF] No cached response available for this request.
2025-06-21 15:37:07.651 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:37:07.653 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 13.1742ms
2025-06-21 15:37:07.663 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 15:37:08.873 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount - null null
2025-06-21 15:37:08.899 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:37:08.904 +03:00 [INF] No cached response available for this request.
2025-06-21 15:37:08.906 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:37:08.909 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Acount - 404 0 null 35.5292ms
2025-06-21 15:37:08.915 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/api/Acount, Response status code: 404
2025-06-21 15:37:16.856 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 15:37:16.878 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:37:16.882 +03:00 [INF] No cached response available for this request.
2025-06-21 15:37:16.886 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:37:16.894 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 37.8931ms
2025-06-21 15:37:16.915 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 15:37:50.557 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - null null
2025-06-21 15:37:50.578 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:37:50.583 +03:00 [INF] No cached response available for this request.
2025-06-21 15:37:50.590 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 15:37:50.596 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 15:37:50.599 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:37:50.601 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - 405 0 null 44.0725ms
2025-06-21 15:40:20.818 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 15:40:20.868 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:40:20.870 +03:00 [INF] No cached response available for this request.
2025-06-21 15:40:20.872 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:40:20.876 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 58.1027ms
2025-06-21 15:40:20.882 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 15:40:48.313 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - null null
2025-06-21 15:40:48.334 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:40:48.336 +03:00 [INF] No cached response available for this request.
2025-06-21 15:40:48.344 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 15:40:48.349 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 15:40:48.351 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:40:48.353 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - 405 0 null 39.872ms
2025-06-21 15:41:23.901 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - null 0
2025-06-21 15:41:23.923 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:41:23.930 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:41:23.984 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:41:24.268 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-21 15:41:24.317 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 318.7525ms
2025-06-21 15:41:24.320 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:41:24.323 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 415 176 application/problem+json; charset=utf-8 422.1761ms
2025-06-21 15:42:29.303 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/x-www-form-urlencoded 226
2025-06-21 15:42:29.331 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:42:29.335 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:42:29.340 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:42:29.610 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-21 15:42:29.618 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 263.7486ms
2025-06-21 15:42:29.622 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:42:29.624 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 415 176 application/problem+json; charset=utf-8 321.3781ms
2025-06-21 15:43:13.540 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 226
2025-06-21 15:43:13.555 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:43:13.560 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:43:13.572 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:43:13.739 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:43:13.749 +03:00 [WRN] ModelState errors: Age must be between 18 and 100., Invalid email format., Invalid phone number format., Phone number must be a valid 11-digit Egyptian number starting with 01.
2025-06-21 15:43:13.760 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:43:13.792 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 208.739ms
2025-06-21 15:43:13.800 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:43:13.806 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 245 application/json; charset=utf-8 265.2893ms
2025-06-21 15:43:40.755 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 226
2025-06-21 15:43:40.773 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:43:40.778 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:43:40.786 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:43:40.804 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:43:40.810 +03:00 [WRN] ModelState errors: Age must be between 18 and 100., Invalid email format., Invalid phone number format., Phone number must be a valid 11-digit Egyptian number starting with 01.
2025-06-21 15:43:40.815 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:43:40.823 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 26.5025ms
2025-06-21 15:43:40.829 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:43:40.835 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 245 application/json; charset=utf-8 79.4818ms
2025-06-21 15:46:26.155 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 250
2025-06-21 15:46:26.183 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:46:26.194 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:46:26.199 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:46:26.207 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:46:26.211 +03:00 [WRN] ModelState errors: Age must be between 18 and 100.
2025-06-21 15:46:26.214 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:46:26.217 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 11.7552ms
2025-06-21 15:46:26.222 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:46:26.227 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 116 application/json; charset=utf-8 71.9572ms
2025-06-21 15:46:34.118 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 251
2025-06-21 15:46:34.134 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:46:34.140 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:46:34.144 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:46:34.159 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:46:34.241 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:46:34.294 +03:00 [ERR] Failed to register user: Passwords must have at least one lowercase ('a'-'z').; Passwords must have at least one uppercase ('A'-'Z').
2025-06-21 15:46:34.342 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:46:34.353 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 198.2986ms
2025-06-21 15:46:34.359 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:46:34.367 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 904 application/json; charset=utf-8 248.6944ms
2025-06-21 15:46:37.000 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - null null
2025-06-21 15:46:37.020 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:46:37.025 +03:00 [INF] No cached response available for this request.
2025-06-21 15:46:37.028 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 15:46:37.031 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 15:46:37.034 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:46:37.035 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - 405 0 null 35.8062ms
2025-06-21 15:47:24.518 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 251
2025-06-21 15:47:24.541 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:47:24.558 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:47:24.562 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:47:24.573 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:47:24.599 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:47:24.799 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 15:47:25.060 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 15:47:25.113 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 15:47:25.170 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 15:47:25.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 15:47:25.216 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 15:47:25.286 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 15:47:25.315 +03:00 [INF] User registered successfully.
2025-06-21 15:47:27.664 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:47:27.681 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 3112.1978ms
2025-06-21 15:47:27.685 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:47:27.689 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 201 908 application/json; charset=utf-8 3171.3552ms
2025-06-21 15:47:57.667 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - null null
2025-06-21 15:47:57.687 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:47:57.704 +03:00 [INF] No cached response available for this request.
2025-06-21 15:47:57.712 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 15:47:57.718 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 15:47:57.723 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:47:57.727 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/register - 405 0 null 59.2383ms
2025-06-21 15:48:21.974 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Account/upload-photo - null null
2025-06-21 15:48:21.985 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:48:21.990 +03:00 [INF] No cached response available for this request.
2025-06-21 15:48:21.993 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 15:48:21.997 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 15:48:22.000 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:48:22.002 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/Account/upload-photo - 405 0 null 28.7913ms
2025-06-21 15:49:53.714 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 251
2025-06-21 15:49:53.737 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:49:53.750 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:49:53.757 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:49:53.772 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:49:53.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:49:53.809 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 15:49:53.823 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:49:53.831 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 61.912ms
2025-06-21 15:49:53.838 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:49:53.847 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 409 807 application/json; charset=utf-8 132.572ms
2025-06-21 15:50:24.416 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 251
2025-06-21 15:50:24.436 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:50:24.441 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:50:24.453 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:50:24.468 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:50:24.480 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:50:24.494 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 15:50:24.501 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:50:24.506 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 40.6794ms
2025-06-21 15:50:24.512 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:50:24.519 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 409 807 application/json; charset=utf-8 103.1833ms
2025-06-21 15:51:32.224 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 255
2025-06-21 15:51:32.239 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:51:32.266 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:51:32.267 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:51:32.274 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:51:32.281 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:51:32.288 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 15:51:32.292 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:51:32.296 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 23.4069ms
2025-06-21 15:51:32.298 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:51:32.301 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 409 807 application/json; charset=utf-8 77.1787ms
2025-06-21 15:51:33.235 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 255
2025-06-21 15:51:33.252 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:51:33.255 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:51:33.260 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:51:33.273 +03:00 [INF] In RegisterAsync Method 
2025-06-21 15:51:33.280 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:51:33.288 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 15:51:33.292 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:51:33.297 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 26.0815ms
2025-06-21 15:51:33.300 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 15:51:33.304 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 409 807 application/json; charset=utf-8 69.6461ms
2025-06-21 15:53:03.891 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/login - null null
2025-06-21 15:53:03.917 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:53:03.921 +03:00 [INF] No cached response available for this request.
2025-06-21 15:53:03.923 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 15:53:03.925 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 15:53:03.929 +03:00 [INF] The response could not be cached for this request.
2025-06-21 15:53:03.934 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/login - 405 0 null 43.1882ms
2025-06-21 15:54:00.295 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/x-www-form-urlencoded 62
2025-06-21 15:54:00.307 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:54:00.312 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:54:00.338 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:54:00.351 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-21 15:54:00.358 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 11.1821ms
2025-06-21 15:54:00.361 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:54:00.363 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 415 176 application/problem+json; charset=utf-8 68.3082ms
2025-06-21 15:54:01.712 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/x-www-form-urlencoded 62
2025-06-21 15:54:01.729 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:54:01.737 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:54:01.744 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:54:01.761 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-21 15:54:01.772 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 12.1755ms
2025-06-21 15:54:01.778 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:54:01.788 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 415 176 application/problem+json; charset=utf-8 75.4982ms
2025-06-21 15:54:16.452 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 62
2025-06-21 15:54:16.474 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:54:16.477 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:54:16.486 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:54:16.508 +03:00 [INF] In LoginAsync Method 
2025-06-21 15:54:16.523 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:54:16.723 +03:00 [INF] 🔐 Generating Access Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 15:54:16.826 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 15:54:17.044 +03:00 [INF] ✅ Access Token generated successfully for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 15:54:17.050 +03:00 [INF] 🔑 Generating Refresh Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 15:54:17.064 +03:00 [INF] RefreshToken Generated
2025-06-21 15:54:17.068 +03:00 [INF] User logged in successfully.
2025-06-21 15:54:17.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:54:17.084 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 587.4022ms
2025-06-21 15:54:17.088 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:54:17.092 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 640.2971ms
2025-06-21 15:56:10.755 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 62
2025-06-21 15:56:10.783 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 15:56:10.788 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:56:10.792 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 15:56:10.799 +03:00 [INF] In LoginAsync Method 
2025-06-21 15:56:10.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 15:56:10.967 +03:00 [INF] 🔐 Generating Access Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 15:56:10.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 15:56:10.979 +03:00 [INF] ✅ Access Token generated successfully for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 15:56:10.981 +03:00 [INF] 🔑 Generating Refresh Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 15:56:10.983 +03:00 [INF] RefreshToken Generated
2025-06-21 15:56:10.985 +03:00 [INF] User logged in successfully.
2025-06-21 15:56:10.987 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 15:56:10.989 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 191.5203ms
2025-06-21 15:56:10.993 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 15:56:10.995 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 240.3042ms
2025-06-21 16:01:20.821 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 94
2025-06-21 16:01:20.852 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:01:20.856 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:01:20.860 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:01:20.885 +03:00 [WRN] ModelState errors: After parsing a value an unexpected character was encountered: >. Path 'email', line 2, position 13., The login field is required.
2025-06-21 16:01:20.890 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:01:20.898 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 31.3964ms
2025-06-21 16:01:20.902 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:01:20.904 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 400 216 application/json; charset=utf-8 83.2014ms
2025-06-21 16:01:27.577 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 62
2025-06-21 16:01:27.590 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:01:27.595 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:01:27.602 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:01:27.618 +03:00 [INF] In LoginAsync Method 
2025-06-21 16:01:27.637 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:01:27.816 +03:00 [INF] 🔐 Generating Access Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:01:27.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 16:01:27.828 +03:00 [INF] ✅ Access Token generated successfully for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:01:27.829 +03:00 [INF] 🔑 Generating Refresh Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:01:27.831 +03:00 [INF] RefreshToken Generated
2025-06-21 16:01:27.833 +03:00 [INF] User logged in successfully.
2025-06-21 16:01:27.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:01:27.837 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 223.664ms
2025-06-21 16:01:27.839 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:01:27.843 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 266.0998ms
2025-06-21 16:05:05.692 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 251
2025-06-21 16:05:05.719 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:05:05.724 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:05.730 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:05:05.744 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:05:05.748 +03:00 [WRN] ModelState errors: Invalid email format.
2025-06-21 16:05:05.755 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:05:05.763 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 22.319ms
2025-06-21 16:05:05.769 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:05.774 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 106 application/json; charset=utf-8 82.2739ms
2025-06-21 16:05:17.677 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 254
2025-06-21 16:05:17.694 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:05:17.700 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:17.707 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:05:17.721 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:05:17.726 +03:00 [WRN] ModelState errors: Name must contain only letters and spaces.
2025-06-21 16:05:17.731 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:05:17.741 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 24.6303ms
2025-06-21 16:05:17.746 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:17.753 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 127 application/json; charset=utf-8 76.3808ms
2025-06-21 16:05:25.129 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 261
2025-06-21 16:05:25.145 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:05:25.149 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:25.157 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:05:25.166 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:05:25.174 +03:00 [WRN] ModelState errors: Name must contain only letters and spaces.
2025-06-21 16:05:25.178 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:05:25.181 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 16.5154ms
2025-06-21 16:05:25.187 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:25.192 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 127 application/json; charset=utf-8 62.8215ms
2025-06-21 16:05:29.738 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 263
2025-06-21 16:05:29.756 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:05:29.762 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:29.766 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:05:29.777 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:05:29.780 +03:00 [WRN] ModelState errors: Unterminated string. Expected delimiter: '. Path 'age', line 12, position 0., Unexpected end when deserializing object. Path 'age', line 12, position 0., The usermodel field is required.
2025-06-21 16:05:29.783 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:05:29.789 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 16.0613ms
2025-06-21 16:05:29.793 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:05:29.795 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 273 application/json; charset=utf-8 57.6786ms
2025-06-21 16:17:07.693 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/a - null null
2025-06-21 16:17:07.712 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:17:07.717 +03:00 [INF] No cached response available for this request.
2025-06-21 16:17:07.726 +03:00 [INF] The response could not be cached for this request.
2025-06-21 16:17:07.730 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/a - 404 0 null 36.0903ms
2025-06-21 16:17:07.750 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/a, Response status code: 404
2025-06-21 16:22:16.269 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - application/json 87
2025-06-21 16:22:16.292 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:22:16.298 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:22:16.316 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ResetPassword(E_Commers.DtoModels.AccountDtos.ResetPasswordDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:22:16.358 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:22:16.381 +03:00 [WRN] Password reset failed for test@gmail.com: Invalid token.
2025-06-21 16:22:16.387 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:22:16.393 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ResetPassword (E-Commerce) in 67.0692ms
2025-06-21 16:22:16.399 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:22:16.405 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - 400 794 application/json; charset=utf-8 135.8811ms
2025-06-21 16:22:26.593 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - application/json 85
2025-06-21 16:22:26.607 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:22:26.612 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:22:26.620 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ResetPassword(E_Commers.DtoModels.AccountDtos.ResetPasswordDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:22:26.633 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:22:26.666 +03:00 [WRN] Password reset failed for test@gmail.com: Invalid token.
2025-06-21 16:22:26.671 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:22:26.678 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ResetPassword (E-Commerce) in 50.0577ms
2025-06-21 16:22:26.684 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:22:26.689 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - 400 794 application/json; charset=utf-8 96.7463ms
2025-06-21 16:23:15.458 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 62
2025-06-21 16:23:15.476 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:23:15.483 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:23:15.488 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:23:15.507 +03:00 [INF] In LoginAsync Method 
2025-06-21 16:23:15.518 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:23:15.755 +03:00 [INF] 🔐 Generating Access Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:23:15.762 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 16:23:15.768 +03:00 [INF] ✅ Access Token generated successfully for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:23:15.772 +03:00 [INF] 🔑 Generating Refresh Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:23:15.774 +03:00 [INF] RefreshToken Generated
2025-06-21 16:23:15.776 +03:00 [INF] User logged in successfully.
2025-06-21 16:23:15.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:23:15.780 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 275.6204ms
2025-06-21 16:23:15.783 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:23:15.784 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 325.9342ms
2025-06-21 16:23:46.465 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - application/json 956
2025-06-21 16:23:46.488 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:23:46.493 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:23:46.510 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ResetPassword(E_Commers.DtoModels.AccountDtos.ResetPasswordDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:23:46.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:23:46.535 +03:00 [WRN] Password reset failed for test@gmail.com: Invalid token.
2025-06-21 16:23:46.539 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:23:46.543 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ResetPassword (E-Commerce) in 20.8344ms
2025-06-21 16:23:46.551 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:23:46.555 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - 400 794 application/json; charset=utf-8 89.9545ms
2025-06-21 16:24:24.374 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 62
2025-06-21 16:24:24.398 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:24:24.422 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:24:24.426 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:24:24.435 +03:00 [INF] In LoginAsync Method 
2025-06-21 16:24:24.441 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:24:24.597 +03:00 [INF] 🔐 Generating Access Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:24:24.602 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 16:24:24.607 +03:00 [INF] ✅ Access Token generated successfully for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:24:24.608 +03:00 [INF] 🔑 Generating Refresh Token for User ID: c16a2216-064d-4753-9a1d-c5fa9d8ba682
2025-06-21 16:24:24.611 +03:00 [INF] RefreshToken Generated
2025-06-21 16:24:24.616 +03:00 [INF] User logged in successfully.
2025-06-21 16:24:24.621 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:24:24.625 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 191.5432ms
2025-06-21 16:24:24.628 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:24:24.631 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 257.7274ms
2025-06-21 16:25:08.202 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 16:25:08.218 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:25:08.223 +03:00 [INF] No cached response available for this request.
2025-06-21 16:25:08.229 +03:00 [INF] The response could not be cached for this request.
2025-06-21 16:25:08.235 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 33.1257ms
2025-06-21 16:25:08.245 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 16:25:11.322 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 16:25:11.339 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:25:11.344 +03:00 [INF] No cached response available for this request.
2025-06-21 16:25:11.354 +03:00 [INF] The response could not be cached for this request.
2025-06-21 16:25:11.357 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 34.7679ms
2025-06-21 16:25:11.368 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 16:25:17.200 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - application/json 117
2025-06-21 16:25:17.207 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:25:17.208 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:25:17.209 +03:00 [INF] Route matched with {action = "ResetPassword", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ResetPassword(E_Commers.DtoModels.AccountDtos.ResetPasswordDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:25:17.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:25:17.221 +03:00 [WRN] Password reset failed for test@gmail.com: Invalid token.
2025-06-21 16:25:17.223 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:25:17.226 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ResetPassword (E-Commerce) in 14.2101ms
2025-06-21 16:25:17.233 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ResetPassword (E-Commerce)'
2025-06-21 16:25:17.234 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/reset-password - 400 794 application/json; charset=utf-8 34.5046ms
2025-06-21 16:26:16.503 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - null null
2025-06-21 16:26:16.512 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:26:16.518 +03:00 [INF] The response could not be cached for this request.
2025-06-21 16:26:16.522 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/ - 404 0 null 19.1323ms
2025-06-21 16:26:16.557 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://3773-154-185-179-200.ngrok-free.app/, Response status code: 404
2025-06-21 16:29:02.699 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 262
2025-06-21 16:29:02.725 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:29:02.731 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:29:02.736 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:29:02.747 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:29:02.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:29:02.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:29:02.925 +03:00 [ERR] Failed to register user: Username 'hanyMamdouh' is already taken.
2025-06-21 16:29:02.927 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:29:02.930 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 184.6021ms
2025-06-21 16:29:02.932 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:29:02.934 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 836 application/json; charset=utf-8 235.1598ms
2025-06-21 16:29:17.423 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 266
2025-06-21 16:29:17.442 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:29:17.446 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:29:17.450 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:29:17.460 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:29:17.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:29:17.636 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:29:17.699 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 16:29:17.719 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:29:17.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 16:29:17.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:29:17.771 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:29:17.797 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 16:29:17.817 +03:00 [INF] User registered successfully.
2025-06-21 16:29:19.365 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:29:19.373 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 1915.3237ms
2025-06-21 16:29:19.378 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:29:19.383 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 201 919 application/json; charset=utf-8 1959.8903ms
2025-06-21 16:30:50.937 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 195
2025-06-21 16:30:50.952 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:30:50.956 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:30:50.965 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:30:50.985 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:30:50.987 +03:00 [WRN] ModelState errors: Phone number must be a valid 11-digit Egyptian number starting with 01.
2025-06-21 16:30:50.989 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:30:51.001 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 22.9824ms
2025-06-21 16:30:51.003 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:30:51.010 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 156 application/json; charset=utf-8 72.9954ms
2025-06-21 16:31:00.644 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 196
2025-06-21 16:31:00.656 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:31:00.662 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:31:00.667 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:31:00.679 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:31:00.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:31:00.692 +03:00 [ERR] Failed to register user: Passwords must have at least one non alphanumeric character.; Passwords must have at least one lowercase ('a'-'z').; Passwords must have at least one uppercase ('A'-'Z').
2025-06-21 16:31:00.699 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:31:00.706 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 28.9322ms
2025-06-21 16:31:00.711 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:31:00.715 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 400 966 application/json; charset=utf-8 71.5644ms
2025-06-21 16:31:23.678 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - application/json 202
2025-06-21 16:31:23.692 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:31:23.697 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:31:23.703 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:31:23.720 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:31:23.730 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:31:24.018 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:31:24.037 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 16:31:24.049 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:31:24.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 16:31:24.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:31:24.073 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:31:24.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 16:31:24.097 +03:00 [INF] User registered successfully.
2025-06-21 16:31:25.732 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:31:25.739 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 2021.5023ms
2025-06-21 16:31:25.753 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:31:25.756 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/register - 201 916 application/json; charset=utf-8 2078.5746ms
2025-06-21 16:32:19.138 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 63
2025-06-21 16:32:19.151 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:32:19.156 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:32:19.162 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:32:19.175 +03:00 [INF] In LoginAsync Method 
2025-06-21 16:32:19.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:32:19.497 +03:00 [INF] 🔐 Generating Access Token for User ID: e733ac06-d324-4cfc-af3b-19bb5fd62b89
2025-06-21 16:32:19.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 16:32:19.519 +03:00 [INF] ✅ Access Token generated successfully for User ID: e733ac06-d324-4cfc-af3b-19bb5fd62b89
2025-06-21 16:32:19.522 +03:00 [INF] 🔑 Generating Refresh Token for User ID: e733ac06-d324-4cfc-af3b-19bb5fd62b89
2025-06-21 16:32:19.530 +03:00 [INF] RefreshToken Generated
2025-06-21 16:32:19.534 +03:00 [INF] User logged in successfully.
2025-06-21 16:32:19.539 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:32:19.549 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 376.2324ms
2025-06-21 16:32:19.553 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:32:19.561 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 200 1767 application/json; charset=utf-8 422.8521ms
2025-06-21 16:34:17.272 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 66
2025-06-21 16:34:17.297 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:34:17.302 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:34:17.306 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:34:17.321 +03:00 [INF] In LoginAsync Method 
2025-06-21 16:34:17.331 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:34:17.342 +03:00 [WRN] Login failed: Email not found.
2025-06-21 16:34:17.345 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:34:17.349 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 30.4906ms
2025-06-21 16:34:17.352 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:34:17.355 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 401 806 application/json; charset=utf-8 83.1638ms
2025-06-21 16:34:42.769 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/confirm-email - application/json 961
2025-06-21 16:34:42.781 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:34:42.786 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce)'
2025-06-21 16:34:42.814 +03:00 [INF] Route matched with {action = "ConfirmEmailAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ConfirmEmailAsync(E_Commers.DtoModels.AccountDtos.ConfirmEmailDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:34:42.829 +03:00 [INF] Executing ConfirmEmailAsync
2025-06-21 16:34:42.837 +03:00 [INF] Executing ConfirmEmailAsync for user ID: e733ac06-d324-4cfc-af3b-19bb5fd62b89
2025-06-21 16:34:42.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-06-21 16:34:42.883 +03:00 [ERR] Error in ConfirmEmailAsync: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
2025-06-21 16:34:45.414 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:34:45.420 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce) in 2597.8577ms
2025-06-21 16:34:45.426 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce)'
2025-06-21 16:34:45.429 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/confirm-email - 500 809 application/json; charset=utf-8 2659.4306ms
2025-06-21 16:39:25.397 +03:00 [INF] Request starting HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/login - null null
2025-06-21 16:39:25.409 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:39:25.414 +03:00 [INF] No cached response available for this request.
2025-06-21 16:39:25.418 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 16:39:25.423 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 16:39:25.429 +03:00 [INF] The response could not be cached for this request.
2025-06-21 16:39:25.434 +03:00 [INF] Request finished HTTP/1.1 GET http://3773-154-185-179-200.ngrok-free.app/api/account/login - 405 0 null 37.1416ms
2025-06-21 16:41:34.785 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://3773-154-185-179-200.ngrok-free.app/api/account/login - null null
2025-06-21 16:41:34.800 +03:00 [INF] CORS policy execution successful.
2025-06-21 16:41:34.808 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://3773-154-185-179-200.ngrok-free.app/api/account/login - 204 null null 23.227ms
2025-06-21 16:41:34.936 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - application/json 49
2025-06-21 16:41:34.946 +03:00 [INF] CORS policy execution successful.
2025-06-21 16:41:34.950 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:41:34.955 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:41:34.959 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:41:34.964 +03:00 [INF] In LoginAsync Method 
2025-06-21 16:41:34.973 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:41:34.980 +03:00 [WRN] Login failed: Email not found.
2025-06-21 16:41:34.981 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:41:34.985 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 22.1322ms
2025-06-21 16:41:34.989 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 16:41:34.993 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/account/login - 401 806 application/json; charset=utf-8 57.7283ms
2025-06-21 16:46:13.156 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/Account/Register - application/json 212
2025-06-21 16:46:13.162 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:46:13.164 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:46:13.165 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:46:13.170 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:46:13.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:46:13.182 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 16:46:13.184 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:46:13.187 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 18.7837ms
2025-06-21 16:46:13.269 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:46:13.278 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/Account/Register - 409 807 application/json; charset=utf-8 122.6186ms
2025-06-21 16:46:28.582 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/Account/Register - application/json 219
2025-06-21 16:46:28.591 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:46:28.614 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:46:28.616 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:46:28.621 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:46:28.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:46:28.769 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:46:28.771 +03:00 [ERR] Failed to register user: Username 'omargamal111' is already taken.
2025-06-21 16:46:28.773 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:46:28.775 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 155.1586ms
2025-06-21 16:46:28.777 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:46:28.778 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/Account/Register - 400 837 application/json; charset=utf-8 196.0238ms
2025-06-21 16:46:36.286 +03:00 [INF] Request starting HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/Account/Register - application/json 220
2025-06-21 16:46:36.290 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:46:36.291 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:46:36.293 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:46:36.296 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:46:36.299 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:46:36.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:46:36.437 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 16:46:36.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:46:36.449 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 16:46:36.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:46:36.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:46:36.468 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 16:46:36.474 +03:00 [INF] User registered successfully.
2025-06-21 16:46:38.120 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:46:38.123 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 1828.538ms
2025-06-21 16:46:38.126 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:46:38.129 +03:00 [INF] Request finished HTTP/1.1 POST http://3773-154-185-179-200.ngrok-free.app/api/Account/Register - 201 928 application/json; charset=utf-8 1843.1491ms
2025-06-21 16:50:25.116 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/confirm-email - application/json-patch+json 45
2025-06-21 16:50:25.121 +03:00 [INF] CORS policy execution successful.
2025-06-21 16:50:25.147 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:50:25.155 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce)'
2025-06-21 16:50:25.159 +03:00 [INF] Route matched with {action = "ConfirmEmailAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ConfirmEmailAsync(E_Commers.DtoModels.AccountDtos.ConfirmEmailDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:50:25.167 +03:00 [INF] Executing ConfirmEmailAsync
2025-06-21 16:50:25.168 +03:00 [INF] Executing ConfirmEmailAsync for user ID: string
2025-06-21 16:50:25.174 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-06-21 16:50:25.180 +03:00 [WRN] User not found with ID: string
2025-06-21 16:50:25.185 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:50:25.188 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce) in 22.9716ms
2025-06-21 16:50:25.193 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce)'
2025-06-21 16:50:25.195 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/confirm-email - 404 661 application/json; charset=utf-8 79.4808ms
2025-06-21 16:51:53.130 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Account/confirm-email - application/json 423
2025-06-21 16:51:53.133 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:51:53.135 +03:00 [INF] No cached response available for this request.
2025-06-21 16:51:53.136 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-21 16:51:53.138 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-21 16:51:53.140 +03:00 [INF] The response could not be cached for this request.
2025-06-21 16:51:53.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Account/confirm-email - 405 0 null 10.1564ms
2025-06-21 16:52:01.273 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/confirm-email - application/json 423
2025-06-21 16:52:01.276 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:52:01.277 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce)'
2025-06-21 16:52:01.278 +03:00 [INF] Route matched with {action = "ConfirmEmailAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] ConfirmEmailAsync(E_Commers.DtoModels.AccountDtos.ConfirmEmailDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:52:01.281 +03:00 [INF] Executing ConfirmEmailAsync
2025-06-21 16:52:01.282 +03:00 [INF] Executing ConfirmEmailAsync for user ID: 2215773c-5183-4b08-9450-38016c603757
2025-06-21 16:52:01.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-06-21 16:52:01.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:52:01.322 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p21='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p22='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 4000), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `ImageId` = @p7, `LastVisit` = @p8, `LockoutEnabled` = @p9, `LockoutEnd` = @p10, `Name` = @p11, `NormalizedEmail` = @p12, `NormalizedUserName` = @p13, `PasswordHash` = @p14, `PhoneNumber` = @p15, `PhoneNumberConfirmed` = @p16, `ProfilePicture` = @p17, `SecurityStamp` = @p18, `TwoFactorEnabled` = @p19, `UserName` = @p20
WHERE `Id` = @p21 AND `ConcurrencyStamp` = @p22;
SELECT ROW_COUNT();
2025-06-21 16:52:01.344 +03:00 [INF] Executing CreateAsync for entity UserOperationsLog
2025-06-21 16:52:01.478 +03:00 [INF] UserOperationsLog added successfully (pending save)
2025-06-21 16:52:01.480 +03:00 [INF] Email confirmed successfully for user ID: 2215773c-5183-4b08-9450-38016c603757
2025-06-21 16:52:01.482 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-21 16:52:01.485 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce) in 204.7468ms
2025-06-21 16:52:01.487 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.ConfirmEmailAsync (E-Commerce)'
2025-06-21 16:52:01.488 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/confirm-email - 200 646 application/json; charset=utf-8 214.941ms
2025-06-21 16:53:06.217 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json-patch+json 282
2025-06-21 16:53:06.222 +03:00 [INF] CORS policy execution successful.
2025-06-21 16:53:06.255 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:53:06.257 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:53:06.259 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:53:06.266 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:53:06.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:53:06.281 +03:00 [ERR] Failed to register user: Passwords must have at least one non alphanumeric character.; Passwords must have at least one digit ('0'-'9').; Passwords must have at least one uppercase ('A'-'Z').
2025-06-21 16:53:06.285 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:53:06.288 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 22.2139ms
2025-06-21 16:53:06.290 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:53:06.291 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 400 836 application/json; charset=utf-8 74.4162ms
2025-06-21 16:53:20.168 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 221
2025-06-21 16:53:20.173 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:53:20.173 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:53:20.174 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:53:20.176 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:53:20.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:53:20.329 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:53:20.342 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 16:53:20.351 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:53:20.355 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 16:53:20.359 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:53:20.364 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:53:20.369 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 16:53:20.375 +03:00 [INF] User registered successfully.
2025-06-21 16:53:21.885 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:53:21.888 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 1712.4925ms
2025-06-21 16:53:21.889 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:53:21.890 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 803 application/json; charset=utf-8 1721.7818ms
2025-06-21 16:55:25.990 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 225
2025-06-21 16:55:25.993 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 16:55:25.994 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:55:25.995 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 16:55:26.000 +03:00 [INF] In RegisterAsync Method 
2025-06-21 16:55:26.004 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 16:55:26.138 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:55:26.149 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 16:55:26.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:55:26.159 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 16:55:26.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 16:55:26.170 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 16:55:26.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 16:55:26.184 +03:00 [INF] User registered successfully.
2025-06-21 16:55:27.531 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 16:55:27.535 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 1536.9744ms
2025-06-21 16:55:27.539 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 16:55:27.540 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 807 application/json; charset=utf-8 1550.4669ms
2025-06-21 17:39:48.404 +03:00 [INF] DB tables already exist. Exit install
2025-06-21 17:39:50.014 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 17:39:50.028 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 17:39:50.062 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-21 17:39:50.082 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-21 17:39:50.126 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-21 17:39:50.473 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 17:39:50.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 17:39:50.565 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 17:39:51.297 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-21 17:39:51.411 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 17:39:51.418 +03:00 [INF] Hosting environment: Development
2025-06-21 17:39:51.428 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-21 17:39:52.274 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 17:39:52.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 381.9263ms
2025-06-21 17:39:52.682 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 17:39:52.683 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 17:39:52.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 17:39:52.741 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 58.9907ms
2025-06-21 17:39:52.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 66.2567ms
2025-06-21 17:39:52.907 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 168.2224ms
2025-06-21 17:39:53.002 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 17:39:53.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 272.8288ms
2025-06-21 17:40:09.429 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 227
2025-06-21 17:40:09.441 +03:00 [WRN] Failed to determine the https port for redirect.
2025-06-21 17:40:09.529 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 17:40:09.565 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 17:40:09.615 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 17:40:09.940 +03:00 [INF] In RegisterAsync Method 
2025-06-21 17:40:09.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 17:40:10.214 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 17:40:10.477 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 17:40:10.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 17:40:10.624 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 17:40:10.641 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 17:40:10.691 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 17:40:10.756 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 17:40:10.780 +03:00 [INF] User registered successfully.
2025-06-21 17:40:10.841 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 17:40:10.889 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 1263.9885ms
2025-06-21 17:40:10.892 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 17:40:10.898 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 809 application/json; charset=utf-8 1468.8081ms
2025-06-21 17:41:14.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 17:41:14.387 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 42.635ms
2025-06-21 17:41:14.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 17:41:14.501 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 10.2697ms
2025-06-21 17:41:14.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 17:41:14.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 17:41:14.510 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 2.5312ms
2025-06-21 17:41:14.518 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.0443ms
2025-06-21 17:41:14.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 17:41:14.764 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.789ms
2025-06-21 17:41:25.484 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 230
2025-06-21 17:41:25.491 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 17:41:25.493 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 17:41:25.506 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 17:41:25.627 +03:00 [INF] In RegisterAsync Method 
2025-06-21 17:41:25.657 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 17:41:25.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 17:41:25.801 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 17:41:25.807 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 17:41:25.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 17:41:25.819 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 17:41:25.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 17:41:25.832 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 17:41:25.840 +03:00 [INF] User registered successfully.
2025-06-21 17:41:27.232 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 17:41:27.236 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 1727.0471ms
2025-06-21 17:41:27.258 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 17:41:27.299 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 812 application/json; charset=utf-8 1815.1287ms
2025-06-21 17:41:40.673 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 17:41:40.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 8.3433ms
2025-06-21 17:41:41.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 17:41:41.091 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 2.7369ms
2025-06-21 17:41:41.107 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 17:41:41.140 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 17:41:41.144 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.0763ms
2025-06-21 17:41:41.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 32.1787ms
2025-06-21 17:41:41.628 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 17:41:41.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.0301ms
2025-06-21 17:45:39.025 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 17:45:39.032 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 7.2083ms
2025-06-21 17:45:39.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 17:45:39.066 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 4.4778ms
2025-06-21 17:45:39.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 17:45:39.075 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 17:45:39.081 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.272ms
2025-06-21 17:45:39.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3448ms
2025-06-21 17:45:39.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 17:45:39.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.5879ms
2025-06-21 18:05:45.861 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 18:05:45.877 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 15.7284ms
2025-06-21 18:05:45.906 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 18:05:45.909 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 3.1903ms
2025-06-21 18:05:45.913 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 18:05:45.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 18:05:45.922 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8544ms
2025-06-21 18:05:45.927 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.8362ms
2025-06-21 18:05:46.155 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 18:05:46.206 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.9026ms
2025-06-21 18:06:31.910 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 232
2025-06-21 18:06:31.914 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:06:31.915 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:06:31.922 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:06:31.945 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:06:31.953 +03:00 [INF] Executing RegisterAsync for email: omargamal21w1r5320024@gmail.com
2025-06-21 18:06:36.060 +03:00 [ERR] An error occurred using the connection to database 'E-Commerce' on server 'localhost'.
2025-06-21 18:06:36.082 +03:00 [ERR] Error in RegisterAsync
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at UnitOfWork.BeginTransactionAsync()
   at E_Commers.Services.AccountServices.AccountServices.RegisterAsync(RegisterDto model)
   at E_Commers.Controllers.AccountController.RegisterAsync(RegisterDto usermodel)
2025-06-21 18:06:37.724 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:06:37.732 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 5807.7539ms
2025-06-21 18:06:37.735 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:06:37.737 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 500 134 application/json; charset=utf-8 5827.8582ms
2025-06-21 18:07:05.951 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 232
2025-06-21 18:07:05.958 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:07:05.959 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:07:05.960 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:07:05.963 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:07:05.964 +03:00 [INF] Executing RegisterAsync for email: omargamal21w1r5320024@gmail.com
2025-06-21 18:07:10.005 +03:00 [ERR] An error occurred using the connection to database 'E-Commerce' on server 'localhost'.
2025-06-21 18:07:10.008 +03:00 [ERR] Error in RegisterAsync
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(IsolationLevel isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.BeginTransactionAsync(CancellationToken cancellationToken)
   at UnitOfWork.BeginTransactionAsync()
   at E_Commers.Services.AccountServices.AccountServices.RegisterAsync(RegisterDto model)
   at E_Commers.Controllers.AccountController.RegisterAsync(RegisterDto usermodel)
2025-06-21 18:07:11.435 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:07:11.481 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 5519.8588ms
2025-06-21 18:07:11.482 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:07:11.484 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 500 134 application/json; charset=utf-8 5532.423ms
2025-06-21 18:07:25.700 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 232
2025-06-21 18:07:25.702 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:07:25.704 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:07:25.708 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:07:25.711 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:07:25.711 +03:00 [INF] Executing RegisterAsync for email: omargamal21w1r5320024@gmail.com
2025-06-21 18:07:25.725 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:07:25.728 +03:00 [INF] Mapping took 0 ms for email: omargamal21w1r5320024@gmail.com
2025-06-21 18:07:25.822 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:07:25.835 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:07:25.846 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:07:25.852 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:07:25.856 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:07:25.860 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:07:25.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:07:25.869 +03:00 [INF] User registered successfully.
2025-06-21 18:07:25.872 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:07:25.875 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 165.3414ms
2025-06-21 18:07:25.876 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:07:25.877 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 814 application/json; charset=utf-8 177.2657ms
2025-06-21 18:07:43.254 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 234
2025-06-21 18:07:43.261 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:07:43.262 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:07:43.263 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:07:43.280 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:07:43.281 +03:00 [INF] Executing RegisterAsync for email: omargamal21w15r5320024@gmail.com
2025-06-21 18:07:43.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:07:43.290 +03:00 [INF] Mapping took 0 ms for email: omargamal21w15r5320024@gmail.com
2025-06-21 18:07:43.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:07:43.382 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:07:43.390 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:07:43.394 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:07:43.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:07:43.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:07:43.405 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:07:43.410 +03:00 [INF] User registered successfully.
2025-06-21 18:07:43.412 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:07:43.413 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 148.4316ms
2025-06-21 18:07:43.415 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:07:43.416 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 816 application/json; charset=utf-8 161.8413ms
2025-06-21 18:08:30.605 +03:00 [INF] DB tables already exist. Exit install
2025-06-21 18:08:32.146 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 18:08:32.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 18:08:32.207 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-21 18:08:32.222 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-21 18:08:32.242 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-21 18:08:32.521 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 18:08:32.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 18:08:32.622 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:08:33.025 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-21 18:08:33.090 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 18:08:33.096 +03:00 [INF] Hosting environment: Development
2025-06-21 18:08:33.097 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-21 18:08:33.242 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 18:08:33.402 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 160.2943ms
2025-06-21 18:08:33.432 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 18:08:33.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 18:08:33.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 18:08:33.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 8.4504ms
2025-06-21 18:08:33.448 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 12.3387ms
2025-06-21 18:08:33.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.214ms
2025-06-21 18:08:33.699 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 18:08:33.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.2333ms
2025-06-21 18:08:55.294 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 236
2025-06-21 18:08:55.316 +03:00 [WRN] Failed to determine the https port for redirect.
2025-06-21 18:08:55.357 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:08:55.375 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:08:55.399 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:08:55.635 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:08:55.639 +03:00 [INF] Executing RegisterAsync for email: omargamal21w15r5320024r@gmail.com
2025-06-21 18:08:55.662 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:08:55.674 +03:00 [INF] Mapping took 6 ms for email: omargamal21w15r5320024r@gmail.com
2025-06-21 18:08:55.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:08:55.972 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:08:56.002 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:08:56.035 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:08:56.045 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:08:56.062 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:08:56.099 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:08:56.120 +03:00 [INF] User registered successfully.
2025-06-21 18:08:56.186 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:08:56.227 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 815.2396ms
2025-06-21 18:08:56.244 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:08:56.257 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 818 application/json; charset=utf-8 962.3764ms
2025-06-21 18:09:05.873 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 238
2025-06-21 18:09:05.881 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:09:05.883 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:09:05.884 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:09:05.969 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:09:05.970 +03:00 [INF] Executing RegisterAsync for email: omargamal21ws15r5320024r@gmail.com
2025-06-21 18:09:05.982 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:09:05.986 +03:00 [INF] Mapping took 0 ms for email: omargamal21ws15r5320024r@gmail.com
2025-06-21 18:09:06.076 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:09:06.089 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:09:06.096 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:09:06.100 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:09:06.103 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:09:06.109 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:09:06.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:09:06.120 +03:00 [INF] User registered successfully.
2025-06-21 18:09:06.125 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:09:06.130 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 244.4099ms
2025-06-21 18:09:06.133 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:09:06.153 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 820 application/json; charset=utf-8 279.686ms
2025-06-21 18:14:07.667 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 240
2025-06-21 18:14:07.674 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:14:07.675 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:14:07.677 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:14:07.704 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:14:07.705 +03:00 [INF] Executing RegisterAsync for email: omargamal21ws15rq5320024r@gmail.com
2025-06-21 18:14:07.718 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:14:07.721 +03:00 [INF] Mapping took 0 ms for email: omargamal21ws15rq5320024r@gmail.com
2025-06-21 18:14:07.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:14:07.825 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:14:07.828 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:14:07.832 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:14:07.835 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:14:07.839 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:14:07.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:14:07.848 +03:00 [INF] User registered successfully.
2025-06-21 18:14:07.850 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:14:07.852 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 172.9066ms
2025-06-21 18:14:07.854 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:14:07.858 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 822 application/json; charset=utf-8 190.8497ms
2025-06-21 18:14:14.349 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 242
2025-06-21 18:14:14.352 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:14:14.353 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:14:14.355 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:14:14.358 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:14:14.359 +03:00 [INF] Executing RegisterAsync for email: omargamal21wse15rq5320024r@gmail.com
2025-06-21 18:14:14.361 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:14:14.364 +03:00 [INF] Mapping took 0 ms for email: omargamal21wse15rq5320024r@gmail.com
2025-06-21 18:14:14.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:14:14.463 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:14:14.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:14:14.472 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:14:14.474 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:14:14.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:14:14.486 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:14:14.490 +03:00 [INF] User registered successfully.
2025-06-21 18:14:14.492 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:14:14.494 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 137.7567ms
2025-06-21 18:14:14.495 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:14:14.498 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 824 application/json; charset=utf-8 149.2431ms
2025-06-21 18:14:24.672 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/register - application/json 244
2025-06-21 18:14:24.674 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 18:14:24.675 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:14:24.676 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 18:14:24.678 +03:00 [INF] In RegisterAsync Method 
2025-06-21 18:14:24.679 +03:00 [INF] Executing RegisterAsync for email: omargamal21wseq15rq5320024r@gmail.com
2025-06-21 18:14:24.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:14:24.687 +03:00 [INF] Mapping took 0 ms for email: omargamal21wseq15rq5320024r@gmail.com
2025-06-21 18:14:24.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:14:24.789 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 18:14:24.792 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:14:24.794 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 18:14:24.799 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 18:14:24.802 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 18:14:24.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 18:14:24.810 +03:00 [INF] User registered successfully.
2025-06-21 18:14:24.812 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 18:14:24.817 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 139.5438ms
2025-06-21 18:14:24.818 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 18:14:24.820 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/register - 201 826 application/json; charset=utf-8 148.0408ms
2025-06-21 18:19:01.781 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 18:19:01.792 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 11.3014ms
2025-06-21 18:19:01.808 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 18:19:01.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 18:19:01.811 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 3.093ms
2025-06-21 18:19:01.812 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 18:19:01.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.3222ms
2025-06-21 18:19:01.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3548ms
2025-06-21 18:19:02.131 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 18:19:02.201 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.2248ms
2025-06-21 18:20:27.697 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 18:20:27.739 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 42.4218ms
2025-06-21 18:20:27.771 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 18:20:27.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 5.5752ms
2025-06-21 18:20:27.783 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 18:20:27.783 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 18:20:27.787 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 3.6405ms
2025-06-21 18:20:27.799 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.93ms
2025-06-21 18:20:28.236 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 18:20:28.283 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.4172ms
2025-06-21 18:26:24.353 +03:00 [INF] DB tables already exist. Exit install
2025-06-21 18:26:25.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 18:26:25.461 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='E-Commerce' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-21 18:26:25.484 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-21 18:26:25.501 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-21 18:26:25.530 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-21 18:26:25.852 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 18:26:25.977 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-21 18:26:26.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 18:26:26.702 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-21 18:26:26.760 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-21 18:26:26.774 +03:00 [INF] Hosting environment: Development
2025-06-21 18:26:26.781 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-21 18:26:27.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-06-21 18:26:27.771 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 579.1844ms
2025-06-21 18:26:27.785 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-06-21 18:26:27.790 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-06-21 18:26:27.824 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-06-21 18:26:27.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 43.0711ms
2025-06-21 18:26:27.840 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 15.9754ms
2025-06-21 18:26:27.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 108.0694ms
2025-06-21 18:26:27.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-06-21 18:26:28.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.875ms
2025-06-21 19:05:36.183 +03:00 [INF] Request starting HTTP/1.1 GET http://f148-156-196-247-75.ngrok-free.app/ - null null
2025-06-21 19:05:36.210 +03:00 [WRN] Failed to determine the https port for redirect.
2025-06-21 19:05:37.371 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:05:37.394 +03:00 [INF] The response could not be cached for this request.
2025-06-21 19:05:37.397 +03:00 [INF] Request finished HTTP/1.1 GET http://f148-156-196-247-75.ngrok-free.app/ - 404 0 null 1214.0063ms
2025-06-21 19:05:37.404 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://f148-156-196-247-75.ngrok-free.app/, Response status code: 404
2025-06-21 19:07:02.545 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - application/json 106
2025-06-21 19:07:02.569 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:07:02.577 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:07:02.583 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:07:02.618 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:07:02.799 +03:00 [INF] In RegisterAsync Method 
2025-06-21 19:07:02.802 +03:00 [WRN] ModelState errors: Name is required., Name must contain only letters and spaces., Phone number is required., Invalid phone number format., Confirm password is required., Confirm password does not match the password.
2025-06-21 19:07:02.808 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:07:02.830 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 205.2528ms
2025-06-21 19:07:02.834 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:07:02.838 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - 400 286 application/json; charset=utf-8 292.9256ms
2025-06-21 19:10:26.796 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - application/json 160
2025-06-21 19:10:26.812 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:10:26.820 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:10:26.823 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:10:26.826 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:10:26.891 +03:00 [INF] In RegisterAsync Method 
2025-06-21 19:10:26.897 +03:00 [INF] Executing RegisterAsync for email: ziad@gmail.com
2025-06-21 19:10:26.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:10:27.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 19:10:27.178 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 19:10:27.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 19:10:27.232 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 19:10:27.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 19:10:27.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 19:10:27.281 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 19:10:27.302 +03:00 [INF] User registered successfully.
2025-06-21 19:10:27.369 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:10:27.380 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 551.1795ms
2025-06-21 19:10:27.384 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:10:27.386 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - 201 907 application/json; charset=utf-8 590.9458ms
2025-06-21 19:10:41.640 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/login - application/json 49
2025-06-21 19:10:41.646 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:10:41.648 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:10:41.651 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 19:10:41.661 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:10:41.697 +03:00 [INF] In LoginAsync Method 
2025-06-21 19:10:41.708 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:10:41.798 +03:00 [INF] 🔐 Generating Access Token for User ID: 4c448c75-2ee8-44a2-bf4a-375f6fadbfc8
2025-06-21 19:10:41.867 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 19:10:41.954 +03:00 [INF] ✅ Access Token generated successfully for User ID: 4c448c75-2ee8-44a2-bf4a-375f6fadbfc8
2025-06-21 19:10:41.958 +03:00 [INF] 🔑 Generating Refresh Token for User ID: 4c448c75-2ee8-44a2-bf4a-375f6fadbfc8
2025-06-21 19:10:41.967 +03:00 [INF] RefreshToken Generated
2025-06-21 19:10:41.970 +03:00 [INF] User logged in successfully.
2025-06-21 19:10:41.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:10:41.977 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 310.3505ms
2025-06-21 19:10:41.979 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 19:10:41.980 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 340.694ms
2025-06-21 19:11:52.595 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/login - application/json 49
2025-06-21 19:11:52.606 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:11:52.610 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:11:52.614 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 19:11:52.620 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:11:52.631 +03:00 [INF] In LoginAsync Method 
2025-06-21 19:11:52.645 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:11:52.741 +03:00 [INF] 🔐 Generating Access Token for User ID: 4c448c75-2ee8-44a2-bf4a-375f6fadbfc8
2025-06-21 19:11:52.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 19:11:52.749 +03:00 [INF] ✅ Access Token generated successfully for User ID: 4c448c75-2ee8-44a2-bf4a-375f6fadbfc8
2025-06-21 19:11:52.750 +03:00 [INF] 🔑 Generating Refresh Token for User ID: 4c448c75-2ee8-44a2-bf4a-375f6fadbfc8
2025-06-21 19:11:52.752 +03:00 [INF] RefreshToken Generated
2025-06-21 19:11:52.753 +03:00 [INF] User logged in successfully.
2025-06-21 19:11:52.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:11:52.758 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 129.7944ms
2025-06-21 19:11:52.760 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 19:11:52.762 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/login - 200 1757 application/json; charset=utf-8 166.3167ms
2025-06-21 19:12:47.651 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - application/json 160
2025-06-21 19:12:47.661 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:12:47.664 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:12:47.667 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:12:47.669 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:12:47.674 +03:00 [INF] In RegisterAsync Method 
2025-06-21 19:12:47.676 +03:00 [INF] Executing RegisterAsync for email: ziad@gmail.com
2025-06-21 19:12:47.688 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:12:47.696 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 19:12:47.699 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:12:47.700 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 27.6852ms
2025-06-21 19:12:47.702 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:12:47.703 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - 409 801 application/json; charset=utf-8 51.576ms
2025-06-21 19:12:57.127 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - application/json 160
2025-06-21 19:12:57.137 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:12:57.140 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:12:57.143 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:12:57.148 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:12:57.157 +03:00 [INF] In RegisterAsync Method 
2025-06-21 19:12:57.160 +03:00 [INF] Executing RegisterAsync for email: ziad@gmail.com
2025-06-21 19:12:57.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:12:57.178 +03:00 [WRN] Registration attempt with existing email.
2025-06-21 19:12:57.180 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:12:57.182 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 27.4937ms
2025-06-21 19:12:57.184 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:12:57.185 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - 409 801 application/json; charset=utf-8 58.3884ms
2025-06-21 19:13:44.564 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - application/json 157
2025-06-21 19:13:44.568 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:13:44.570 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:13:44.572 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:13:44.575 +03:00 [INF] Route matched with {action = "RegisterAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.AccountDtos.RegisterResponse]]] RegisterAsync(E_Commers.DtoModels.AccountDtos.RegisterDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:13:44.578 +03:00 [INF] In RegisterAsync Method 
2025-06-21 19:13:44.579 +03:00 [INF] Executing RegisterAsync for email: omar@gmail.com
2025-06-21 19:13:44.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:13:44.674 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 19:13:44.687 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);
2025-06-21 19:13:44.691 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 19:13:44.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-06-21 19:13:44.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-06-21 19:13:44.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-06-21 19:13:44.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p23='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p24='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `ProfilePicture` = @p19, `SecurityStamp` = @p20, `TwoFactorEnabled` = @p21, `UserName` = @p22
WHERE `Id` = @p23 AND `ConcurrencyStamp` = @p24;
SELECT ROW_COUNT();
2025-06-21 19:13:44.715 +03:00 [INF] User registered successfully.
2025-06-21 19:13:44.719 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.AccountDtos.RegisterResponse, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:13:44.722 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce) in 145.5311ms
2025-06-21 19:13:44.724 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RegisterAsync (E-Commerce)'
2025-06-21 19:13:44.728 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/register - 201 904 application/json; charset=utf-8 163.9425ms
2025-06-21 19:14:22.385 +03:00 [INF] Request starting HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/login - application/json 49
2025-06-21 19:14:22.396 +03:00 [INF] CORS policy execution successful.
2025-06-21 19:14:22.399 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-21 19:14:22.407 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 19:14:22.413 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-21 19:14:22.419 +03:00 [INF] In LoginAsync Method 
2025-06-21 19:14:22.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-21 19:14:22.504 +03:00 [INF] 🔐 Generating Access Token for User ID: 0e259635-fe75-4c60-8f76-add2fe4a29fb
2025-06-21 19:14:22.516 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-21 19:14:22.520 +03:00 [INF] ✅ Access Token generated successfully for User ID: 0e259635-fe75-4c60-8f76-add2fe4a29fb
2025-06-21 19:14:22.521 +03:00 [INF] 🔑 Generating Refresh Token for User ID: 0e259635-fe75-4c60-8f76-add2fe4a29fb
2025-06-21 19:14:22.522 +03:00 [INF] RefreshToken Generated
2025-06-21 19:14:22.523 +03:00 [INF] User logged in successfully.
2025-06-21 19:14:22.524 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-21 19:14:22.528 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 110.7587ms
2025-06-21 19:14:22.529 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-21 19:14:22.530 +03:00 [INF] Request finished HTTP/1.1 POST http://f148-156-196-247-75.ngrok-free.app/api/account/login - 200 1753 application/json; charset=utf-8 145.2227ms
