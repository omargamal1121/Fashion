2025-06-27 00:02:31.086 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 00:02:34.109 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 00:02:34.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 00:02:34.297 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 00:02:34.353 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 00:02:34.406 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 00:02:34.933 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 00:02:35.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 00:02:35.049 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 00:02:35.888 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 00:02:35.891 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 00:02:35.984 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 00:02:36.024 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 00:02:36.026 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 00:02:36.028 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 00:02:36.029 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 00:02:36.070 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 00:02:36.075 +03:00 [INF] Hosting environment: Development
2025-06-27 00:02:36.077 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 00:02:36.096 +03:00 [INF] Server mrrobot:15156:1bb32416 successfully announced in 18.2943 ms
2025-06-27 00:02:36.274 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 00:02:36.290 +03:00 [INF] Server mrrobot:15156:1bb32416 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 00:02:36.407 +03:00 [INF] Server mrrobot:15156:1bb32416 all the dispatchers started
2025-06-27 00:02:36.553 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 277.7727ms
2025-06-27 00:02:36.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 00:02:36.590 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 00:02:36.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 14.9928ms
2025-06-27 00:02:36.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 00:02:36.627 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 20.5246ms
2025-06-27 00:02:36.645 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.5965ms
2025-06-27 00:02:37.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 00:02:37.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.9352ms
2025-06-27 00:02:39.486 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------456330577898116757863834 759915
2025-06-27 00:02:39.645 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 8:51:51 PM', Current time (UTC): '6/26/2025 9:02:39 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 00:02:39.656 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 8:51:51 PM', Current time (UTC): '6/26/2025 9:02:39 PM'.
2025-06-27 00:02:39.660 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:02:39.669 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 00:02:39.677 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 00:02:39.683 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 401 0 null 197.367ms
2025-06-27 00:02:39.692 +03:00 [INF] Connection id "0HNDKUJ3GNQQL", Request id "0HNDKUJ3GNQQL:00000001": the application completed without reading the entire request body.
2025-06-27 00:02:56.604 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - application/json 166
2025-06-27 00:02:56.621 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:02:56.642 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-06-27 00:02:56.671 +03:00 [INF] Route matched with {action = "RefreshTokenAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] RefreshTokenAsync(E_Commers.DtoModels.RefreshTokenDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-27 00:02:56.953 +03:00 [INF] In RefreshTokenAsync Method
2025-06-27 00:02:56.956 +03:00 [WRN] ModelState errors: Error converting value "d095229b-081d-426d-bc38-a45575852f9" to type 'System.Guid'. Path 'userId', line 2, position 49., The refreshTokenDto field is required.
2025-06-27 00:02:56.961 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 00:02:56.995 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce) in 308.1039ms
2025-06-27 00:02:57.009 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-06-27 00:02:57.013 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - 400 247 application/json; charset=utf-8 408.8032ms
2025-06-27 00:03:35.254 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - application/json 167
2025-06-27 00:03:35.263 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:03:35.265 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-06-27 00:03:35.267 +03:00 [INF] Route matched with {action = "RefreshTokenAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] RefreshTokenAsync(E_Commers.DtoModels.RefreshTokenDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-27 00:03:35.361 +03:00 [INF] In RefreshTokenAsync Method
2025-06-27 00:03:35.411 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-06-27 00:03:35.423 +03:00 [INF] In ValidateRefreshTokenAsync Method
2025-06-27 00:03:35.430 +03:00 [INF] Valid Refreshtoken
2025-06-27 00:03:35.435 +03:00 [INF] 🔄 RefreshToken() started for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:03:35.446 +03:00 [INF] Successfully removed RefreshToken for User d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:03:35.451 +03:00 [INF] 🔐 Generating Access Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:03:35.532 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-27 00:03:35.559 +03:00 [INF] ✅ Access Token generated successfully for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:03:35.584 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 00:03:35.590 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce) in 319.1328ms
2025-06-27 00:03:35.593 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-06-27 00:03:35.597 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - 200 1210 application/json; charset=utf-8 343.2393ms
2025-06-27 00:03:54.892 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------163392787737122322492127 759915
2025-06-27 00:03:54.914 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:03:54.951 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 00:03:54.958 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:03:54.969 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 00:03:55.037 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 00:03:55.044 +03:00 [INF] Execute CreateAsync
2025-06-27 00:03:55.047 +03:00 [INF] Executing GetByNameAsync for Name: pantessad
2025-06-27 00:03:55.060 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 00:03:55.064 +03:00 [WRN] No Category with this Name:pantessad
2025-06-27 00:03:55.087 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 00:03:55.158 +03:00 [INF] Category added successfully (pending save)
2025-06-27 00:03:55.270 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.308 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:03:55.320 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:03:55.393 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:03:55.430 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.443 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:03:55.445 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:03:55.471 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:03:55.473 +03:00 [INF] ✅ Image saved: /CategoryPhotos/df89f839-0186-4572-83ce-01dc5c6420c1.jpg
2025-06-27 00:03:55.493 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.506 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 00:03:55.510 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:03:55.515 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:03:55.521 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:03:55.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.532 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:03:55.536 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:03:55.538 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:03:55.539 +03:00 [INF] ✅ Image saved: /CategoryPhotos/d4afae1c-d3c7-4ab1-a558-39439b4faa7d.jpg
2025-06-27 00:03:55.542 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.547 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:03:55.556 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:03:55.558 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:03:55.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.573 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:03:55.575 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:03:55.576 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:03:55.578 +03:00 [INF] ✅ Image saved: /CategoryPhotos/e544242e-0dd0-4204-bb81-85e803b09480.jpg
2025-06-27 00:03:55.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.588 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:03:55.593 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:03:55.595 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:03:55.597 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:03:55.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();
2025-06-27 00:03:55.619 +03:00 [INF] Execute UpdateAsync for entity Category
2025-06-27 00:03:55.630 +03:00 [INF] Category marked for update (pending save)
2025-06-27 00:03:55.632 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:03:55.634 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:03:55.635 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:03:55.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:03:55.657 +03:00 [INF] Removing cache by tag: category
2025-06-27 00:03:55.673 +03:00 [INF] Removed 1 cache entries for tag: category
2025-06-27 00:03:55.688 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 00:03:55.696 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 721.2779ms
2025-06-27 00:03:55.699 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:03:55.715 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 844 application/json; charset=utf-8 823.3746ms
2025-06-27 00:04:15.474 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-06-27 00:04:15.480 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:04:15.489 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 00:04:15.494 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 00:04:15.503 +03:00 [INF] Route matched with {action = "GetAll", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAll() on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 00:04:15.511 +03:00 [INF] Executing GetAll in CategoryController
2025-06-27 00:04:15.525 +03:00 [INF] Getting cache for key: categoryall
2025-06-27 00:04:15.528 +03:00 [WRN] Cache miss for key: categoryall
2025-06-27 00:04:15.530 +03:00 [INF] Execute GetAll for entity Category
2025-06-27 00:04:15.535 +03:00 [INF] Data retrieved from Database
2025-06-27 00:04:15.607 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
FROM `Categories` AS `c`
LEFT JOIN `Images` AS `i` ON `c`.`Id` = `i`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`
2025-06-27 00:04:15.619 +03:00 [INF] Setting cache for key: categoryall
2025-06-27 00:04:15.641 +03:00 [INF] Cache set successfully for key: categoryall with tags: category
2025-06-27 00:04:15.643 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 00:04:15.647 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetAll (E-Commerce) in 140.2736ms
2025-06-27 00:04:15.660 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 00:04:15.698 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 743 application/json; charset=utf-8 223.9368ms
2025-06-27 00:05:10.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 00:05:10.575 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 16.5047ms
2025-06-27 00:05:10.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 00:05:10.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 15.6662ms
2025-06-27 00:05:10.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 00:05:10.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 00:05:10.645 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 10.894ms
2025-06-27 00:05:10.658 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.572ms
2025-06-27 00:05:10.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 00:05:11.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 277.1648ms
2025-06-27 00:06:07.882 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------816717959134821442096822 759916
2025-06-27 00:06:07.888 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:06:07.896 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 00:06:07.899 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:06:07.907 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 00:06:07.942 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 00:06:07.948 +03:00 [INF] Execute CreateAsync
2025-06-27 00:06:07.950 +03:00 [INF] Executing GetByNameAsync for Name: pantessads
2025-06-27 00:06:07.956 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 00:06:07.960 +03:00 [WRN] No Category with this Name:pantessads
2025-06-27 00:06:07.968 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 00:06:07.971 +03:00 [INF] Category added successfully (pending save)
2025-06-27 00:06:07.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:07.981 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:06:07.985 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:06:07.987 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:06:07.992 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:07.996 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:06:07.998 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:06:08.000 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:06:08.001 +03:00 [INF] ✅ Image saved: /CategoryPhotos/10589d86-f086-48cc-a7af-b6e09b1fa950.jpg
2025-06-27 00:06:08.006 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:08.011 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 00:06:08.013 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:06:08.016 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:06:08.018 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:06:08.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:08.028 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:06:08.030 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:06:08.031 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:06:08.033 +03:00 [INF] ✅ Image saved: /CategoryPhotos/8a0a7ab9-1b15-4ac5-8de3-ae492ed379c6.jpg
2025-06-27 00:06:08.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:08.045 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:06:08.049 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:06:08.060 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:06:08.063 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:08.067 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:06:08.069 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:06:08.075 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:06:08.076 +03:00 [INF] ✅ Image saved: /CategoryPhotos/96dcc599-aa21-4a23-8715-ffd228a98d3f.jpg
2025-06-27 00:06:08.079 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:08.083 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:06:08.088 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:06:08.095 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:06:08.097 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:06:08.100 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();
2025-06-27 00:06:08.112 +03:00 [INF] Execute UpdateAsync for entity Category
2025-06-27 00:06:08.114 +03:00 [INF] Category marked for update (pending save)
2025-06-27 00:06:08.115 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:06:08.117 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:06:08.118 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:06:08.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:06:08.136 +03:00 [INF] Removing cache by tag: category
2025-06-27 00:06:08.145 +03:00 [INF] Removed 1 cache entries for tag: category
2025-06-27 00:06:08.147 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 00:06:08.150 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 238.1189ms
2025-06-27 00:06:08.165 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:06:08.179 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 845 application/json; charset=utf-8 296.915ms
2025-06-27 00:06:40.349 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2025-06-27 00:06:40.353 +03:00 [INF] Server mrrobot:15156:1bb32416 caught stopping signal...
2025-06-27 00:06:40.357 +03:00 [INF] Server mrrobot:15156:1bb32416 caught stopped signal...
2025-06-27 00:06:40.362 +03:00 [INF] Server mrrobot:15156:1bb32416 All dispatchers stopped
2025-06-27 00:06:40.363 +03:00 [WRN] Server mrrobot:15156:1bb32416 caught shutdown signal...
2025-06-27 00:06:40.377 +03:00 [INF] Server mrrobot:15156:1bb32416 successfully reported itself as stopped in 7.9344 ms
2025-06-27 00:06:40.378 +03:00 [INF] Server mrrobot:15156:1bb32416 has been stopped in total 21.1314 ms
2025-06-27 00:07:01.836 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 00:07:04.131 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 00:07:04.182 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 00:07:04.233 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 00:07:04.260 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 00:07:04.303 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 00:07:04.780 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 00:07:04.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 00:07:04.914 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 00:07:05.953 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 00:07:05.957 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 00:07:06.164 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 00:07:06.408 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 00:07:06.416 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 00:07:06.418 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 00:07:06.427 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 00:07:06.496 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 00:07:06.557 +03:00 [INF] Server mrrobot:7964:6976cda3 successfully announced in 49.0801 ms
2025-06-27 00:07:06.566 +03:00 [INF] Hosting environment: Development
2025-06-27 00:07:06.621 +03:00 [INF] Server mrrobot:7964:6976cda3 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 00:07:06.696 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 00:07:06.833 +03:00 [INF] 1 servers were removed due to timeout
2025-06-27 00:07:07.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 00:07:08.229 +03:00 [INF] Server mrrobot:7964:6976cda3 all the dispatchers started
2025-06-27 00:07:08.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 855.2885ms
2025-06-27 00:07:08.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 00:07:08.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 00:07:08.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 00:07:08.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 301.8281ms
2025-06-27 00:07:08.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 312.9232ms
2025-06-27 00:07:09.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 167.1098ms
2025-06-27 00:07:09.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 00:07:09.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 314.2425ms
2025-06-27 00:07:35.626 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------667125858408918438598347 759917
2025-06-27 00:07:35.934 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:07:36.032 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 00:07:36.082 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:07:36.145 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 00:07:36.606 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 00:07:36.612 +03:00 [INF] Execute CreateAsync
2025-06-27 00:07:36.616 +03:00 [INF] Executing GetByNameAsync for Name: pantessadsk
2025-06-27 00:07:36.668 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 00:07:36.676 +03:00 [WRN] No Category with this Name:pantessadsk
2025-06-27 00:07:36.704 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 00:07:36.831 +03:00 [INF] Category added successfully (pending save)
2025-06-27 00:07:36.977 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:07:56.011 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:08:55.203 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:08:56.119 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:09:05.560 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:20.640 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:09:20.643 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:09:20.667 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:09:20.670 +03:00 [INF] ✅ Image saved: /CategoryPhotos/5bb59947-a9c2-4034-98bb-804a2cc1b813.jpg
2025-06-27 00:09:20.706 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:20.722 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 00:09:20.725 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:09:20.743 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:09:20.748 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:09:20.754 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:20.768 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:09:20.771 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:09:20.773 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:09:20.792 +03:00 [INF] ✅ Image saved: /CategoryPhotos/d208ed43-4d12-4db6-b68a-bfcf8b6b7266.jpg
2025-06-27 00:09:20.809 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:21.275 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:09:21.288 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:09:21.319 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:09:21.325 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:21.334 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:09:21.336 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:09:21.337 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:09:21.338 +03:00 [INF] ✅ Image saved: /CategoryPhotos/e55b1bc1-5402-47d6-8745-68660f23d39b.jpg
2025-06-27 00:09:21.344 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:21.416 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:09:21.426 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:09:21.433 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:09:21.437 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:09:21.464 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();
2025-06-27 00:09:21.503 +03:00 [INF] Execute UpdateAsync for entity Category
2025-06-27 00:09:21.530 +03:00 [INF] Category marked for update (pending save)
2025-06-27 00:09:21.534 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:09:21.586 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:09:22.052 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:09:22.280 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:09:22.943 +03:00 [INF] Removing cache by tag: category
2025-06-27 00:09:22.959 +03:00 [WRN] No cache entries found for tag: category
2025-06-27 00:09:23.091 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 00:09:23.204 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 107050.2817ms
2025-06-27 00:09:23.242 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:09:23.493 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 846 application/json; charset=utf-8 107867.8777ms
2025-06-27 00:31:31.145 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------761206957973364747215012 759919
2025-06-27 00:31:31.289 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 9:18:35 PM', Current time (UTC): '6/26/2025 9:31:31 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 00:31:31.316 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 9:18:35 PM', Current time (UTC): '6/26/2025 9:31:31 PM'.
2025-06-27 00:31:31.319 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:31:31.339 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 00:31:31.370 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 00:31:31.380 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 401 0 null 246.5455ms
2025-06-27 00:31:31.403 +03:00 [INF] Connection id "0HNDKULK0D7A7", Request id "0HNDKULK0D7A7:00000002": the application completed without reading the entire request body.
2025-06-27 00:31:38.025 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/Login - application/json 75
2025-06-27 00:31:38.058 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:31:38.093 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-27 00:31:38.186 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-27 00:31:38.382 +03:00 [INF] In LoginAsync Method 
2025-06-27 00:31:38.423 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 00:31:38.598 +03:00 [INF] 🔐 Generating Access Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:31:38.746 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-27 00:31:38.787 +03:00 [INF] ✅ Access Token generated successfully for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:31:38.791 +03:00 [INF] 🔑 Generating Refresh Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 00:31:38.808 +03:00 [INF] RefreshToken Generated
2025-06-27 00:31:38.819 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 00:31:38.831 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 639.4907ms
2025-06-27 00:31:38.835 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-27 00:31:38.838 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/Login - 200 1378 application/json; charset=utf-8 813.3639ms
2025-06-27 00:31:56.825 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------420434749397502325601213 759919
2025-06-27 00:31:56.907 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:31:56.973 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 00:31:56.983 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:31:56.988 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 00:31:57.115 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 00:31:57.141 +03:00 [INF] Execute CreateAsync
2025-06-27 00:31:57.147 +03:00 [INF] Executing GetByNameAsync for Name: pantessadskfa
2025-06-27 00:31:57.157 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 00:31:57.173 +03:00 [WRN] No Category with this Name:pantessadskfa
2025-06-27 00:31:57.221 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 00:31:57.230 +03:00 [INF] Category added successfully (pending save)
2025-06-27 00:31:57.263 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:03.032 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:32:38.782 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:32:38.807 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:32:38.822 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:38.833 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:32:38.836 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:32:38.838 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:32:38.840 +03:00 [INF] ✅ Image saved: /CategoryPhotos/a2103e41-413f-4411-9926-79d67f8e1449.jpg
2025-06-27 00:32:38.849 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:38.858 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 00:32:38.864 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:32:38.871 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:32:38.874 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:32:38.877 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:38.884 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:32:38.887 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:32:38.893 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:32:38.896 +03:00 [INF] ✅ Image saved: /CategoryPhotos/e1551e58-97f5-4cfa-a4fc-3b8bed9ff3c7.jpg
2025-06-27 00:32:38.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:38.906 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:32:38.913 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:32:38.917 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:32:38.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:38.933 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:32:38.935 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:32:38.936 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:32:38.938 +03:00 [INF] ✅ Image saved: /CategoryPhotos/0a3a9b4a-37de-40c0-baa8-a6aebd09af30.jpg
2025-06-27 00:32:38.949 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:38.956 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:32:38.968 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:32:38.971 +03:00 [INF] Execute UpdateAsync for entity Image
2025-06-27 00:32:38.973 +03:00 [INF] Image marked for update (pending save)
2025-06-27 00:32:38.982 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();
2025-06-27 00:32:38.986 +03:00 [INF] Execute UpdateAsync for entity Category
2025-06-27 00:32:38.989 +03:00 [INF] Category marked for update (pending save)
2025-06-27 00:32:38.990 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:32:38.995 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:32:38.997 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:32:39.006 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:32:39.099 +03:00 [INF] Removing cache by tag: category
2025-06-27 00:32:39.116 +03:00 [WRN] No cache entries found for tag: category
2025-06-27 00:32:39.126 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 00:32:39.132 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 42138.8146ms
2025-06-27 00:32:39.134 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:32:39.136 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 847 application/json; charset=utf-8 42312.2553ms
2025-06-27 00:47:01.482 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 00:47:03.117 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 00:47:03.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 00:47:03.167 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 00:47:03.188 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 00:47:03.225 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 00:47:03.577 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 00:47:03.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 00:47:03.670 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 00:47:04.370 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 00:47:04.373 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 00:47:04.452 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 00:47:04.480 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 00:47:04.482 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 00:47:04.485 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 00:47:04.487 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 00:47:04.517 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 00:47:04.528 +03:00 [INF] Hosting environment: Development
2025-06-27 00:47:04.535 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 00:47:04.542 +03:00 [INF] Server mrrobot:5572:8118a5f3 successfully announced in 16.4559 ms
2025-06-27 00:47:04.552 +03:00 [INF] Server mrrobot:5572:8118a5f3 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 00:47:04.782 +03:00 [INF] Server mrrobot:5572:8118a5f3 all the dispatchers started
2025-06-27 00:47:05.155 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 00:47:06.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 913.7874ms
2025-06-27 00:47:06.076 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 00:47:06.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 00:47:06.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 00:47:06.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 85.5597ms
2025-06-27 00:47:06.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 91.7334ms
2025-06-27 00:47:06.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 159.3241ms
2025-06-27 00:47:06.330 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 00:47:06.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 193.9012ms
2025-06-27 00:47:25.933 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------450984541825041867879769 759920
2025-06-27 00:47:26.072 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 00:47:26.138 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 00:47:26.159 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:47:26.200 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 00:47:26.486 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 00:47:26.491 +03:00 [INF] Execute CreateAsync
2025-06-27 00:47:26.494 +03:00 [INF] Executing GetByNameAsync for Name: pantessadskfad
2025-06-27 00:47:26.540 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 00:47:26.545 +03:00 [WRN] No Category with this Name:pantessadskfad
2025-06-27 00:47:26.573 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 00:47:26.646 +03:00 [INF] Category added successfully (pending save)
2025-06-27 00:47:26.785 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:26.823 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:47:26.846 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:47:26.916 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:47:26.953 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:26.969 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:47:26.972 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:47:26.998 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:47:27.001 +03:00 [INF] ✅ Image saved: /CategoryPhotos/dd585e74-0a86-4064-bfc2-cea3f26238e8.jpg
2025-06-27 00:47:27.025 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:27.038 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 00:47:27.042 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:47:27.053 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:47:27.056 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:47:27.061 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:27.068 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:47:27.070 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:47:27.073 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:47:27.074 +03:00 [INF] ✅ Image saved: /CategoryPhotos/c42e4187-ed11-491b-87d3-d75e00560fe2.jpg
2025-06-27 00:47:27.077 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:27.088 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 00:47:27.093 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 00:47:27.095 +03:00 [INF] Image added successfully (pending save)
2025-06-27 00:47:27.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:27.111 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:47:27.112 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:47:27.114 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:47:27.116 +03:00 [INF] ✅ Image saved: /CategoryPhotos/c5789e4a-7adc-42b9-b445-793ce8cae1b3.jpg
2025-06-27 00:47:27.120 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:27.126 +03:00 [INF] Execute UpdateAsync for entity Category
2025-06-27 00:47:27.140 +03:00 [INF] Category marked for update (pending save)
2025-06-27 00:47:27.142 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 00:47:27.144 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 00:47:27.146 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 00:47:27.156 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 00:47:27.174 +03:00 [INF] Removing cache by tag: category
2025-06-27 00:47:27.188 +03:00 [WRN] No cache entries found for tag: category
2025-06-27 00:47:27.235 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 00:47:27.273 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 1065.1913ms
2025-06-27 00:47:27.278 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 00:47:27.290 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 849 application/json; charset=utf-8 1361.77ms
2025-06-27 00:51:22.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 00:51:22.215 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 23.9744ms
2025-06-27 00:51:23.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 00:51:23.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 31.4533ms
2025-06-27 00:51:23.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 00:51:23.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 111.2754ms
2025-06-27 00:51:23.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 00:51:23.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16504 application/javascript; charset=utf-8 5.3005ms
2025-06-27 00:51:24.766 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 00:51:24.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.5403ms
2025-06-27 00:52:04.578 +03:00 [INF] 1 servers were removed due to timeout
2025-06-27 03:28:39.274 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 03:28:40.768 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 03:28:40.784 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 03:28:40.835 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 03:28:40.852 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 03:28:40.880 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 03:28:42.144 +03:00 [INF] Executed DbCommand (936ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 03:28:42.232 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 03:28:42.274 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 03:28:42.996 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 03:28:43.001 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 03:28:43.085 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 03:28:43.119 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 03:28:43.133 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 03:28:43.152 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 03:28:43.155 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 03:28:43.180 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 03:28:43.207 +03:00 [INF] Server mrrobot:19588:39ffc3e0 successfully announced in 15.5118 ms
2025-06-27 03:28:43.211 +03:00 [INF] Hosting environment: Development
2025-06-27 03:28:43.223 +03:00 [INF] Server mrrobot:19588:39ffc3e0 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 03:28:43.249 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 03:28:43.269 +03:00 [INF] 1 servers were removed due to timeout
2025-06-27 03:28:43.517 +03:00 [INF] Server mrrobot:19588:39ffc3e0 all the dispatchers started
2025-06-27 03:28:44.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 03:28:45.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 492.673ms
2025-06-27 03:28:45.482 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 03:28:45.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 03:28:45.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 03:28:45.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 272.6767ms
2025-06-27 03:28:45.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 267.3814ms
2025-06-27 03:28:45.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 318.9888ms
2025-06-27 03:28:45.991 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 03:28:46.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 230.4527ms
2025-06-27 03:28:53.512 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`DeletedAt` IS NOT NULL
2025-06-27 03:29:20.697 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------442868618337322554982926 759921
2025-06-27 03:29:20.834 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 9:46:38 PM', Current time (UTC): '6/27/2025 12:29:20 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 03:29:20.843 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 9:46:38 PM', Current time (UTC): '6/27/2025 12:29:20 AM'.
2025-06-27 03:29:20.857 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:29:20.866 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 03:29:20.877 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 03:29:20.889 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 401 0 null 197.4945ms
2025-06-27 03:29:20.896 +03:00 [INF] Connection id "0HNDL269862LV", Request id "0HNDL269862LV:00000001": the application completed without reading the entire request body.
2025-06-27 03:29:29.121 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/Login - application/json 75
2025-06-27 03:29:29.691 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:29:29.751 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-27 03:29:29.997 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-27 03:29:30.555 +03:00 [INF] In LoginAsync Method 
2025-06-27 03:29:30.577 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 03:29:30.707 +03:00 [INF] 🔐 Generating Access Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:29:30.787 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-27 03:29:30.812 +03:00 [INF] ✅ Access Token generated successfully for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:29:30.817 +03:00 [INF] 🔑 Generating Refresh Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:29:30.830 +03:00 [INF] RefreshToken Generated
2025-06-27 03:29:30.865 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 03:29:30.904 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 819.632ms
2025-06-27 03:29:30.934 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-27 03:29:30.964 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/Login - 200 1378 application/json; charset=utf-8 1843.4133ms
2025-06-27 03:29:50.726 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------446583561403863954808328 759921
2025-06-27 03:29:50.748 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:29:50.778 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:29:50.784 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:29:50.795 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:29:50.854 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 03:29:50.860 +03:00 [INF] Execute CreateAsync
2025-06-27 03:29:50.864 +03:00 [INF] Executing GetByNameAsync for Name: pantessadskfads
2025-06-27 03:29:50.876 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 03:29:50.882 +03:00 [WRN] No Category with this Name:pantessadskfads
2025-06-27 03:29:50.912 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 03:29:50.985 +03:00 [INF] Category added successfully (pending save)
2025-06-27 03:29:51.093 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:29:51.129 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 03:29:51.137 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:29:51.161 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:29:51.223 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:29:51.258 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:29:51.271 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:29:51.274 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:29:51.298 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:29:51.300 +03:00 [INF] ✅ Image saved: /CategoryPhotos/d62db26d-06c5-4b72-ad1b-2a11befeeb51.jpg
2025-06-27 03:29:51.303 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:29:51.308 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:29:51.310 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:29:51.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 255), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:29:51.351 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:29:51.352 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:29:51.354 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:29:51.355 +03:00 [INF] ✅ Image saved: /CategoryPhotos/e9fc81b4-c738-432f-bbfa-d4fe5ad75cd5.jpg
2025-06-27 03:29:51.360 +03:00 [INF] 📥 Saving main image to CategoryPhotos
2025-06-27 03:29:51.364 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:29:51.369 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:29:51.373 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 255), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:29:51.383 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:29:51.385 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:29:51.387 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:29:51.388 +03:00 [INF] ✅ Main image saved: /CategoryPhotos/22841c48-cf06-4efc-bcba-2e84b8eab181.jpg
2025-06-27 03:29:51.390 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:29:51.392 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:29:51.393 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:29:51.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (Size = 255), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:29:51.446 +03:00 [INF] Removing cache by tag: category
2025-06-27 03:29:51.459 +03:00 [WRN] No cache entries found for tag: category
2025-06-27 03:29:51.462 +03:00 [INF] Execute GetByIdAsync for entity Category with ID: 19
2025-06-27 03:29:51.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-06-27 03:29:51.491 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 03:29:51.503 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 705.5083ms
2025-06-27 03:29:51.506 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:29:51.510 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 807 application/json; charset=utf-8 784.4067ms
2025-06-27 03:31:52.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 03:31:52.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 30.8549ms
2025-06-27 03:31:52.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 03:31:52.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 03:31:52.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 462.4546ms
2025-06-27 03:31:52.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 485.2464ms
2025-06-27 03:31:52.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 03:31:52.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.8533ms
2025-06-27 03:31:54.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 03:31:54.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.6068ms
2025-06-27 03:32:01.983 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------998277083342430672442039 759922
2025-06-27 03:32:01.997 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:32:02.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:32:02.015 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:32:02.027 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:32:02.076 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 03:32:02.088 +03:00 [INF] Execute CreateAsync
2025-06-27 03:32:02.111 +03:00 [INF] Executing GetByNameAsync for Name: pantessadskfadss
2025-06-27 03:32:02.132 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 03:32:02.169 +03:00 [WRN] No Category with this Name:pantessadskfadss
2025-06-27 03:32:02.211 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 03:32:02.214 +03:00 [INF] Category added successfully (pending save)
2025-06-27 03:32:02.227 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:32:02.346 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 03:32:02.347 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:32:02.364 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:32:02.394 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:32:02.405 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:32:02.415 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:32:02.416 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:32:02.432 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:32:02.434 +03:00 [INF] ✅ Image saved: /CategoryPhotos/3d9ba09c-a1cf-4571-bd3a-0b2529d6abe1.jpg
2025-06-27 03:32:02.443 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:32:02.467 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:32:02.479 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:32:02.484 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 255), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:32:02.495 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:32:02.497 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:32:02.499 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:32:02.500 +03:00 [INF] ✅ Image saved: /CategoryPhotos/b3c7f363-908f-490a-98b4-2ef42bf5df69.jpg
2025-06-27 03:32:02.503 +03:00 [INF] 📥 Saving main image to CategoryPhotos
2025-06-27 03:32:02.516 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:32:02.517 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:32:02.531 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 255), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:32:02.544 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:32:02.545 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:32:02.547 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:32:02.548 +03:00 [INF] ✅ Main image saved: /CategoryPhotos/f2429690-b9cc-4e48-8206-09a1e65d93b8.jpg
2025-06-27 03:32:02.550 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:32:02.562 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:32:02.564 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:32:02.574 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32), @p6='?' (Size = 255), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?' (Size = 255), @p15='?' (DbType = DateTime), @p16='?' (DbType = DateTime), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:32:02.593 +03:00 [INF] Removing cache by tag: category
2025-06-27 03:32:02.598 +03:00 [WRN] No cache entries found for tag: category
2025-06-27 03:32:02.600 +03:00 [INF] Execute GetByIdAsync for entity Category with ID: 20
2025-06-27 03:32:02.607 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-06-27 03:32:02.613 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 03:32:02.616 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 572.2637ms
2025-06-27 03:32:02.625 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:32:02.631 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 925 application/json; charset=utf-8 647.1736ms
2025-06-27 03:36:12.790 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 03:36:15.200 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 03:36:15.214 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 03:36:15.256 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 03:36:15.276 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 03:36:15.313 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 03:36:15.735 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 03:36:15.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 03:36:15.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 03:36:17.433 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 03:36:17.476 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 03:36:17.787 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 03:36:18.380 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 03:36:18.384 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 03:36:18.398 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 03:36:18.400 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 03:36:18.515 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 03:36:18.519 +03:00 [INF] Hosting environment: Development
2025-06-27 03:36:18.556 +03:00 [INF] Server mrrobot:20452:c04b0d16 successfully announced in 36.7454 ms
2025-06-27 03:36:18.567 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 03:36:18.614 +03:00 [INF] Server mrrobot:20452:c04b0d16 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 03:36:18.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 03:36:19.068 +03:00 [INF] Server mrrobot:20452:c04b0d16 all the dispatchers started
2025-06-27 03:36:19.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 719.886ms
2025-06-27 03:36:19.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 03:36:19.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 03:36:19.597 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 03:36:19.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 181.0716ms
2025-06-27 03:36:19.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 204.7001ms
2025-06-27 03:36:19.732 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.0947ms
2025-06-27 03:36:19.817 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 03:36:20.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 198.4599ms
2025-06-27 03:36:29.183 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------310635201868753075760622 759923
2025-06-27 03:36:29.889 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:36:29.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:36:30.034 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:36:30.103 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:36:30.716 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 03:36:30.722 +03:00 [INF] Execute CreateAsync
2025-06-27 03:36:30.729 +03:00 [INF] Executing GetByNameAsync for Name: pantessadskfadsss
2025-06-27 03:36:30.793 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 03:36:30.800 +03:00 [WRN] No Category with this Name:pantessadskfadsss
2025-06-27 03:36:30.863 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 03:36:30.994 +03:00 [INF] Category added successfully (pending save)
2025-06-27 03:36:31.193 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:36:31.250 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 03:36:31.256 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:37:23.424 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 03:37:24.871 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 03:37:25.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 03:37:25.033 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 03:37:25.055 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 03:37:25.087 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 03:37:25.671 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 03:37:25.737 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 03:37:25.763 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 03:37:26.298 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 03:37:26.302 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 03:37:26.380 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 03:37:26.395 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 03:37:26.400 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 03:37:26.402 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 03:37:26.405 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 03:37:26.421 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 03:37:26.422 +03:00 [INF] Hosting environment: Development
2025-06-27 03:37:26.423 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 03:37:26.441 +03:00 [INF] Server mrrobot:16576:dc6c58bf successfully announced in 15.8954 ms
2025-06-27 03:37:26.528 +03:00 [INF] Server mrrobot:16576:dc6c58bf is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 03:37:27.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 03:37:27.280 +03:00 [INF] Server mrrobot:16576:dc6c58bf all the dispatchers started
2025-06-27 03:37:27.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 400.777ms
2025-06-27 03:37:27.573 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 03:37:27.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 03:37:27.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 03:37:27.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 22.3316ms
2025-06-27 03:37:27.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 31.6023ms
2025-06-27 03:37:27.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.0082ms
2025-06-27 03:37:27.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 03:37:27.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.3131ms
2025-06-27 03:37:32.798 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/categories - multipart/form-data; boundary=--------------------------204837149826968174831602 759923
2025-06-27 03:37:33.024 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:37:33.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:37:33.278 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:37:33.365 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commers.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:37:34.012 +03:00 [INF] Executing CreateAsync in CategoryController
2025-06-27 03:37:34.018 +03:00 [INF] Execute CreateAsync
2025-06-27 03:37:34.021 +03:00 [INF] Executing GetByNameAsync for Name: pantessadskfadsss
2025-06-27 03:37:34.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Name` = @__Name_0
LIMIT 2
2025-06-27 03:37:34.072 +03:00 [WRN] No Category with this Name:pantessadskfadsss
2025-06-27 03:37:34.100 +03:00 [INF] Executing CreateAsync for entity Category
2025-06-27 03:37:34.181 +03:00 [INF] Category added successfully (pending save)
2025-06-27 03:37:34.604 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `ImageId`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:37:34.659 +03:00 [INF] 📥 Saving 2 images to CategoryPhotos
2025-06-27 03:37:34.666 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:37:34.682 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:37:34.769 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:37:34.808 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:37:34.828 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:37:34.833 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:37:34.879 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:37:34.884 +03:00 [INF] ✅ Image saved: /CategoryPhotos/4827cd73-d2a6-4c76-be7a-34423c9a86cd.jpg
2025-06-27 03:37:34.886 +03:00 [INF] 📥 Saving image to CategoryPhotos
2025-06-27 03:37:34.899 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:37:34.903 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:37:34.952 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 255), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:37:34.968 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:37:34.970 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:37:34.973 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:37:34.976 +03:00 [INF] ✅ Image saved: /CategoryPhotos/c5af578d-8cc3-412b-8de7-3607745f6728.jpg
2025-06-27 03:37:34.988 +03:00 [INF] 📥 Saving main image to CategoryPhotos
2025-06-27 03:37:35.000 +03:00 [INF] Executing CreateAsync for entity Image
2025-06-27 03:37:35.003 +03:00 [INF] Image added successfully (pending save)
2025-06-27 03:37:35.007 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 255), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:37:35.017 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:37:35.019 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:37:35.020 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:37:35.022 +03:00 [INF] ✅ Main image saved: /CategoryPhotos/71ad454c-8866-42e7-851f-d83df970b282.jpg
2025-06-27 03:37:35.024 +03:00 [INF] Execute AddAdminOpreationAsync
2025-06-27 03:37:35.037 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-06-27 03:37:35.039 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-06-27 03:37:35.081 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32), @p6='?' (Size = 255), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?' (Size = 255), @p15='?' (DbType = DateTime), @p16='?' (DbType = DateTime), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Images` SET `CategoryId` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p2
WHERE `Id` = @p3;
SELECT ROW_COUNT();

UPDATE `Images` SET `CategoryId` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-06-27 03:37:35.105 +03:00 [INF] Removing cache by tag: category
2025-06-27 03:37:35.117 +03:00 [WRN] No cache entries found for tag: category
2025-06-27 03:37:35.121 +03:00 [INF] Execute GetByIdAsync for entity Category with ID: 22
2025-06-27 03:37:35.134 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-06-27 03:37:35.184 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 03:37:35.229 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce) in 1834.8187ms
2025-06-27 03:37:35.237 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.CreateAsync (E-Commerce)'
2025-06-27 03:37:35.269 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/categories - 201 1032 application/json; charset=utf-8 2470.7046ms
2025-06-27 03:38:41.553 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 03:38:41.568 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 15.0106ms
2025-06-27 03:38:41.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 03:38:41.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 9.761ms
2025-06-27 03:38:41.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 03:38:41.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 03:38:41.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 16.0369ms
2025-06-27 03:38:41.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.1771ms
2025-06-27 03:38:41.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 03:38:41.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.7048ms
2025-06-27 03:42:04.663 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-06-27 03:42:04.674 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 9:18:35 PM', Current time (UTC): '6/27/2025 12:42:04 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 03:42:04.679 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/26/2025 9:18:35 PM', Current time (UTC): '6/27/2025 12:42:04 AM'.
2025-06-27 03:42:04.681 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:42:04.686 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 03:42:04.699 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 03:42:04.701 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 401 0 null 38.3865ms
2025-06-27 03:42:17.780 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-06-27 03:42:17.791 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:42:17.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:42:17.808 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 03:42:17.815 +03:00 [INF] Route matched with {action = "GetAll", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAll() on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:42:17.835 +03:00 [INF] Executing GetAll in CategoryController
2025-06-27 03:42:17.841 +03:00 [INF] Getting cache for key: categoryall
2025-06-27 03:42:17.847 +03:00 [WRN] Cache miss for key: categoryall
2025-06-27 03:42:17.850 +03:00 [INF] Execute GetAll for entity Category
2025-06-27 03:42:17.856 +03:00 [INF] Data retrieved from Database
2025-06-27 03:42:17.942 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
FROM `Categories` AS `c`
LEFT JOIN `Images` AS `i` ON `c`.`Id` = `i`.`CategoryId`
WHERE `c`.`DeletedAt` IS NULL
ORDER BY `c`.`Id`
2025-06-27 03:42:17.954 +03:00 [INF] Setting cache for key: categoryall
2025-06-27 03:42:17.984 +03:00 [INF] Cache set successfully for key: categoryall with tags: category
2025-06-27 03:42:17.988 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 03:42:17.994 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetAll (E-Commerce) in 171.8334ms
2025-06-27 03:42:17.997 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 03:42:18.008 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 2758 application/json; charset=utf-8 227.0541ms
2025-06-27 03:42:26.765 +03:00 [INF] 2 servers were removed due to timeout
2025-06-27 03:49:34.512 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 03:49:34.534 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2025 12:44:30 AM', Current time (UTC): '6/27/2025 12:49:34 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 03:49:34.537 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2025 12:44:30 AM', Current time (UTC): '6/27/2025 12:49:34 AM'.
2025-06-27 03:49:34.552 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:49:34.554 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 03:49:34.556 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 03:49:34.569 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 401 0 null 56.5316ms
2025-06-27 03:50:00.964 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - application/json 167
2025-06-27 03:50:00.968 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:50:00.970 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-06-27 03:50:00.983 +03:00 [INF] Route matched with {action = "RefreshTokenAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.String]]] RefreshTokenAsync(E_Commers.DtoModels.RefreshTokenDto) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-27 03:50:01.049 +03:00 [INF] In RefreshTokenAsync Method
2025-06-27 03:50:01.085 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-06-27 03:50:01.091 +03:00 [INF] In ValidateRefreshTokenAsync Method
2025-06-27 03:50:01.099 +03:00 [INF] Valid Refreshtoken
2025-06-27 03:50:01.102 +03:00 [INF] 🔄 RefreshToken() started for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:50:01.107 +03:00 [INF] Successfully removed RefreshToken for User d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:50:01.112 +03:00 [INF] 🔐 Generating Access Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:50:01.142 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-27 03:50:01.164 +03:00 [INF] ✅ Access Token generated successfully for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 03:50:01.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 03:50:01.172 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce) in 185.5352ms
2025-06-27 03:50:01.176 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-06-27 03:50:01.179 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/refresh-token - 200 1210 application/json; charset=utf-8 214.7903ms
2025-06-27 03:50:19.639 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 03:50:19.645 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:50:19.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:50:19.654 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 03:50:19.664 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:50:19.684 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 03:50:19.696 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 03:50:19.698 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 03:50:19.700 +03:00 [WRN] Cache miss for key: categoryid:22
2025-06-27 03:50:19.701 +03:00 [INF] Execute GetByIdAsync for entity Category with ID: 22
2025-06-27 03:50:19.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-06-27 03:50:19.710 +03:00 [INF] Setting cache for key: categoryid:22
2025-06-27 03:50:19.714 +03:00 [INF] Cache set successfully for key: categoryid:22 with tags: category
2025-06-27 03:50:19.717 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 03:50:19.720 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 52.5648ms
2025-06-27 03:50:19.722 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 03:50:19.724 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 740 application/json; charset=utf-8 84.3718ms
2025-06-27 03:50:36.241 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-06-27 03:50:36.249 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2025 12:44:30 AM', Current time (UTC): '6/27/2025 12:50:36 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 03:50:36.253 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2025 12:44:30 AM', Current time (UTC): '6/27/2025 12:50:36 AM'.
2025-06-27 03:50:36.255 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:50:36.256 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 03:50:36.258 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 03:50:36.260 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 401 0 null 19.1164ms
2025-06-27 03:50:55.497 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/23 - null null
2025-06-27 03:50:55.640 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:50:55.775 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:50:55.807 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 03:50:55.853 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:50:55.857 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 23
2025-06-27 03:50:55.858 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 03:50:55.860 +03:00 [INF] Getting cache for key: categoryid:23
2025-06-27 03:50:55.866 +03:00 [WRN] Cache miss for key: categoryid:23
2025-06-27 03:50:55.868 +03:00 [INF] Execute GetByIdAsync for entity Category with ID: 23
2025-06-27 03:50:55.870 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-06-27 03:50:55.873 +03:00 [WRN] No Category with this Id:23
2025-06-27 03:50:55.875 +03:00 [WRN] No Category with this Id:23
2025-06-27 03:50:55.891 +03:00 [INF] Executing ConflictObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 03:50:55.896 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 40.4442ms
2025-06-27 03:50:55.902 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 03:50:55.905 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/23 - 409 638 application/json; charset=utf-8 408.7711ms
2025-06-27 03:51:02.635 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-06-27 03:51:02.639 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 03:51:02.643 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 03:51:02.652 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 03:51:02.654 +03:00 [INF] Route matched with {action = "GetAll", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAll() on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 03:51:02.657 +03:00 [INF] Executing GetAll in CategoryController
2025-06-27 03:51:02.659 +03:00 [INF] Getting cache for key: categoryall
2025-06-27 03:51:02.664 +03:00 [INF] Cache hit for key: categoryall
2025-06-27 03:51:02.673 +03:00 [INF] Cache hit for all categories
2025-06-27 03:51:02.674 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 03:51:02.680 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetAll (E-Commerce) in 23.0951ms
2025-06-27 03:51:02.685 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 03:51:02.687 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 2769 application/json; charset=utf-8 52.3563ms
2025-06-27 04:01:58.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 04:01:58.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 27.0404ms
2025-06-27 04:01:58.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 04:01:58.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 10.7018ms
2025-06-27 04:01:58.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 04:01:58.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 04:01:58.738 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 21.4473ms
2025-06-27 04:01:58.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.8506ms
2025-06-27 04:01:59.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 04:01:59.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.8593ms
2025-06-27 04:03:21.276 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 04:03:22.742 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 04:03:22.758 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 04:03:22.786 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 04:03:22.805 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 04:03:22.835 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 04:03:23.184 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 04:03:23.260 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 04:03:23.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 04:03:23.945 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 04:03:23.948 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 04:03:24.028 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 04:03:24.054 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 04:03:24.055 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 04:03:24.057 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 04:03:24.058 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 04:03:24.076 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 04:03:24.078 +03:00 [INF] Hosting environment: Development
2025-06-27 04:03:24.082 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 04:03:24.098 +03:00 [INF] Server mrrobot:18740:67cb9753 successfully announced in 17.4632 ms
2025-06-27 04:03:24.113 +03:00 [INF] Server mrrobot:18740:67cb9753 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 04:03:24.333 +03:00 [INF] Server mrrobot:18740:67cb9753 all the dispatchers started
2025-06-27 04:03:24.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 04:03:24.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 194.2828ms
2025-06-27 04:03:24.676 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 04:03:24.685 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 8.8738ms
2025-06-27 04:03:24.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 04:03:24.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 04:03:24.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.8267ms
2025-06-27 04:03:24.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.6608ms
2025-06-27 04:03:24.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 04:03:25.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.4692ms
2025-06-27 04:03:56.295 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories - null null
2025-06-27 04:03:56.421 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:03:56.490 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:03:56.508 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 04:03:56.537 +03:00 [INF] Route matched with {action = "GetAll", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]]] GetAll() on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:03:56.775 +03:00 [INF] Executing GetAll in CategoryController
2025-06-27 04:03:56.782 +03:00 [INF] Getting cache for key: categoryall
2025-06-27 04:03:56.791 +03:00 [INF] Cache hit for key: categoryall
2025-06-27 04:03:56.809 +03:00 [INF] Cache hit for all categories
2025-06-27 04:03:56.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-27 04:03:56.907 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetAll (E-Commerce) in 350.2793ms
2025-06-27 04:03:56.952 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetAll (E-Commerce)'
2025-06-27 04:03:56.957 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories - 200 2769 application/json; charset=utf-8 662.3096ms
2025-06-27 04:06:07.367 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:06:07.378 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:06:07.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:06:07.398 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:06:07.411 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:06:07.439 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:06:07.443 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:06:07.445 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:06:07.449 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:06:07.452 +03:00 [INF] Cache hit for category 22
2025-06-27 04:06:07.456 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:06:07.461 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 45.9568ms
2025-06-27 04:06:07.468 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:06:07.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 105.2687ms
2025-06-27 04:06:51.335 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:06:51.342 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:06:51.350 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:06:51.357 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:06:51.359 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:06:51.376 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:06:51.378 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:06:51.380 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:06:51.384 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:06:51.385 +03:00 [INF] Cache hit for category 22
2025-06-27 04:06:51.390 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:06:51.393 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 30.0688ms
2025-06-27 04:06:51.395 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:06:51.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 62.2224ms
2025-06-27 04:06:56.388 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:06:56.393 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:06:56.398 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:06:56.403 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:06:56.405 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:06:56.409 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:06:56.411 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:06:56.412 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:06:56.415 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:06:56.419 +03:00 [INF] Cache hit for category 22
2025-06-27 04:06:56.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:06:56.424 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 15.4663ms
2025-06-27 04:06:56.426 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:06:56.428 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 39.9975ms
2025-06-27 04:07:00.114 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:07:00.277 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:07:00.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:07:00.311 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:07:00.326 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:07:00.331 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:07:00.337 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:07:00.340 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:07:00.341 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:07:00.343 +03:00 [INF] Cache hit for category 22
2025-06-27 04:07:00.344 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:07:00.347 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 17.6052ms
2025-06-27 04:07:00.359 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:07:00.361 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 248.5371ms
2025-06-27 04:07:08.782 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:07:09.055 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:07:09.060 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:07:09.080 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:07:09.173 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:07:09.176 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:07:09.177 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:07:09.179 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:07:09.184 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:07:09.186 +03:00 [INF] Cache hit for category 22
2025-06-27 04:07:09.189 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:07:09.197 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 21.7074ms
2025-06-27 04:07:09.243 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:07:09.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 537.0691ms
2025-06-27 04:08:20.389 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:08:20.394 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:08:20.397 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:08:20.405 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:08:20.407 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:08:20.411 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:08:20.413 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:08:20.414 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:08:20.420 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:08:20.423 +03:00 [INF] Cache hit for category 22
2025-06-27 04:08:20.424 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:08:20.427 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 16.7679ms
2025-06-27 04:08:20.444 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:08:20.446 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 56.9739ms
2025-06-27 04:08:24.154 +03:00 [INF] 1 servers were removed due to timeout
2025-06-27 04:08:25.059 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:08:25.063 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:08:25.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:08:25.076 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:08:25.078 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:08:25.082 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:08:25.084 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:08:25.087 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:08:25.090 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:08:25.092 +03:00 [INF] Cache hit for category 22
2025-06-27 04:08:25.093 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:08:25.096 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 14.7771ms
2025-06-27 04:08:25.100 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:08:25.109 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 49.9813ms
2025-06-27 04:08:45.039 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:08:45.052 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:08:45.078 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:08:45.194 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:08:45.311 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:08:45.330 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:08:45.343 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:08:45.354 +03:00 [INF] Getting cache for key: categoryid:22
2025-06-27 04:08:45.356 +03:00 [INF] Cache hit for key: categoryid:22
2025-06-27 04:08:45.363 +03:00 [INF] Cache hit for category 22
2025-06-27 04:08:45.411 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:08:45.429 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 99.901ms
2025-06-27 04:08:46.761 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:08:46.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 749 application/json; charset=utf-8 1934.4661ms
2025-06-27 04:09:11.561 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 04:09:12.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 04:09:13.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 04:09:13.040 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 04:09:13.058 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 04:09:13.105 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 04:09:13.565 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 04:09:13.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 04:09:13.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 04:09:14.284 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 04:09:14.286 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 04:09:14.355 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 04:09:14.370 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 04:09:14.371 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 04:09:14.373 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 04:09:14.377 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 04:09:14.392 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 04:09:14.393 +03:00 [INF] Hosting environment: Development
2025-06-27 04:09:14.395 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 04:09:14.409 +03:00 [INF] Server mrrobot:4332:ab99b348 successfully announced in 13.0286 ms
2025-06-27 04:09:14.429 +03:00 [INF] Server mrrobot:4332:ab99b348 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 04:09:14.616 +03:00 [INF] Server mrrobot:4332:ab99b348 all the dispatchers started
2025-06-27 04:09:14.867 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 04:09:15.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 203.5265ms
2025-06-27 04:09:15.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 04:09:15.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 04:09:15.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 04:09:15.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 19.3447ms
2025-06-27 04:09:15.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 26.6285ms
2025-06-27 04:09:15.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.4099ms
2025-06-27 04:09:15.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 04:09:15.403 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 68.3166ms
2025-06-27 04:09:30.704 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:09:30.810 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:09:30.875 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:09:30.900 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:09:30.927 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:09:31.161 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:09:31.163 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:09:31.166 +03:00 [INF] Executing GetCategoryById for id: 22
2025-06-27 04:09:31.291 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE `c`.`Id` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`Id`
2025-06-27 04:09:31.405 +03:00 [INF] Category with id :22  exsist
2025-06-27 04:09:31.447 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:09:31.493 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 550.1181ms
2025-06-27 04:09:31.511 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:09:31.528 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 1037 application/json; charset=utf-8 823.7348ms
2025-06-27 04:10:30.698 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:10:30.951 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2025 1:05:01 AM', Current time (UTC): '6/27/2025 1:10:30 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-27 04:10:30.963 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/27/2025 1:05:01 AM', Current time (UTC): '6/27/2025 1:10:30 AM'.
2025-06-27 04:10:30.980 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:10:31.014 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-27 04:10:31.058 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-27 04:10:31.061 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 401 0 null 363.8287ms
2025-06-27 04:10:40.895 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7288/api/Account/Login - application/json 75
2025-06-27 04:10:40.980 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:10:41.156 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-27 04:10:41.214 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commers.DtoModels.AccountDtos.LoginDTo) on controller E_Commers.Controllers.AccountController (E-Commerce).
2025-06-27 04:10:41.352 +03:00 [INF] In LoginAsync Method 
2025-06-27 04:10:41.360 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 04:10:41.468 +03:00 [INF] 🔐 Generating Access Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 04:10:41.511 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-06-27 04:10:41.536 +03:00 [INF] ✅ Access Token generated successfully for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 04:10:41.540 +03:00 [INF] 🔑 Generating Refresh Token for User ID: d095229b-081d-426d-bc38-a45575852f91
2025-06-27 04:10:41.550 +03:00 [INF] RefreshToken Generated
2025-06-27 04:10:41.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:10:41.565 +03:00 [INF] Executed action E_Commers.Controllers.AccountController.LoginAsync (E-Commerce) in 346.8294ms
2025-06-27 04:10:41.567 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-06-27 04:10:41.581 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7288/api/Account/Login - 200 1378 application/json; charset=utf-8 694.3028ms
2025-06-27 04:12:35.674 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7288/api/categories/22 - null null
2025-06-27 04:12:35.682 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-06-27 04:12:35.699 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`SecurityStamp`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userId_0)
LIMIT 1
2025-06-27 04:12:35.703 +03:00 [INF] Executing endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:12:35.707 +03:00 [INF] Route matched with {action = "GetByIdAsync", controller = "categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commers.DtoModels.Responses.ApiResponse`1[E_Commers.DtoModels.CategoryDtos.CategoryDto]]] GetByIdAsync(Int32) on controller E_Commers.Controllers.categoriesController (E-Commerce).
2025-06-27 04:12:35.715 +03:00 [INF] Executing GetByIdAsync in CategoryController for id: 22
2025-06-27 04:12:35.717 +03:00 [INF] Execute:GetCategoryByIdAsync in services
2025-06-27 04:12:35.718 +03:00 [INF] Executing GetCategoryById for id: 22
2025-06-27 04:12:35.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DisplayOrder`, `t`.`ImageId`, `t`.`ModifiedAt`, `t`.`Name`, `i`.`Id`, `i`.`AltText`, `i`.`CategoryId`, `i`.`CollectionId`, `i`.`CreatedAt`, `i`.`DeletedAt`, `i`.`FileSize`, `i`.`FileType`, `i`.`Folder`, `i`.`Height`, `i`.`IsMain`, `i`.`ModifiedAt`, `i`.`ProductId`, `i`.`SubCategoryId`, `i`.`Title`, `i`.`UploadDate`, `i`.`Url`, `i`.`Width`
FROM (
    SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`ImageId`, `c`.`ModifiedAt`, `c`.`Name`
    FROM `Categories` AS `c`
    WHERE `c`.`Id` = @__id_0
    LIMIT 1
) AS `t`
LEFT JOIN `Images` AS `i` ON `t`.`Id` = `i`.`CategoryId`
ORDER BY `t`.`Id`
2025-06-27 04:12:35.730 +03:00 [INF] Category with id :22  exsist
2025-06-27 04:12:35.732 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commers.DtoModels.Responses.ApiResponse`1[[E_Commers.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-27 04:12:35.735 +03:00 [INF] Executed action E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce) in 21.9682ms
2025-06-27 04:12:35.745 +03:00 [INF] Executed endpoint 'E_Commers.Controllers.categoriesController.GetByIdAsync (E-Commerce)'
2025-06-27 04:12:35.748 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7288/api/categories/22 - 200 1037 application/json; charset=utf-8 73.8212ms
2025-06-27 04:13:11.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 04:13:11.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 31.7338ms
2025-06-27 04:13:11.296 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 04:13:11.302 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 6.0616ms
2025-06-27 04:13:11.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 04:13:11.308 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 04:13:11.317 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.0915ms
2025-06-27 04:13:11.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7043ms
2025-06-27 04:13:11.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 04:13:11.619 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.7483ms
2025-06-27 04:14:14.466 +03:00 [INF] 1 servers were removed due to timeout
2025-06-27 04:20:25.473 +03:00 [INF] DB tables already exist. Exit install
2025-06-27 04:20:27.132 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 04:20:27.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-06-27 04:20:27.171 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-06-27 04:20:27.189 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-06-27 04:20:27.216 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-27 04:20:27.585 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 04:20:27.651 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-06-27 04:20:27.683 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-06-27 04:20:28.600 +03:00 [INF] Now listening on: https://localhost:7288
2025-06-27 04:20:28.603 +03:00 [INF] Now listening on: http://localhost:5069
2025-06-27 04:20:28.701 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-06-27 04:20:28.789 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-06-27 04:20:28.792 +03:00 [INF] Using the following options for SQL Server job storage:
2025-06-27 04:20:29.004 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-06-27 04:20:29.005 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-27 04:20:29.055 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-27 04:20:29.086 +03:00 [INF] Hosting environment: Development
2025-06-27 04:20:29.087 +03:00 [INF] Content root path: D:\fashion\Projcet\E-Commers\E-Commers
2025-06-27 04:20:29.104 +03:00 [INF] Server mrrobot:22768:a0913703 successfully announced in 30.5436 ms
2025-06-27 04:20:29.126 +03:00 [INF] Server mrrobot:22768:a0913703 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-27 04:20:29.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 04:20:29.194 +03:00 [INF] Server mrrobot:22768:a0913703 all the dispatchers started
2025-06-27 04:20:29.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 202.5008ms
2025-06-27 04:20:29.470 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 04:20:29.476 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 6.4876ms
2025-06-27 04:20:29.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 04:20:29.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 04:20:29.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 21.7198ms
2025-06-27 04:20:29.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.7186ms
2025-06-27 04:20:29.801 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 04:20:29.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.53ms
2025-06-27 04:21:54.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.html - null null
2025-06-27 04:21:54.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.html - 200 null text/html;charset=utf-8 23.7547ms
2025-06-27 04:21:54.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/index.js - null null
2025-06-27 04:21:54.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_vs/browserLink - null null
2025-06-27 04:21:54.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - null null
2025-06-27 04:21:54.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/index.js - 200 null application/javascript;charset=utf-8 9.1536ms
2025-06-27 04:21:54.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 14.4054ms
2025-06-27 04:21:54.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.113ms
2025-06-27 04:21:54.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - null null
2025-06-27 04:21:54.503 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7288/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.1608ms
